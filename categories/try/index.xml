<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Try on dotstudio（ドットスタジオ）</title>
    <link>https://dotstud.io/categories/try/</link>
    <description>Recent content in Try on dotstudio（ドットスタジオ）</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>© 2018 dotstudio inc.</copyright>
    <lastBuildDate>Tue, 28 Aug 2018 14:55:44 +0900</lastBuildDate>
    <atom:link href="/categories/try/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>【ソレノイド詳細解説】IoTの力でスマホを振るとソレノイドがシュコシュコ動く仕組みを作ってみる</title>
      <link>https://dotstud.io/blog/control-solenoid-nefrybt-nodered/</link>
      <pubDate>Tue, 28 Aug 2018 14:55:44 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/control-solenoid-nefrybt-nodered/</guid>
      
      <description>

&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/takudooon/&#34;&gt;たくろーどん&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://dotstud.io/series/driving/&#34;&gt;これまでの記事&lt;/a&gt;では、電子工作に使えそうな駆動部品を紹介してきました。サーボモータ、ステッピングモータときたら……次に使ってみたいのは&lt;strong&gt;ソレノイド&lt;/strong&gt;ですよね！&lt;/p&gt;

&lt;p&gt;ということで、ソレノイドをNefry BTで使えるようにしていきたいと思います。&lt;/p&gt;

&lt;p&gt;そして、最終的には&lt;strong&gt;スマートフォンをシェイクするとソレノイドをシュコシュコ動かせる&lt;/strong&gt;ようにしてみたいと思います。&lt;/p&gt;

&lt;p&gt;

&lt;section class=&#34;link&#34; id=&#34;187&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nefry-servo-handson-takudooon/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/187/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                PWM制御をマスターしよう！Node-REDでサーボモータを遠隔制御する方法＆初ハンズオンレポート
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-12
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                PWM制御でサーボモータを操作してモノ作りの幅を広げましょう！Node-REDを使ったハンズオンの内容を紹介します。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;

&lt;br /&gt;


&lt;section class=&#34;link&#34; id=&#34;189&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/stepper-motor-nefrybt-control/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/189/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                【詳細解説】ステッピングモータの仕組みを理解しよう！解説とNefry BTでステッピングモータを使う方法
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-23
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                モータの世界は奥が深いです。今回はロボットアームや3Dプリンタのステージ制御に利用される「ステッピングモータ」について詳細に解説します。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;

&lt;h2 id=&#34;ソレノイドのしくみ&#34;&gt;ソレノイドのしくみ&lt;/h2&gt;

&lt;p&gt;ソレノイドとは&lt;u&gt;&lt;strong&gt;銅線（コイル）に電流を流すことにより磁界を発生させ、磁性体の可動鉄芯を吸い寄せる（吸引）電気部品&lt;/strong&gt;&lt;/u&gt;のことです。電流を流している間は常に吸い寄せられていますが、電流を切ると吸引力はなくなります。&lt;/p&gt;

&lt;p&gt;下記に、その仕組みを簡単に示しました。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/2854b315-e58b-63f0-cd49-87d761625053.png&#34; alt=&#34;仕組み.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;また、この動作を応用して&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;プル（吸引）ソレノイド&lt;/li&gt;
&lt;li&gt;プッシュ（押し）ソレノイド：プッシュバーを装着した「吸引=押し」動作&lt;/li&gt;
&lt;li&gt;自己保持ソレノイド：永久磁石を組込むことによりそれぞれの動作を保持&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;といった種類があります。&lt;/p&gt;

&lt;h2 id=&#34;ソレノイドを使ってみる&#34;&gt;ソレノイドを使ってみる&lt;/h2&gt;

&lt;p&gt;まずは簡単な例として、Nefry BTについているスイッチを押すとソレノイドが動くようにしてみます。&lt;/p&gt;

&lt;h3 id=&#34;用意するもの&#34;&gt;用意するもの&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gI-02414/&#34;&gt;NchパワーMOSFET 2SK2232&lt;/a&gt;：スイッチングのために使用(FETはトランジスタと違って電圧でトリガーとなる)&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gP-10761/&#34;&gt;ソレノイド 5V ZHO-0420S-05A4.5A プッシュ型&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;整流ダイオード：逆起電力(ソレノイドへの電力供給停止後、ソレノイドの棒が元に戻るときに発生する起電力)を防止するため(マイコンの破壊を防止する)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;回路&#34;&gt;回路&lt;/h3&gt;

&lt;p&gt;※&lt;strong&gt;ソレノイドに極性(+、-)はありません&lt;/strong&gt;！なので、安心して配線しましょう！&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/255b91a2-7e2b-b5c9-6168-4cb604a35da2.png&#34; alt=&#34;回路図.png&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;プログラム&#34;&gt;プログラム&lt;/h3&gt;

&lt;p&gt;「&lt;a href=&#34;https://dotstud.io/docs/nefrybt-arduino-ide-setup/&#34;&gt;NefryBTの環境構築&lt;/a&gt;」を参考に、Nefry BTに下記のプログラムを書き込みます。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include&amp;lt;Nefry.h&amp;gt;

void setup() {
  Serial.print(115200);
  pinMode(D4, OUTPUT);
}

//FET:電圧閾値0.8～2.0V　今回使っているトランジスタの場合は！
void loop() {
  digitalWrite(D4,LOW);
  if(Nefry.readSW()){
  digitalWrite(D4,HIGH);
  }
}

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;動かしてみると&#34;&gt;動かしてみると&lt;/h3&gt;

&lt;p&gt;Nefry BTのスイッチを押すと、シュコシュコします。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://gyazo.com/25c5ea02c0fc0e3ab327f3aff4719f28&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/25c5ea02c0fc0e3ab327f3aff4719f28.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;iotでソレノイドをシュコシュコする&#34;&gt;IoTでソレノイドをシュコシュコする&lt;/h2&gt;

&lt;p&gt;それでは、スマートフォンをシェイクするとソレノイドをシュコシュコ動かせるようにしていきたいと思います。ここでは、スマートフォンの加速度を利用します（スマートフォンの加速度の利用する方法は&lt;a href=&#34;https://qiita.com/minwinmin/items/af1d8ba68d0ec3f52fa9&#34;&gt;こちら&lt;/a&gt;に少しまとめてあります）。&lt;/p&gt;

&lt;h3 id=&#34;node-redのフローを作る&#34;&gt;Node-Redのフローを作る&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://nodered.org/&#34;&gt;Node-RED&lt;/a&gt;で下記のようなフローを作成します。&lt;/p&gt;

&lt;p&gt;&lt;img width=&#34;929&#34; alt=&#34;node-redのフロー.png&#34; src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/29ef7cc8-9340-c1b2-4c82-0deac26eccc9.png&#34;&gt;&lt;/p&gt;

&lt;p&gt;Node-REDの詳細は前回の記事をご覧ください。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;187&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nefry-servo-handson-takudooon/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/187/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                PWM制御をマスターしよう！Node-REDでサーボモータを遠隔制御する方法＆初ハンズオンレポート
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-12
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                PWM制御でサーボモータを操作してモノ作りの幅を広げましょう！Node-REDを使ったハンズオンの内容を紹介します。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;div class=&#34;accbox&#34;&gt;
    &lt;label for=&#34;label1&#34;&gt;クリックしてコードを表示&lt;/labe&gt;
    &lt;input type=&#34;checkbox&#34; id=&#34;label1&#34; class=&#34;cssacc&#34; /&gt;
    &lt;div class=&#34;accshow&#34;&gt;
      &lt;pre&gt;
      &lt;code class=&#34;hljs hljs-line-numbers&#34;&gt;
      [
          {
              &#34;id&#34;: &#34;2c912723.4f0338&#34;,
              &#34;type&#34;: &#34;http in&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;&#34;,
              &#34;url&#34;: &#34;sensor4&#34;,
              &#34;method&#34;: &#34;get&#34;,
              &#34;upload&#34;: false,
              &#34;swaggerDoc&#34;: &#34;&#34;,
              &#34;x&#34;: 70,
              &#34;y&#34;: 100,
              &#34;wires&#34;: [
                  [
                      &#34;94c3393a.020d68&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;94c3393a.020d68&#34;,
              &#34;type&#34;: &#34;template&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;HTML&#34;,
              &#34;field&#34;: &#34;payload&#34;,
              &#34;fieldType&#34;: &#34;msg&#34;,
              &#34;format&#34;: &#34;html&#34;,
              &#34;syntax&#34;: &#34;mustache&#34;,
              &#34;template&#34;: &#34;&amp;lt;!DOCTYPE html&amp;gt;\n&amp;lt;html lang=\&#34;ja\&#34;&amp;gt;\n&amp;lt;head&amp;gt;\n&amp;lt;meta charset=\&#34;utf-8\&#34;&amp;gt;\n&amp;lt;meta name=\&#34;viewport\&#34; content=\&#34;width=device-width,initial-scale=1\&#34;&amp;gt;\n&amp;lt;title&amp;gt;加速度検出&amp;lt;/title&amp;gt;\n&amp;lt;/head&amp;gt;\n \n&amp;lt;body&amp;gt;\n&amp;lt;div id=\&#34;datatxt\&#34;&amp;gt;データの表示&amp;lt;/div&amp;gt; \n \n&amp;lt;script&amp;gt;\n    var encrypted = \&#34;{{{req.connection.encrypted}}}\&#34;;\n    if (encrypted === \&#34;true\&#34;) {\n        var wsUri = \&#34;wss://{{{req.hostname}}}:{{{req.connection.localPort}}}/accl1\&#34;;\n    }\n    else {\n        var wsUri = \&#34;ws://{{{req.hostname}}}:{{{req.connection.localPort}}}/accl1\&#34;;\n    }\n    var ws = new WebSocket(wsUri);\n\n    var accx = null;\n    var accy = null;\n    var accz = null;\n\n    function sendMessage() {\n        // 画面書き換え\n        var txt = \&#34;wsUri:\&#34; + wsUri + \&#34;&amp;lt;br&amp;gt;\&#34;;\n        txt += \&#34;x:\&#34; + accx + \&#34;&amp;lt;br&amp;gt;\&#34;;\n        txt += \&#34;y:\&#34; + accy + \&#34;&amp;lt;br&amp;gt;\&#34;;\n        txt += \&#34;z:\&#34; + accz + \&#34;&amp;lt;br&amp;gt;\&#34;;\n\n        var datatxt = document.getElementById(\&#34;datatxt\&#34;);\n        datatxt.innerHTML = txt;\n\n        // WebSocket送信\n        var payload = {\n            &#39;accx&#39;: accx,\n            &#39;accy&#39;: accy,\n            &#39;accz&#39;: accz,\n        };\n        ws.send(JSON.stringify(payload));\n    }\n\n    function handleMotionEvent(evt) {\n        //加速度\n        accx = evt.acceleration.x;\n        accy = evt.acceleration.y;\n        accz = evt.acceleration.z;\n    }\n\n    window.addEventListener(\&#34;devicemotion\&#34;, handleMotionEvent, true); //情報変更ごとにイベント発生\n    window.setInterval(sendMessage, 500); // 500msごとにイベント発生\n\n&amp;lt;/script&amp;gt;\n&amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;&#34;,
              &#34;output&#34;: &#34;str&#34;,
              &#34;x&#34;: 317.00000762939453,
              &#34;y&#34;: 100.00000286102295,
              &#34;wires&#34;: [
                  [
                      &#34;c9b732b9.d5df9&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;c9b732b9.d5df9&#34;,
              &#34;type&#34;: &#34;http response&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;&#34;,
              &#34;statusCode&#34;: &#34;&#34;,
              &#34;headers&#34;: {},
              &#34;x&#34;: 541.0000152587891,
              &#34;y&#34;: 100.00000190734863,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;af4fa6f9.139f88&#34;,
              &#34;type&#34;: &#34;websocket in&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;&#34;,
              &#34;server&#34;: &#34;250c9625.e420aa&#34;,
              &#34;client&#34;: &#34;&#34;,
              &#34;x&#34;: 60,
              &#34;y&#34;: 220,
              &#34;wires&#34;: [
                  [
                      &#34;1c16e58e.096d5a&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;1c16e58e.096d5a&#34;,
              &#34;type&#34;: &#34;json&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;加速度をjson形式に変換&#34;,
              &#34;property&#34;: &#34;payload&#34;,
              &#34;action&#34;: &#34;&#34;,
              &#34;pretty&#34;: false,
              &#34;x&#34;: 310,
              &#34;y&#34;: 320,
              &#34;wires&#34;: [
                  [
                      &#34;b50a0d6c.0c67a&#34;,
                      &#34;10eecadd.b9fbe5&#34;,
                      &#34;1c843637.566a8a&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;b50a0d6c.0c67a&#34;,
              &#34;type&#34;: &#34;switch&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;加速度判定&#34;,
              &#34;property&#34;: &#34;payload.accz&#34;,
              &#34;propertyType&#34;: &#34;msg&#34;,
              &#34;rules&#34;: [
                  {
                      &#34;t&#34;: &#34;gt&#34;,
                      &#34;v&#34;: &#34;10&#34;,
                      &#34;vt&#34;: &#34;num&#34;
                  },
                  {
                      &#34;t&#34;: &#34;btwn&#34;,
                      &#34;v&#34;: &#34;6&#34;,
                      &#34;vt&#34;: &#34;num&#34;,
                      &#34;v2&#34;: &#34;10&#34;,
                      &#34;v2t&#34;: &#34;num&#34;
                  },
                  {
                      &#34;t&#34;: &#34;lte&#34;,
                      &#34;v&#34;: &#34;5&#34;,
                      &#34;vt&#34;: &#34;num&#34;
                  }
              ],
              &#34;checkall&#34;: &#34;true&#34;,
              &#34;repair&#34;: false,
              &#34;outputs&#34;: 3,
              &#34;x&#34;: 533.0000152587891,
              &#34;y&#34;: 312.0000088214874,
              &#34;wires&#34;: [
                  [
                      &#34;326dd035.413f1&#34;
                  ],
                  [
                      &#34;dddabb62.392ea8&#34;
                  ],
                  [
                      &#34;7c53f99b.cba9e8&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;ec7a3c72.a1361&#34;,
              &#34;type&#34;: &#34;debug&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;&#34;,
              &#34;active&#34;: true,
              &#34;tosidebar&#34;: true,
              &#34;console&#34;: false,
              &#34;tostatus&#34;: false,
              &#34;complete&#34;: &#34;payload&#34;,
              &#34;x&#34;: 1110,
              &#34;y&#34;: 320,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;d1c70b54.eb01d8&#34;,
              &#34;type&#34;: &#34;comment&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;加速度を出力&#34;,
              &#34;info&#34;: &#34;&#34;,
              &#34;x&#34;: 70,
              &#34;y&#34;: 60,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;10eecadd.b9fbe5&#34;,
              &#34;type&#34;: &#34;mqtt out&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;/NefryBT/SOLE&#34;,
              &#34;topic&#34;: &#34;/NefryBT/SOLE&#34;,
              &#34;qos&#34;: &#34;&#34;,
              &#34;retain&#34;: &#34;&#34;,
              &#34;broker&#34;: &#34;f9299578.86bcb8&#34;,
              &#34;x&#34;: 470.0000915527344,
              &#34;y&#34;: 530.0000152587891,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;1c843637.566a8a&#34;,
              &#34;type&#34;: &#34;debug&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;&#34;,
              &#34;active&#34;: false,
              &#34;tosidebar&#34;: true,
              &#34;console&#34;: false,
              &#34;tostatus&#34;: false,
              &#34;complete&#34;: &#34;payload&#34;,
              &#34;x&#34;: 311.00004959106445,
              &#34;y&#34;: 583.0000152587891,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;326dd035.413f1&#34;,
              &#34;type&#34;: &#34;change&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;accz &amp;gt; 10 のときの文字列「large」&#34;,
              &#34;rules&#34;: [
                  {
                      &#34;t&#34;: &#34;set&#34;,
                      &#34;p&#34;: &#34;payload&#34;,
                      &#34;pt&#34;: &#34;msg&#34;,
                      &#34;to&#34;: &#34;large&#34;,
                      &#34;tot&#34;: &#34;str&#34;
                  }
              ],
              &#34;action&#34;: &#34;&#34;,
              &#34;property&#34;: &#34;&#34;,
              &#34;from&#34;: &#34;&#34;,
              &#34;to&#34;: &#34;&#34;,
              &#34;reg&#34;: false,
              &#34;x&#34;: 818.000020980835,
              &#34;y&#34;: 274.00000762939453,
              &#34;wires&#34;: [
                  [
                      &#34;ec7a3c72.a1361&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;dddabb62.392ea8&#34;,
              &#34;type&#34;: &#34;change&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;accz:6~10 のときの文字列「medium」&#34;,
              &#34;rules&#34;: [
                  {
                      &#34;t&#34;: &#34;set&#34;,
                      &#34;p&#34;: &#34;payload&#34;,
                      &#34;pt&#34;: &#34;msg&#34;,
                      &#34;to&#34;: &#34;medium&#34;,
                      &#34;tot&#34;: &#34;str&#34;
                  }
              ],
              &#34;action&#34;: &#34;&#34;,
              &#34;property&#34;: &#34;&#34;,
              &#34;from&#34;: &#34;&#34;,
              &#34;to&#34;: &#34;&#34;,
              &#34;reg&#34;: false,
              &#34;x&#34;: 840,
              &#34;y&#34;: 320,
              &#34;wires&#34;: [
                  [
                      &#34;ec7a3c72.a1361&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;7c53f99b.cba9e8&#34;,
              &#34;type&#34;: &#34;change&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;accz &amp;lt;= 5 のときの文字列「small」&#34;,
              &#34;rules&#34;: [
                  {
                      &#34;t&#34;: &#34;set&#34;,
                      &#34;p&#34;: &#34;payload&#34;,
                      &#34;pt&#34;: &#34;msg&#34;,
                      &#34;to&#34;: &#34;small&#34;,
                      &#34;tot&#34;: &#34;str&#34;
                  }
              ],
              &#34;action&#34;: &#34;&#34;,
              &#34;property&#34;: &#34;&#34;,
              &#34;from&#34;: &#34;&#34;,
              &#34;to&#34;: &#34;&#34;,
              &#34;reg&#34;: false,
              &#34;x&#34;: 820,
              &#34;y&#34;: 360,
              &#34;wires&#34;: [
                  [
                      &#34;ec7a3c72.a1361&#34;
                  ]
              ]
          },
          {
              &#34;id&#34;: &#34;53d3ea65.523574&#34;,
              &#34;type&#34;: &#34;comment&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;加速度を受信して橋渡し&#34;,
              &#34;info&#34;: &#34;&#34;,
              &#34;x&#34;: 110,
              &#34;y&#34;: 180,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;422cdf71.4a17e&#34;,
              &#34;type&#34;: &#34;comment&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;MQTTで加速度をjson形式で送信&#34;,
              &#34;info&#34;: &#34;&#34;,
              &#34;x&#34;: 520.0000152587891,
              &#34;y&#34;: 490.00001430511475,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;d24b4e1f.58b25&#34;,
              &#34;type&#34;: &#34;comment&#34;,
              &#34;z&#34;: &#34;57519a9b.8fba94&#34;,
              &#34;name&#34;: &#34;デバック画面に加速度の具合を表示させる部分&#34;,
              &#34;info&#34;: &#34;&#34;,
              &#34;x&#34;: 641.0000152587891,
              &#34;y&#34;: 226.00000667572021,
              &#34;wires&#34;: []
          },
          {
              &#34;id&#34;: &#34;250c9625.e420aa&#34;,
              &#34;type&#34;: &#34;websocket-listener&#34;,
              &#34;z&#34;: &#34;&#34;,
              &#34;path&#34;: &#34;/accl1&#34;,
              &#34;wholemsg&#34;: &#34;false&#34;
          },
          {
              &#34;id&#34;: &#34;f9299578.86bcb8&#34;,
              &#34;type&#34;: &#34;mqtt-broker&#34;,
              &#34;z&#34;: &#34;&#34;,
              &#34;name&#34;: &#34;&#34;,
              &#34;broker&#34;: &#34;http://test.mosquitto.org/&#34;,
              &#34;port&#34;: &#34;1883&#34;,
              &#34;clientid&#34;: &#34;&#34;,
              &#34;usetls&#34;: false,
              &#34;compatmode&#34;: true,
              &#34;keepalive&#34;: &#34;60&#34;,
              &#34;cleansession&#34;: true,
              &#34;birthTopic&#34;: &#34;&#34;,
              &#34;birthQos&#34;: &#34;0&#34;,
              &#34;birthPayload&#34;: &#34;&#34;,
              &#34;closeTopic&#34;: &#34;&#34;,
              &#34;closeQos&#34;: &#34;0&#34;,
              &#34;closePayload&#34;: &#34;&#34;,
              &#34;willTopic&#34;: &#34;&#34;,
              &#34;willQos&#34;: &#34;0&#34;,
              &#34;willPayload&#34;: &#34;&#34;
          }
      ]
      &lt;/code&gt;
      &lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;h3 id=&#34;nefry-btにプログラムを書き込む&#34;&gt;Nefry BTにプログラムを書き込む&lt;/h3&gt;

&lt;p&gt;Nefry BTに書き込むプログラムはこちらです。&lt;/p&gt;

&lt;div class=&#34;accbox&#34;&gt;
    &lt;label for=&#34;label2&#34;&gt;クリックしてコードを表示&lt;/labe&gt;
    &lt;input type=&#34;checkbox&#34; id=&#34;label2&#34; class=&#34;cssacc&#34; /&gt;
    &lt;div class=&#34;accshow&#34;&gt;
      &lt;pre&gt;
      &lt;code class=&#34;language-c++ hljs cpp&#34;&gt;
      #include &amp;lt;Nefry.h&amp;gt;
      #include &amp;lt;WiFiClient.h&amp;gt;
      #include &amp;lt;PubSubClient.h&amp;gt;
      #include &amp;lt;ArduinoJson.h&amp;gt;

      IPAddress endpoint;
      const int port = 1883;

      const char *pubTopic;
      const char *subTopic;
      const char *deviceName;
      const char *mqtt_server = &#34;test.mosquitto.org&#34;;

      WiFiClient httpsClient;
      PubSubClient mqttClient(httpsClient);



      void setup() {
        ////ソレノイドのピン設定/////////////////////////////////
        pinMode(D4, OUTPUT);

        //// NefryBT設定 ////////////////////////////////////////

        // NefryBT
        subTopic = &#34;/NefryBT/SOLE&#34;;
        deviceName = &#34;NefryBT_SOLE&#34;;  // 複数台で利用する場合は必ずかぶらないように変更する

        Serial.begin(115200);

        mqttClient.setServer(mqtt_server, port);
        mqttClient.setCallback(mqttCallback);

        connectMQTT();
      }

      void connectMQTT() {
          Serial.println(&#34;connectMQTT&#34;);
          Serial.println(deviceName);
          while (!mqttClient.connected()) {
            Serial.print(&#34;.&#34;);
              if (mqttClient.connect(deviceName)) {
                  Serial.println(&#34;Connected.&#34;);
                  int qos = 0;
                  mqttClient.subscribe(subTopic, qos);
                  Serial.println(&#34;Subscribed.&#34;);
              } else {
                  Serial.print(&#34;Failed. Error state=&#34;);
                  Serial.print(mqttClient.state());
                  // Wait 5 seconds before retrying
                  delay(5000);
              }
          }
      }

      char pubMessage[128];

      void mqttCallback (char* topic, byte* payload, unsigned int length) {

          String str = &#34;&#34;;
          Serial.print(&#34;Received. topic=&#34;);
          Serial.println(topic);
          for (int i = 0; i &lt; length; i++) {
              Serial.print((char)payload[i]);
              str += (char)payload[i];
          }
          Serial.print(&#34;\n&#34;);

          StaticJsonBuffer&lt;200&gt; jsonBuffer;

          JsonObject&amp; root = jsonBuffer.parseObject(str);

          // パースが成功かどうか判断
          if (!root.success()) {
            Serial.println(&#34;parseObject() failed&#34;);
            return;
          }
         //z軸方向の加速度を取り出している
          const char* message = root[&#34;message&#34;];
          int accz = root[&#34;accz&#34;];

          Serial.print(&#34;accz = &#34;);
          Serial.println(accz);

         //加速度に応じてソレノイドのシュコシュコ速度が変化
          if(accz &gt;= 10 || accz &lt;= -10){
             Serial.println(&#34;シュコシュコシュコ&#34;);
             digitalWrite(D4,LOW);
             delay(50);
             digitalWrite(D4,HIGH);
             delay(50);
          }else if(10 &gt; accz &gt;= 6 || -10 &lt; accz &lt;= 6){
             Serial.println(&#34;シュコシュコ&#34;);
             digitalWrite(D4,LOW);
             delay(200);
             digitalWrite(D4,HIGH);
             delay(200);
          }else{
             Serial.println(&#34;シュコ&#34;);
             digitalWrite(D4,LOW);
             delay(500);
             digitalWrite(D4,HIGH);
             delay(500);    
          }

          delay(100);

      }

      void mqttLoop() {
          if (!mqttClient.connected()) {
              connectMQTT();
          }
          mqttClient.loop();
      }

      void loop() {
        mqttLoop();
       }
      &lt;/code&gt;
      &lt;/pre&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;h3 id=&#34;動かしてみると-1&#34;&gt;動かしてみると&lt;/h3&gt;

&lt;p&gt;シリアルモニタを見てみると、スマートフォンの加速度の変化に応じて値が表示されます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/7fb2accc-5f35-bc31-7366-04d7e0c2de99.gif&#34; alt=&#34;ソレノイド＿シュコシュコ事案.gif&#34; /&gt;&lt;/p&gt;

&lt;p&gt;下記のようにスマートフォンをシェイクすると、ソレノイドの挙動が変化してます（音をよく聞くと、ソレノイドが早く動いたり遅く動いたりしているのがわかります)。&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;ソレノイド探求です。&lt;br&gt;スマホの加速度に応じてソレノイドのシュコシュコ具合が変化します。&lt;br&gt; &lt;a href=&#34;https://t.co/6qugBugDOU&#34;&gt;https://t.co/6qugBugDOU&lt;/a&gt; &lt;a href=&#34;https://twitter.com/YouTube?ref_src=twsrc%5Etfw&#34;&gt;@YouTube&lt;/a&gt;さんから&lt;/p&gt; たくろーどん (@takudooon) &lt;a href=&#34;https://twitter.com/takudooon/status/1027809093992378369?ref_src=twsrc%5Etfw&#34;&gt;2018年8月10日&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;無事、&lt;strong&gt;スマートフォンをシェイクするとソレノイドをシュコシュコ動かすデバイス&lt;/strong&gt;ができました！&lt;/p&gt;

&lt;h2 id=&#34;ソレノイドを使った機構の例&#34;&gt;ソレノイドを使った機構の例&lt;/h2&gt;

&lt;p&gt;ソレノイドはシンプルな動作をしますが、何かをつくるときの機構として使うことができます。動画ではソレノイドを上下させることでクラッピーに拍手させています。工夫次第では面白い機構が作れるでしょう。&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;ソレノイドを用いた機構 &lt;a href=&#34;https://t.co/Y3KeMOUg1z&#34;&gt;https://t.co/Y3KeMOUg1z&lt;/a&gt; &lt;a href=&#34;https://twitter.com/YouTube?ref_src=twsrc%5Etfw&#34;&gt;@YouTube&lt;/a&gt;さんから&lt;/p&gt; たくろーどん (@takudooon) &lt;a href=&#34;https://twitter.com/takudooon/status/1027545863197843456?ref_src=twsrc%5Etfw&#34;&gt;2018年8月9日&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;

&lt;p&gt;発想は自分次第です。
ソレノイドを使って面白いデバイスをつくってみてください！&lt;/p&gt;

&lt;h2 id=&#34;参考&#34;&gt;参考&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://www.takaha.co.jp/technological/action.html&#34;&gt;ソレノイドの動作説明&lt;/a&gt;: ソレノイドの製造・販売で有名なタカハ機工株式会社より&lt;/p&gt;

&lt;style&gt;
.accbox {
    margin: 2em 0;
    padding: 0;
    max-width: 710px;
}


.accbox label {
    display: block;
    margin: 1.5px 0;
    padding : 11px 12px;
    color :#ffffff;
    font-weight: bold;
    background :#2f2f2f;
    cursor :pointer;
    transition: all 0.5s;
}

.accbox label:hover {
    background :#A4A4A4;
}

.accbox input {
    display: none;
}

.accbox .accshow {
    height: 0;
    padding: 0;
    overflow: hidden;
    opacity: 0;
    transition: 0.8s;
}

.cssacc:checked + .accshow {
    height: auto;
    padding: 5px;
    background: #eaeaea;
    opacity: 1;
}
&lt;/style&gt;
</description>
    </item>
    
    <item>
      <title>ClovaスキルでMP3ファイルを再生してみよう #asciihack #linebootawards</title>
      <link>https://dotstud.io/blog/nodejs-clova-skill-mp3/</link>
      <pubDate>Sat, 25 Aug 2018 21:23:40 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/nodejs-clova-skill-mp3/</guid>
      
      <description>

&lt;p&gt;こんにちは、代表の&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;n0bisuke&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://asciistartup.connpass.com/event/91483/&#34;&gt;&lt;code&gt;#asciihack&lt;/code&gt;&lt;/a&gt; にてClovaでMP3再生したいという話があったので試してみました。&lt;/p&gt;

&lt;p&gt;ハッカソン中の走り書きです。ご了承ください。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;デモを先にみたい人は&lt;a href=&#34;https://dotstud.io/blog/nodejs-clova-skill-mp3/#デモ&#34;&gt;ページ下部&lt;/a&gt;へ！&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Google Homeで有名な、&lt;code&gt;みそ氏&lt;/code&gt;の&lt;a href=&#34;https://qiita.com/miso_develop/items/6b256c1e8757c0ace4a9&#34;&gt;Clova公式SDK(Node.js)の使い方まとめ&lt;/a&gt;が参考になります。&lt;/p&gt;

&lt;p&gt;Node.jsのSDKでのやり方です。ちなみにNode.jsのバージョンは10.8.0で試しています。&lt;/p&gt;

&lt;p&gt;CEKの細かい仕様には触れません。&lt;/p&gt;

&lt;h2 id=&#34;一旦スキルを作る&#34;&gt;一旦スキルを作る&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://dotstud.io/blog/clova-cek-nodejs-tutorial/&#34;&gt;Clova CEKでのスキル開発の始め方〜Node.jsで開発スタート編〜&lt;/a&gt;などを読みつつClova CEKのSDKをインストールしつつ対話モデル作ったり、Clovaスキルの基本を作りましょう。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;195&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/clova-cek-nodejs-tutorial/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/195/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                Clova CEKでのスキル開発の始め方〜Node.jsで開発スタート編〜
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-08-03
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Clova CEKのNode.jsチュートリアルです。カレースキルを作ります。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;p&gt;この記事のコードを見ると該当箇所が分かります。&lt;/p&gt;

&lt;h2 id=&#34;起動時にmp3を再生&#34;&gt;起動時にMP3を再生&lt;/h2&gt;

&lt;p&gt;基本は以下のように、指定したサーバー上のMP3を再生できます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;responseHelper.setSimpleSpeech(
    clova.SpeechBuilder.createSpeechUrl(&#39;https://exsample.com/myaudio.mp3&#39;)
);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;.onLaunchRequest()&lt;/code&gt;の中で実行すれば起動時にMP3を再生できます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;//起動時に喋る
.onLaunchRequest(responseHelper =&amp;gt; {
    responseHelper.setSimpleSpeech(
        clova.SpeechBuilder.createSpeechUrl(&#39;https://exsample.com/myaudio.mp3&#39;)
    );
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;このコードは前に書いたチュートリアルの一部を改変しているので、どこが該当箇所か確認してみて下さい。&lt;/p&gt;

&lt;p&gt;

&lt;section class=&#34;link&#34; id=&#34;195&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/clova-cek-nodejs-tutorial/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/195/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                Clova CEKでのスキル開発の始め方〜Node.jsで開発スタート編〜
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-08-03
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Clova CEKのNode.jsチュートリアルです。カレースキルを作ります。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;

&lt;h2 id=&#34;呼びかけてmp3を再生&#34;&gt;呼びかけてMP3を再生&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;.onIntentRequest()&lt;/code&gt;の中で実行すれば呼びかけに応じてMP3を再生できます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; //ユーザーからの発話が来たら反応する箇所
.onIntentRequest(async responseHelper =&amp;gt; {
    responseHelper.setSimpleSpeech(
        clova.SpeechBuilder.createSpeechUrl(&#39;https://exsample.com/myaudio.mp3&#39;)
    );
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;mp3を連続再生&#34;&gt;MP3を連続再生&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;responseHelper.setSimpleSpeech()&lt;/code&gt;で1回再生できましたが、&lt;code&gt;responseHelper.setSpeechList()&lt;/code&gt;では配列を与えることで連続再生が出来ます。&lt;/p&gt;

&lt;p&gt;(謎に)10回再生。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;//省略
let SpeechList = [];
for (let index = 0; index &amp;lt; 10; index++) {
    SpeechList.push(clova.SpeechBuilder.createSpeechUrl(&#39;https://exsample.com/myaudio.mp3&#39;));
}
responseHelper.setSpeechList(SpeechList);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;デモ&#34;&gt;デモ&lt;/h2&gt;

&lt;p&gt;シオカラーズが応援してくれるサンプル。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;のびすけ: 応援スキルを起動して&lt;/li&gt;
&lt;li&gt;Clova: mp3再生&lt;/li&gt;
&lt;li&gt;のびすけ: もっと応援して&lt;/li&gt;
&lt;li&gt;Clova: mp3を10回再生&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;instagram-media&#34; data-instgrm-captioned data-instgrm-permalink=&#34;https://www.instagram.com/p/Bm5rRMhBszI/?utm_source=ig_embed&#34; data-instgrm-version=&#34;9&#34; style=&#34; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&#34;&gt;&lt;div style=&#34;padding:8px;&#34;&gt; &lt;div style=&#34; background:#F8F8F8; line-height:0; margin-top:40px; padding:28.125% 0; text-align:center; width:100%;&#34;&gt; &lt;div style=&#34; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&#34;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&#34; margin:8px 0 0 0; padding:0 4px;&#34;&gt; &lt;a href=&#34;https://www.instagram.com/p/Bm5rRMhBszI/?utm_source=ig_embed&#34; style=&#34; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&#34; target=&#34;_blank&#34;&gt;MP3再生してみている #asciihack&lt;/a&gt;&lt;/p&gt; &lt;p style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&#34;&gt;&lt;a href=&#34;https://www.instagram.com/n0bisuke/?utm_source=ig_embed&#34; style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&#34; target=&#34;_blank&#34;&gt; n0bisuke&lt;/a&gt;さん(@n0bisuke)がシェアした投稿 - &lt;time style=&#34; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&#34; datetime=&#34;2018-08-25T12:05:46+00:00&#34;&gt;2018年 8月月25日午前5時05分PDT&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt; &lt;script async defer src=&#34;//www.instagram.com/embed.js&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;音源、権利的に大丈夫かな&amp;hellip;&amp;hellip;ガクブル
（怒られたら直そう）&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;基本の形は&lt;code&gt;clova.SpeechBuilder.createSpeechUrl(&#39;https://exsample.com/myaudio.mp3&#39;)&lt;/code&gt;で再生出来ます。&lt;/p&gt;

&lt;p&gt;1回再生は&lt;code&gt;responseHelper.setSimpleSpeech()&lt;/code&gt;で、連続再生は&lt;code&gt;responseHelper.setSpeechList()&lt;/code&gt;で&lt;code&gt;clova.SpeechBuilder.createSpeechUrl()&lt;/code&gt;を実行です。&lt;/p&gt;

&lt;p&gt;細かい仕様が気になる人は&lt;a href=&#34;https://clova-developers.line.me/guide/#/CEK/Guides/Build_Custom_Extension.md#DirectClientToPlayAudio&#34;&gt;ドキュメントのこの辺&lt;/a&gt;をご参照ください！&lt;/p&gt;

&lt;p&gt;ではでは、引き続きハッカソンがんばりましょ！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Azure WebAppsでカスタムドメイン&#43;SSL対応するメモ</title>
      <link>https://dotstud.io/blog/webapps-custom-domain-ssl/</link>
      <pubDate>Tue, 21 Aug 2018 15:51:00 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/webapps-custom-domain-ssl/</guid>
      
      <description>

&lt;p&gt;こんにちは、代表の&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;n0bisuke&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;うちの会社では&lt;strong&gt;Azure&lt;/strong&gt;をよく使ってます。僕個人だとAzureのPaaSサービスの&lt;strong&gt;WebApps&lt;/strong&gt;（Heroku的なやつです）をよく使うのですが、カスタムドメインでの運用とSSL対応で詰まったので手順を紹介していきます。&lt;/p&gt;

&lt;p&gt;この手のサービスはUIがガンガン変わるので、2018年8月版って感じですね。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ちなみに今日は甲子園決勝で大阪桐蔭高校VS秋田県立金足農業高校の試合を見ながら記事を書いてます。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;金足頑張れ〜！&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;「さすがに見るでしょ」と言いながら甲子園観戦し始める東北出身のしゃちょー &lt;a href=&#34;https://twitter.com/hashtag/%E3%82%B9%E3%82%BF%E3%82%B8%E3%82%AA%E6%97%A5%E8%AA%8C?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#スタジオ日誌&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/dotstudio?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#dotstudio&lt;/a&gt; &lt;a href=&#34;https://t.co/hg89N055o2&#34;&gt;pic.twitter.com/hg89N055o2&lt;/a&gt;&lt;/p&gt; ドットスタジオ (@dotstud_io) &lt;a href=&#34;https://twitter.com/dotstud_io/status/1031780753850265600?ref_src=twsrc%5Etfw&#34;&gt;2018年8月21日&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;azure-web-apps&#34;&gt;Azure Web Apps&lt;/h2&gt;

&lt;p&gt;Web Appsでは有料プラン以上でカスタムドメインを使える模様です。&lt;/p&gt;

&lt;p&gt;通常はWeb Appsにアプリケーションをデプロイすると&lt;code&gt;https://xxxxxxx.azurewebsites.net/&lt;/code&gt; といったURLが付与されます。&lt;/p&gt;

&lt;p&gt;デフォルトでSSL使えるし結構便利です。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/3500760306fa71fc507d80ecfa376c1d.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;web-appsでカスタムドメイン&#34;&gt;Web Appsでカスタムドメイン&lt;/h2&gt;

&lt;h3 id=&#34;web-apps側の設定&#34;&gt;Web Apps側の設定&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;カスタムドメイン&lt;/code&gt;のメニューを選択します。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;今回利用する&lt;code&gt;graspin.studio&lt;/code&gt;というドメインを入力して検証します。&lt;/p&gt;

&lt;p&gt;ホスト名レコードタイプの選択はAレコードとCNAMEがありますが、今回はAレコードにします。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/2.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;下の方に&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ホスト名の利用可否&lt;/li&gt;
&lt;li&gt;ドメイン所有権&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;の情報がありますが、たぶんこの時点でドメイン所有権の欄が×になってると思います。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/3.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;TXTとAレコードをドメイン事業者の管理画面で設定していきます。&lt;/p&gt;

&lt;p&gt;設定する値はAタイプにIPアドレス、TXTタイプにWebAppsのドメインです。
この画面を開いたままで次のドメイン事業者のサイトにいきましょう。&lt;/p&gt;

&lt;h3 id=&#34;お名前-com側での設定&#34;&gt;お名前.com側での設定&lt;/h3&gt;

&lt;p&gt;むーむードメインやValueドメインなど色々なサイトがありますが、今回僕は&lt;a href=&#34;https://www.onamae.com/&#34;&gt;お名前.com&lt;/a&gt;を利用してドメインを取得したのでお名前.comでの設定を紹介します。&lt;/p&gt;

&lt;p&gt;Azureの管理画面で表示されたIPアドレスをAタイプに、WebAppsのドメインをTXTタイプに設定して保存します。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/4.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;浸透するまで少し時間がかかるので10分程度待ちます。（場合によってはもっとかかる時もあります）&lt;/p&gt;

&lt;h3 id=&#34;web-apps側で再度確認&#34;&gt;Web Apps側で再度確認&lt;/h3&gt;

&lt;p&gt;もう一度Web Apps側で検証ボタンを押すと認証が成功していることがわかります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/5.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;ホスト名の追加&lt;/code&gt;ボタンがアクティブになるので、追加しましょう。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/6.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;追加されました。&lt;/p&gt;

&lt;p&gt;これで&lt;code&gt;http://graspin.studio&lt;/code&gt;でアクセスできるようになりました。&lt;/p&gt;

&lt;p&gt;Web Apps のカスタムドメイン設定は完了です。&lt;/p&gt;

&lt;h2 id=&#34;let-s-encryptでssl対応する&#34;&gt;Let&amp;rsquo;s EncryptでSSL対応する&lt;/h2&gt;

&lt;p&gt;カスタムドメインではSSL対応の設定をしないとHTTPSは使えないので、無料SSLサーバ証明書のLet&amp;rsquo;s Encryptを利用して設定してみます。&lt;/p&gt;

&lt;p&gt;手元の環境はmacOS High Sierraです。&lt;/p&gt;

&lt;h3 id=&#34;certbotインストール&#34;&gt;certbotインストール&lt;/h3&gt;

&lt;p&gt;certbotというコマンドで証明書を作るのですが、&lt;/p&gt;

&lt;p&gt;通常手順だと最初からmacOSだと厳しいみたいなエラーを言われました。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;WARNING: certbot-auto support for this macOS is DEPRECATED!
Please visit certbot.eff.org to learn how to download a version of
Certbot that is packaged for your system. While an existing version
of certbot-auto may work currently, we have stopped supporting updating
system packages for your system. Please switch to a packaged version
as soon as possible.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;https://certbot.eff.org/lets-encrypt/osx-other&#34;&gt;https://certbot.eff.org/lets-encrypt/osx-other&lt;/a&gt; をみるとbrewで入れて欲しいらしいです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;brew  install certbot
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;証明書pemファイルの作成&#34;&gt;証明書pemファイルの作成&lt;/h3&gt;

&lt;p&gt;色々と調べたのですが、&lt;a href=&#34;https://blog.shibayan.jp/entry/20151111/1447172124&#34;&gt;しばやんさんの記事&lt;/a&gt;が分かりやすかったです。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;sudo certbot certonly -a manual -d 利用するドメイン --server https://acme-v01.api.letsencrypt.org/directory --agree-dev-preview&lt;/code&gt;という形でコマンドをmacから実行します。今回は&lt;code&gt;graspin.studio&lt;/code&gt;を利用するので以下の内容になります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo certbot certonly -a manual -d graspin.studio --server https://acme-v01.api.letsencrypt.org/directory --agree-dev-preview
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;コマンドを実行すると対話式のターミナルでYesとかAgreeとかの入力を求められますが適宜入力して進めます。&lt;/p&gt;

&lt;p&gt;以下のような表示が出て来ます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Create a file containing just this data:

JQwu2TQUGdwCz5yApVx2SL5WpQOi5L2dwogABs6N6IU.XWM53woMKdjZiJrQHxBvqVcPSSUQPf1wfTUxo2e6d-g

And make it available on your web server at this URL:

http://graspin.studio/.well-known/acme-challenge/JQwu2TQUGdwCz5yApVx2SL5WpQOi5L2dwogABs6N6IU

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Press Enter to Continue
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;ここで一度作業を止めましょう。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;これはドメインを所持してるか確認するためのフローで、&lt;code&gt;Let&#39;s Encrypt&lt;/code&gt;側から指定したエンドポイントに指定したレスポンスがあるようなサーバーを作ってね、という確認フローです。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;http://graspin.studio/.well-known/acme-challenge/JQwu2TQUGdwCz5yApVx2SL5WpQOi5L2dwogABs6N6IU&lt;/code&gt;というエンドポイントを用意して、&lt;code&gt;JQwu2TQUGdwCz5yApVx2SL5WpQOi5L2dwogABs6N6IU.XWM53woMKdjZiJrQHxBvqVcPSSUQPf1wfTUxo2e6d-g&lt;/code&gt;という表示がされるようにしてね、という意味です。&lt;/p&gt;

&lt;p&gt;ちなみにこの文字列たちは毎回変わるので適宜読み変えます。&lt;/p&gt;

&lt;p&gt;Node.js/Expressでサーバーを立ててましたが、以下のように設定しました。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&#39;use strict&#39;;

const express = require(&#39;express&#39;);
const app = express();
const PORT = process.env.PORT || 3000;
const bodyParser = require(&#39;body-parser&#39;);
app.use(bodyParser());
app.use(express.static(__dirname+&#39;/src/public&#39;));

//ここが今回の設定箇所
app.get(&#39;/.well-known/acme-challenge/JQwu2TQUGdwCz5yApVx2SL5WpQOi5L2dwogABs6N6IU&#39;, (req,res)=&amp;gt;{
    res.send(`JQwu2TQUGdwCz5yApVx2SL5WpQOi5L2dwogABs6N6IU.XWM53woMKdjZiJrQHxBvqVcPSSUQPf1wfTUxo2e6d-g`);
});

app.listen(PORT);
console.log(`listening on *: ${PORT}`);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Web Appsにデプロイしなおして、サーバーを更新します。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/7.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;アクセスするとこのような感じで指定された文字列が表示されるようにします。
設定が完了したら、ターミナルの&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Press Enter to Continue
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;で止めていた入力を再開し、Enterを押しましょう。&lt;/p&gt;

&lt;p&gt;すると認証が始まり、問題なければ以下のように&lt;code&gt;Congratulations!&lt;/code&gt;と表示されます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Waiting for verification...
Cleaning up challenges
Use of --agree-dev-preview is deprecated.

IMPORTANT NOTES:
 - Congratulations! Your certificate and chain have been saved at:
   /etc/letsencrypt/live/graspin.studio/fullchain.pem
   Your key file has been saved at:
   /etc/letsencrypt/live/graspin.studio/privkey.pem
   Your cert will expire on 2018-11-18. To obtain a new or tweaked
   version of this certificate in the future, simply run certbot
   again. To non-interactively renew *all* of your certificates, run
   &amp;quot;certbot renew&amp;quot;
 - If you like Certbot, please consider supporting our work by:

   Donating to ISRG / Let&#39;s Encrypt:   https://letsencrypt.org/donate
   Donating to EFF:                    https://eff.org/donate-le
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;デフォルトで以下の場所にpemファイルが作成されます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;/etc/letsencrypt/live/ドメイン名/fullchain.pem&lt;/li&gt;
&lt;li&gt;/etc/letsencrypt/live/ドメイン名/privkey.pem&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;pemファイルからpfxファイルを作成&#34;&gt;pemファイルからpfxファイルを作成&lt;/h3&gt;

&lt;p&gt;Web Appsではpfxファイルを読み込ませてSSLの設定をします。&lt;/p&gt;

&lt;p&gt;pemファイルのあるディレクトリで以下を実行します。(この手順なくても良いかも)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mv privkey.pem privkey.key
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;privkey.pem&lt;/code&gt;を&lt;code&gt;privkey.key&lt;/code&gt;ファイルにリネームしました。&lt;/p&gt;

&lt;p&gt;以下で&lt;code&gt;pfx&lt;/code&gt;ファイルを作成します。パスワード設定を求められるので適当なものを設定します。設定しないとWebApps側で認識できないので設定しましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;openssl pkcs12 -export -in fullchain.pem -inkey privkey.key -out sample.pfx
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Permissionなどのエラーが出る場合は&lt;code&gt;sudo&lt;/code&gt;実行しましょう。&lt;/p&gt;

&lt;h3 id=&#34;web-appsで設定&#34;&gt;Web Appsで設定&lt;/h3&gt;

&lt;p&gt;SSL設定メニューの&lt;code&gt;証明書アップロード&lt;/code&gt;からpfxファイルをアップロードします。このとき先ほどのパスワードの入力します。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/8.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;あとはバインディング追加からホスト名を選択し、証明書を選択すればOKです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/9.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;確認&#34;&gt;確認&lt;/h3&gt;

&lt;p&gt;浸透するまでに時間がかかるのですが、少ししたら&lt;code&gt;https://graspin.studio&lt;/code&gt;にアクセスできるようになってました。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/7b48e9f2c1c4a91e2a543359f8ebe5c6.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;おまけ&#34;&gt;おまけ&lt;/h2&gt;

&lt;p&gt;追加で設定した内容です。簡単！&lt;/p&gt;

&lt;h3 id=&#34;httpにアクセスがあってもhttpsにリダイレクトさせる&#34;&gt;HTTPにアクセスがあってもHTTPSにリダイレクトさせる&lt;/h3&gt;

&lt;p&gt;SSL設定の&lt;code&gt;HTTPSのみ&lt;/code&gt;をオンにするだけです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/10.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;http2対応&#34;&gt;HTTP2対応&lt;/h3&gt;

&lt;p&gt;アプリケーション設定の&lt;code&gt;HTTPバージョン&lt;/code&gt;を&lt;code&gt;2.0&lt;/code&gt;にするだけです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/209/11.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;Web Appsの最近っぽい情報がなかったのでまとめてみました。&lt;/p&gt;

&lt;p&gt;備忘録ですが他の誰かの参考にもなれば幸いです！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>【夏の自由工作2018】夏が暑すぎるのでオゾン発生素子でオゾンを発生させ（ようとし）た</title>
      <link>https://dotstud.io/blog/summer-homework-2018-takudooon/</link>
      <pubDate>Fri, 17 Aug 2018 12:24:56 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/summer-homework-2018-takudooon/</guid>
      
      <description>

&lt;p&gt;夏のうだるような暑さが真っ盛りの時期となりました。いつの間にか時間も過ぎ、お盆です。&lt;/p&gt;

&lt;p&gt;そんな中、&lt;strong&gt;dotstudioからの宿題として「夏休みの自由工作」&lt;/strong&gt;を命じられました。&lt;/p&gt;

&lt;p&gt;そして、提出期限が迫っています。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/c216cf5d-b1ee-1aee-6ee0-6b63f8fd8ef7.jpeg&#34; alt=&#34;なやみ.jpg&#34; /&gt;
提出期限5日前の僕。&lt;/p&gt;

&lt;p&gt;天を仰ぎながら、&lt;/p&gt;

&lt;p&gt;「やばい、やばい、やばい！！！！！提出期限になっちまう！！！！！」&lt;/p&gt;

&lt;p&gt;と心で悲鳴を上げています。&lt;/p&gt;

&lt;p&gt;まるで、&lt;strong&gt;夏休みが明けようとしている小学生の気分&lt;/strong&gt;です。人は学習しませんね。&lt;/p&gt;

&lt;p&gt;「なにをつくろうか……なにつくろうか……。」&lt;/p&gt;

&lt;p&gt;とぶつぶつ唱えながら考えていると、&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/659265cf-97b3-9ae3-7409-d8eb0b56dc60.jpeg&#34; alt=&#34;IMG_20180706_152144.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;「そういえば、&lt;strong&gt;オゾン発生素子&lt;/strong&gt;という謎な素子を買ったなぁ」&lt;/p&gt;

&lt;p&gt;ということを思い出しまして、&lt;/p&gt;

&lt;p&gt;「もしかしたら、&lt;strong&gt;オゾン発生素子を使えば地球温暖化を救える&lt;/strong&gt;！僕は&lt;strong&gt;救世主になれる&lt;/strong&gt;のか！」&lt;/p&gt;

&lt;p&gt;なんてことを思ったので、&lt;strong&gt;救世主になるべく謎のオゾン発生素子を使ってみたい&lt;/strong&gt;と思います。&lt;/p&gt;

&lt;h2 id=&#34;そもそもオゾンってなんだろう&#34;&gt;そもそもオゾンってなんだろう？&lt;/h2&gt;

&lt;p&gt;wikipediaを参照すると、オゾンとは、以下のようにあります。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;3つの酸素原子からなる酸素の同素体で、分子式はO&lt;sub&gt;3&lt;/sub&gt;。腐食性が高く、生臭く特徴的な刺激臭を持つ有毒な気体。そして、大気中にとても低い濃度で存在している。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;また「オゾン層」という言葉をよく聞くかと思います。こちらは気象庁の説明から引用します。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;大気中のオゾンは成層圏（約10～50km上空）に約90％存在しており、このオゾンの多い層を一般的にオゾン層という。そして、オゾン層は太陽からの有害な紫外線を吸収し、地上の生態系を保護している。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;つまり、なんかすごいやつです。&lt;/p&gt;

&lt;p&gt;その一方で、wikipediaによるとこんな性質と利用方法があります。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;オゾンには強力な酸化作用&lt;/strong&gt;があり、&lt;strong&gt;殺菌・ウイルスの不活化・脱臭・脱色・有機物の除去&lt;/strong&gt;などに用いられる&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;むむむ、脱臭？どうやら、&lt;strong&gt;オゾン発生素子をつかって脱臭装置&lt;/strong&gt;をつくることができるようです。&lt;/p&gt;

&lt;p&gt;これでは&lt;strong&gt;地球温暖化の救世主ではなく、いつも通り消臭デバイスつくるたくろーどん&lt;/strong&gt;ですね。ちなみに僕は公衆トイレ1級判定士です（自称）。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://dotstud.io/blog/m5stack-toilet-smell-map/&#34;&gt;M5Stack+GPS+臭気センサをつかってトイレの臭いマップをつくりたい！&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/minwinmin/private/868ca070edd6f5a95dfa&#34;&gt;遠隔消臭装置をつくって「気の利くナイスガイ」なろう！基本実装編&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://qiita.com/minwinmin/private/4212af4cfcef7c06737a&#34;&gt;遠隔消臭装置をつくって「気の利くナイスガイ」になろう！外装実装編&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;オゾン発生素子ってなんだろう&#34;&gt;オゾン発生素子ってなんだろう？&lt;/h2&gt;

&lt;p&gt;オゾン発生素子は、とてもシンプルで小さいです。&lt;/p&gt;

&lt;p&gt;仕組みは、&lt;strong&gt;絶縁物を挟んだ電極間に交流高電圧を印加すると無声放電が発生し、そこに酸素が通過することでオゾンが発生する&lt;/strong&gt;らしいです。&lt;/p&gt;

&lt;p&gt;とりあえず&lt;strong&gt;直流電圧8800[V]&lt;/strong&gt;と&lt;strong&gt;交流電圧5~6[V]&lt;/strong&gt;をかければ動くようです。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/93024de4-a0ea-fdfc-f346-e86cbbf284d8.png&#34; alt=&#34;素子.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;8800[V]&lt;/strong&gt;！
普段使わないような高電圧が必要なようです。
なので、電圧を昇圧させる回路をまずつくってみます。&lt;/p&gt;

&lt;h2 id=&#34;そのまえに今回使用する電子部品&#34;&gt;そのまえに今回使用する電子部品&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/6e279042-ccdb-ccd6-fc8a-5e5a6f2f3820.jpeg&#34; alt=&#34;P_20180810_181024_vHDR_On.jpg&#34; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://wakamatsu.co.jp/biz/products/list.php?category_id=4904&#34;&gt;オゾン発生素子　KC-12&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gI-00934/&#34;&gt;汎用整流用ダイオード 1000V 1A 1N4007&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gP-08949/&#34;&gt;セラミックコンデンサ 1000pF 1kV±10%&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/dp/B079WWDPY1/ref=asc_df_B079WWDPY12473963/?tag=jpgo-22&amp;amp;creative=9303&amp;amp;creativeASIN=B079WWDPY1&amp;amp;linkCode=df0&amp;amp;hvadid=266446530473&amp;amp;hvpos=1o2&amp;amp;hvnetw=g&amp;amp;hvrand=6941473763281127740&amp;amp;hvpone=&amp;amp;hvptwo=&amp;amp;hvqmt=&amp;amp;hvdev=c&amp;amp;hvdvcmdl=&amp;amp;hvlocint=&amp;amp;hvlocphy=1009328&amp;amp;hvtargid=pla-439996662693&amp;amp;th=1&amp;amp;psc=1&#34;&gt;写るんです(使い捨てインスタントカメラ)&lt;/a&gt;：カメラ内の回路を部品どりします。&lt;/li&gt;
&lt;li&gt;ユニバーサル基板&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;※&lt;strong&gt;コンデンサとダイオードは耐圧の高いものを選びましょう&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;昇圧回路-コッククロフト-ウォルトン回路-をつくる&#34;&gt;昇圧回路「コッククロフト・ウォルトン回路」をつくる&lt;/h2&gt;

&lt;p&gt;コッククロフト・ウォルトン回路は昇圧するためによく使われます。&lt;/p&gt;

&lt;p&gt;とてもシンプルで、必要なものは&lt;strong&gt;交流電圧、コンデンサ、ダイオードの3つ&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;下記の図がその回路図を表しています。&lt;strong&gt;コンデンサとダイオードを繰り返し組み合わせていくと大きな電圧を得る&lt;/strong&gt;ことができます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/4165cafa-b5f6-054b-de45-ec2e145f0d10.png&#34; alt=&#34;回路.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;この回路を実装してみます。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/23e39e1e-cbba-ae43-4f37-1c519510057b.jpeg&#34; alt=&#34;P_20180813_184025_vHDR_On.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;これを回路図に示すと以下のようになります。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/915f6193-fbf9-1589-eadd-3d8147794fae.png&#34; alt=&#34;回路2.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;次に、&lt;strong&gt;交流電圧を発生させる部分&lt;/strong&gt;をつくります。これには、&lt;strong&gt;「写ルンです（インスタントカメラ）」の部品&lt;/strong&gt;を使います。&lt;/p&gt;

&lt;p&gt;これを……
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/d1d47930-d227-ea9f-33b0-89faab70df05.jpeg&#34; alt=&#34;P_20180814_130305_vHDR_On.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;こうして……
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/3ede8d29-d7e7-cae8-617c-6db05989e8dd.jpeg&#34; alt=&#34;P_20180814_131833_vHDR_On.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;基板を取り出します。この基板はカメラのフラッシュを発生させる回路がついていて、これを交流電圧源とします。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/a2066a26-7d4f-df92-4fd5-4a233b405698.jpeg&#34; alt=&#34;P_20180814_131937_vHDR_On.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ついているフラッシュライトとコンデンサは外します。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/be5eea34-b7b7-7688-1fc0-ccdce13a3471.jpeg&#34; alt=&#34;部品どり.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;上記の回路のとおりつくります。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/47d5d31d-23b1-1be9-c9ff-fbc95e9b8db4.png&#34; alt=&#34;全体の回路図.png&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;オゾンを発生させてみる&#34;&gt;オゾンを発生させてみる&lt;/h2&gt;

&lt;p&gt;完成したら適当な箱にいれて、電源を入れてみます。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/0a929220-85be-b86c-803a-04d3983a534d.jpeg&#34; alt=&#34;P_20180814_214855_vHDR_On.jpg&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/212276/42f8c0ea-20cf-0864-53d1-6ac8cfae0404.gif&#34; alt=&#34;昇圧失敗.gif&#34; /&gt;&lt;/p&gt;

&lt;p&gt;むむむ、&lt;strong&gt;2つの電極を近づければ、放電するはず&lt;/strong&gt;ですが、&lt;strong&gt;放電しません&lt;/strong&gt;！&lt;/p&gt;

&lt;p&gt;なんでだろう……。&lt;/p&gt;

&lt;h2 id=&#34;終わりに&#34;&gt;終わりに&lt;/h2&gt;

&lt;p&gt;見事に失敗してしまいました。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;回路のところどころで軽い放電は確認できた&lt;/strong&gt;のですが、残念ながら&lt;strong&gt;全体として高電圧を得ることは今回できませんでした&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;そのため、&lt;strong&gt;謎のオゾン発生素子はお預け&lt;/strong&gt;となりました。原因を考えつつ、改良していきたいと思います。&lt;/p&gt;

&lt;p&gt;電子工作は失敗することもありますが、楽しいので是非チャレンジしてみてください。&lt;/p&gt;

&lt;p&gt;たくろーどんのチャレンジも続きます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;参考: &lt;a href=&#34;https://dora.bk.tsukuba.ac.jp/~takeuchi/?%E9%9B%BB%E6%B0%97%E5%9B%9E%E8%B7%AF%2F%E3%82%B3%E3%83%83%E3%82%AF%E3%82%AF%E3%83%AD%E3%83%95%E3%83%88%E3%83%BB%E3%82%A6%E3%82%A9%E3%83%AB%E3%83%88%E3%83%B3%E5%9B%9E%E8%B7%AF&#34;&gt;コッククロフト・ウォルトン回路の仕組み&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;speaker&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/members/chantoku/author.png&#34; /&gt;
          &lt;b&gt;ちゃんとく&lt;/b&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            完成までたどり着けなかったのは残念ですが、なんかすごそうなので90点です。
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;style&gt;
.parent {
    position: relative;
    margin: 2em 0;
}

.dialogue {
    padding: 30px;
    position: relative;
    margin: auto;
    border: 1px solid #C0C0C0;
    width: 600px;
    display: table;
    box-shadow: 0 3px 4px rgba(0, 0, 0, 0.32);
}

.speaker {
    width: 70px;
    height: 70px;
    margin-right: 30px;
    padding-right: 10px;
    display: table-cell;
    vertical-align: middle;
    font-size: 90%;
}

.speaker img {
    border-radius: 50%;
    border: 2px solid pink;
}

.text {
    display: table-cell;
    padding: 0;
    vertical-align: middle;
    padding-left: 30px;
}
&lt;/style&gt;
</description>
    </item>
    
    <item>
      <title>【夏の自由工作2018】学校の工作課題におすすめ！毛糸と和紙を使ってランプシェード作ってみた</title>
      <link>https://dotstud.io/blog/summer-homework-2018-kiki/</link>
      <pubDate>Thu, 16 Aug 2018 12:24:37 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/summer-homework-2018-kiki/</guid>
      
      <description>

&lt;p&gt;みなさんこんにちは、テクニカルエディターの&lt;a href=&#34;https://dotstud.io/members/kiki/&#34;&gt;きき&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;突然ですが、dotstudioで自由工作記事を執筆するということで正直な気持ちを申し上げます。&lt;/p&gt;

&lt;p&gt;アイデアが何も思い浮かびません。本当に、恥ずかしいことながらこれっっっっぽっっっっちも浮かばないのです。切ない。他のみんなはすごいのに、ううう……。&lt;/p&gt;

&lt;p&gt;ということで！！！&lt;/p&gt;

&lt;p&gt;いっそのこと振り切って小学生・中学生の夏休みの自由工作課題向け！&lt;strong&gt;簡単に作れるランプシェード&lt;/strong&gt;を作りまーす！LEDを使っているので許してください……！&lt;/p&gt;

&lt;h2 id=&#34;準備するよ&#34;&gt;準備するよ&lt;/h2&gt;

&lt;p&gt;youtubeを見るのが大好きな私は、ひたすら「電子工作 初心者」「電子工作 LED」などのワードでひたすら検索しまくり、見つけたのが今回作るランプシェード。毛糸で作るバージョンと和紙を作るバージョンの2種類作ってみました。&lt;/p&gt;

&lt;h3 id=&#34;使うもの&#34;&gt;使うもの&lt;/h3&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/1.png&#34; alt=&#34;1&#34;&gt;

&lt;/center&gt;


&lt;p&gt;【毛糸のランプシェード】&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;毛糸 ×2&lt;/li&gt;
&lt;li&gt;紙コップ ×1&lt;/li&gt;
&lt;li&gt;木工用ボンド ×1&lt;/li&gt;
&lt;li&gt;手袋 ×1&lt;/li&gt;
&lt;li&gt;水風船 ×好きなだけ&lt;/li&gt;
&lt;li&gt;ハケ&lt;/li&gt;
&lt;li&gt;つまようじ ×1&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;【和紙のランプシェード】&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;和紙 ×1（今回はフラワーペーパーを使っています）&lt;/li&gt;
&lt;li&gt;紙コップ ×1&lt;/li&gt;
&lt;li&gt;水のり ×1&lt;/li&gt;
&lt;li&gt;手袋 ×1&lt;/li&gt;
&lt;li&gt;風船（大きいやつ） ×好きなだけ&lt;/li&gt;
&lt;li&gt;ハケ&lt;/li&gt;
&lt;li&gt;つまようじ ×1&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;材料は全部100均で購入できるので準備自体がささっとできます。&lt;/p&gt;

&lt;h3 id=&#34;使用したled&#34;&gt;使用したLED&lt;/h3&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/2.png&#34; alt=&#34;2&#34;&gt;

&lt;/center&gt;


&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.amazon.co.jp/LED%E3%82%A4%E3%83%AB%E3%83%9F%E3%83%8D%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%A9%E3%82%A4%E3%83%88-LeHom-%E3%82%B9%E3%83%88%E3%83%AA%E3%83%B3%E3%82%B0%E3%83%A9%E3%82%A4%E3%83%88-%E3%83%95%E3%82%A7%E3%82%A2%E3%83%AA%E3%83%BC%E3%83%A9%E3%82%A4%E3%83%88-%E3%82%A6%E3%82%A9%E3%83%BC%E3%83%A0%E3%83%9B%E3%83%AF%E3%82%A4%E3%83%88/dp/B075B49YB1&#34;&gt;LEDイルミネーションライト 5M50LED&lt;/a&gt;: &lt;u&gt;単三電池3本で動きます&lt;/u&gt;&lt;/li&gt;
&lt;li&gt;LEDキャンドルライト: 100均で買いました（100均すごい）&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;早速つくるよ&#34;&gt;早速つくるよ&lt;/h2&gt;

&lt;h3 id=&#34;毛糸のランプシェードのつくりかた&#34;&gt;毛糸のランプシェードのつくりかた&lt;/h3&gt;

&lt;p&gt;①楽器を吹くかのような心意気で&lt;strong&gt;水風船を膨らませます&lt;/strong&gt;。大きさは全体的に丸くなるくらいですね。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;


&lt;p&gt;今回は9個つくりたいので予備に10個膨らませました。童心に戻りますね。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/9.png&#34; alt=&#34;9&#34;&gt;

&lt;/center&gt;


&lt;p&gt;②&lt;strong&gt;紙コップに木工用ボンドと水を入れて混ぜます&lt;/strong&gt;。量は目分量です（ざっくり）。&lt;/p&gt;

&lt;p&gt;③&lt;strong&gt;毛糸を風船にくるくる巻きつけます&lt;/strong&gt;。力加減のバランスが地味に難しくて、緩くなると解けてしまい、きつくなると風船が変形します。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;


&lt;p&gt;④&lt;strong&gt;ハケで①で作ったボンド水を毛糸に塗ります。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;⑤&lt;strong&gt;半日乾かします。&lt;/strong&gt;&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/5.png&#34; alt=&#34;5&#34;&gt;

&lt;/center&gt;


&lt;p&gt;触ってみて、コツコツ音がなるようになっていたらいい感じです。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/6.png&#34; alt=&#34;6&#34;&gt;

&lt;/center&gt;


&lt;p&gt;⑥&lt;strong&gt;つまようじで風船を割ります&lt;/strong&gt;。音フェチなら絶対喜ぶであろう音を聞くことができますよ。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/7.png&#34; alt=&#34;7&#34;&gt;

&lt;/center&gt;


&lt;p&gt;⑦&lt;strong&gt;LEDイルミネーションライトの電球を毛糸の中に入れます&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;完成形はのちほど披露しますね！次は和紙のランプシェードです。&lt;/p&gt;

&lt;h3 id=&#34;和紙のランプシェードのつくりかた&#34;&gt;和紙のランプシェードのつくりかた&lt;/h3&gt;

&lt;p&gt;①楽器を吹くかのような心意気の2倍の肺活量で&lt;strong&gt;風船を膨らませます&lt;/strong&gt;。こちらも丸い形になるように膨らませます。&lt;/p&gt;

&lt;p&gt;②&lt;strong&gt;和紙をちぎります&lt;/strong&gt;。小さくちぎりすぎると貼るときに大変なので、大きいサイズでも用意しておくと疲れません。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/8.png&#34; alt=&#34;8&#34;&gt;

&lt;/center&gt;


&lt;p&gt;③&lt;strong&gt;紙コップに水のりと水を入れて混ぜます&lt;/strong&gt;。こちらも量は目分量です。&lt;/p&gt;

&lt;p&gt;④&lt;strong&gt;風船に和紙をペタペタ貼ります&lt;/strong&gt;。破けてしまうと切ないので、三重くらいにしました。&lt;/p&gt;

&lt;p&gt;⑤&lt;strong&gt;半日乾かします&lt;/strong&gt;。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/10.png&#34; alt=&#34;10&#34;&gt;

&lt;/center&gt;


&lt;p&gt;⑥&lt;strong&gt;つまようじで風船を割ります&lt;/strong&gt;。毛糸の時とはまた違う音フェチの楽しみがあります。&lt;/p&gt;

&lt;p&gt;⑦&lt;strong&gt;キャンドルライトの上に被せます&lt;/strong&gt;。&lt;/p&gt;

&lt;h2 id=&#34;完成したよ&#34;&gt;完成したよ&lt;/h2&gt;

&lt;h3 id=&#34;毛糸のランプシェードはうつくし&#34;&gt;毛糸のランプシェードはうつくし&lt;/h3&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/204/11.png&#34; alt=&#34;11&#34;&gt;

&lt;/center&gt;


&lt;p&gt;思っていたよりそれっぽいインテリア感が出ている……！&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/04fa3635bc80d3d88cda862fc6005dc4.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/p&gt;

&lt;p&gt;チカチカさせるとこんな感じです。&lt;/p&gt;

&lt;p&gt;我が家の門番、くま大先生にも巻きつけてみました。めっちゃハートウォーミングじゃないですかせんせいっ……！！&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/47c12fa8aad3a4b83883ac8352d34b27.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;
&lt;center&gt;
くま大先生「可愛いし、なかなか悪くないね」
&lt;/center&gt;&lt;/p&gt;

&lt;h3 id=&#34;和紙のランプシェードはいとをかし&#34;&gt;和紙のランプシェードはいとをかし&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/fa2ca28729df24f48ce5ff5a392aa7e5.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/p&gt;

&lt;p&gt;和紙のランプシェードは、LEDの橙色が強すぎて、ピンク色感がなくなってしまいました。もうちょっと薄めな色のLEDにしたらピンク感出るのかなぁ……。&lt;/p&gt;

&lt;p&gt;でも、なんだか風情ありますね。心が浄化されます。&lt;/p&gt;

&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;

&lt;p&gt;お子さま向けの自由工作をやってみましたが、いかがでしたでしょうか？「夏休みの自由課題に何作ればいいんや！」と悩んでいる方はぜひ作ってみてくださいー！&lt;/p&gt;

&lt;p&gt;ついに明日は自由工作企画最終日！宇宙エンジニアの&lt;a href=&#34;https://dotstud.io/members/takudooon/&#34;&gt;たくろーどん&lt;/a&gt;です！&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;speaker&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/members/chantoku/author.png&#34; /&gt;
          &lt;b&gt;ちゃんとく&lt;/b&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            かわいい。100点。えこひいきです。
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;style&gt;
.parent {
    position: relative;
    margin: 2em 0;
}

.dialogue {
    padding: 30px;
    position: relative;
    margin: auto;
    border: 1px solid #C0C0C0;
    width: 600px;
    display: table;
    box-shadow: 0 3px 4px rgba(0, 0, 0, 0.32);
}

.speaker {
    width: 70px;
    height: 70px;
    margin-right: 30px;
    padding-right: 10px;
    display: table-cell;
    vertical-align: middle;
    font-size: 90%;
}

.speaker img {
    border-radius: 50%;
    border: 2px solid pink;
}

.text {
    display: table-cell;
    padding: 0;
    vertical-align: middle;
    padding-left: 30px;
}
&lt;/style&gt;
</description>
    </item>
    
    <item>
      <title>【夏の自由工作2018】立体的なデザインを表現できるLEDキューブを作ってみた</title>
      <link>https://dotstud.io/blog/summer-homework-2018-sasakisan/</link>
      <pubDate>Wed, 15 Aug 2018 10:30:14 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/summer-homework-2018-sasakisan/</guid>
      
      <description>

&lt;p&gt;こんにちは、3日目担当の&lt;a href=&#34;https://dotstud.io/members/tomato/&#34;&gt;ささきさん&lt;/a&gt;です。突然ですが、みなさんの学生時代の夏休みの思い出はどんなものがあるでしょうか？&lt;/p&gt;

&lt;p&gt;僕の夏休みといえば、毎年夏休み終わりギリギリになってようやく宿題や工作をはじめて結局終わらず……みたいなことを一番思い出します（笑）。&lt;/p&gt;

&lt;p&gt;まさか社会人になってから宿題をやるとは思いませんでしたが、&lt;strong&gt;今年の宿題は最後までやりきる&lt;/strong&gt;ということを頑張っていきたいと思います！&lt;/p&gt;

&lt;h2 id=&#34;光る立方体-ledキューブを作ってみよう&#34;&gt;光る立方体！LEDキューブを作ってみよう&lt;/h2&gt;

&lt;p&gt;さて、今回はLEDをつないでキューブ状にしていく、&lt;strong&gt;LEDキューブ&lt;/strong&gt;を作ってみたいと思います。&lt;/p&gt;

&lt;p&gt;LEDを使って電子工作をするときは、普通だと平面的にブレッドボードに挿したり半田付けしたりしますよね。LEDキューブは、平面的に配線するだけでなく、縦にも配線していきます。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/ledcube.png&#34; alt=&#34;ledcube&#34;&gt;

  ─ LEDキューブの画像検索

&lt;/center&gt;


&lt;p&gt;今回は各面9個ずつの小さなものですが、たくさん繋いで大きなものを作ることもできるので、自由工作にもピッタリだと思います！&lt;/p&gt;

&lt;h2 id=&#34;用意するもの&#34;&gt;用意するもの&lt;/h2&gt;

&lt;h3 id=&#34;arduino-uno-http-akizukidenshi-com-catalog-g-gm-07385&#34;&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gM-07385/&#34;&gt;Arduino Uno&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;Arduino Unoは、電子工作では定番の開発ボードで、電子回路の制御等をすることができます。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/arduino.png&#34; alt=&#34;arduino&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;5mm赤色led-http-akizukidenshi-com-catalog-g-gi-11655-27個&#34;&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gI-11655/&#34;&gt;5mm赤色LED&lt;/a&gt; 27個&lt;/h3&gt;

&lt;p&gt;今回は赤く光るLEDを用意しました。光る色を指定できるフルカラーLEDを使っても面白いですね！&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/led.png&#34; alt=&#34;led&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;150ω抵抗-http-akizukidenshi-com-catalog-g-gr-25151-3個&#34;&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gR-25151/&#34;&gt;150Ω抵抗&lt;/a&gt; 3個&lt;/h3&gt;

&lt;p&gt;電流を調整するカーボン抵抗です。色によって何Ωか見分けることができます。&lt;/p&gt;

&lt;p&gt;詳細はドキュメントの&lt;a href=&#34;https://dotstud.io/docs/resistance/#%E6%8A%B5%E6%8A%97%E5%99%A8%E3%81%AE%E7%A8%AE%E9%A1%9E&#34;&gt;抵抗器&lt;/a&gt;を参照してください。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/carbon.png&#34; alt=&#34;carbon&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;ユニバーサル基板-http-akizukidenshi-com-catalog-g-gp-00517&#34;&gt;&lt;a href=&#34;http://akizukidenshi.com/catalog/g/gP-00517/&#34;&gt;ユニバーサル基板&lt;/a&gt;&lt;/h3&gt;

&lt;p&gt;部品を半田付けするための穴が並んだ基板です。それぞれの穴には銅箔（ランド）が付いていて、ジャンパや脚を半田して配線していきます。&lt;/p&gt;

&lt;p&gt;自分で回路を組む場合は、ブレッドボードなどで動作を確認してから半田付けするのがオススメです。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/universalboard.png&#34; alt=&#34;universalboard&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;ジャンパー線-24本&#34;&gt;ジャンパー線 24本&lt;/h3&gt;

&lt;p&gt;抵抗やLEDなどの電子部品を繋ぐときに使います。&lt;/p&gt;

&lt;p&gt;ジャンパ線には1cmなどの短いものから30cm以上の長いものまであります。今回は、10cmくらいのものが使いやすいと思います。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/jumper.png&#34; alt=&#34;jumper&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;ブレッドボード&#34;&gt;ブレッドボード&lt;/h3&gt;

&lt;p&gt;電子回路を組む際に半田付けなしで手軽に配線をすることができる基板です。&lt;/p&gt;

&lt;p&gt;半田付けをしないので、回路を間違っても簡単に組み直すことができる利点があります。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/bread.png&#34; alt=&#34;bread&#34;&gt;

&lt;/center&gt;


&lt;h2 id=&#34;ledキューブの半田付け&#34;&gt;LEDキューブの半田付け&lt;/h2&gt;

&lt;p&gt;回路の作り方を説明していきます。&lt;/p&gt;

&lt;h3 id=&#34;ledの脚の加工&#34;&gt;LEDの脚の加工&lt;/h3&gt;

&lt;p&gt;まず、LEDの脚を加工していきます。&lt;/p&gt;

&lt;p&gt;アノード（長い方の脚、プラス側）を画像のように根元から90度に曲げます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/anode.png&#34; alt=&#34;anode&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;次に、曲げた足をさらに90度曲げます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/anode2.png&#34; alt=&#34;anode2&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;アノードを曲げ終わったら、カソード（短い方の脚、マイナス側）をアノードと90度になるよう根元から曲げます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/casode.png&#34; alt=&#34;casode&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;この手順をLED27個分繰り返します。&lt;/p&gt;

&lt;h3 id=&#34;ベース組み&#34;&gt;ベース組み&lt;/h3&gt;

&lt;p&gt;LEDのカソード同士を半田付けします。&lt;strong&gt;半田部分がアノードにくっつかないよう注意&lt;/strong&gt;してください。&lt;/p&gt;

&lt;p&gt;LED3つ組み（写真上部）を3セット、LED2つ組み（写真下部）を9セット作ります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/3set.png&#34; alt=&#34;3set&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/2set.png&#34; alt=&#34;2set&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;面を作る&#34;&gt;面を作る&lt;/h3&gt;

&lt;p&gt;LED3つ組みのそれぞれのカソードに、LED2つ組みを繋げていきます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/3-2.png&#34; alt=&#34;3-2&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;3セット分繋げ終わると、以下のような感じになります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/3-3.png&#34; alt=&#34;3-3&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h3 id=&#34;立方体を作る&#34;&gt;立方体を作る&lt;/h3&gt;

&lt;p&gt;今度は、上記でできた3セットを縦に重ね、アノード同士を繋げていきます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/vertical.png&#34; alt=&#34;vertical&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;3段分繋げ終わるとLEDキューブは完成です。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/cube.png&#34; alt=&#34;cube&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h3 id=&#34;ユニバーサル基板へ取り付ける&#34;&gt;ユニバーサル基板へ取り付ける&lt;/h3&gt;

&lt;p&gt;ユニバーサル基板にキューブのアノード9箇所を取り付け、それぞれにジャンパー線を繋ぎます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/universal.png&#34; alt=&#34;universal&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;カソード3箇所（宙に浮いた脚）にも、それぞれジャンパー線を半田で繋ぎます。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/casode2.png&#34; alt=&#34;casode2&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h2 id=&#34;回路を組む&#34;&gt;回路を組む&lt;/h2&gt;

&lt;p&gt;この回路図はLED CUBEを真上から見たものになります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/circuit.png&#34; alt=&#34;circuit&#34;&gt;

&lt;/center&gt;

Arduinoの0〜8番ピンにアノードを、9〜11番ピンには抵抗を挟みカソードを接続します。&lt;/p&gt;

&lt;p&gt;配線すると下記のようになります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/203/circuit2.png&#34; alt=&#34;circuit2&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h2 id=&#34;プログラム&#34;&gt;プログラム&lt;/h2&gt;

&lt;p&gt;このプログラムはLEDを1つ1つ順番に点灯させるプログラムです。Arduino IDEという専用のフリーソフトを使って書き込みます。&lt;/p&gt;

&lt;p&gt;詳細はドキュメントの&lt;a href=&#34;https://dotstud.io/docs/arduinoide-setup/&#34;&gt;Arduino IDEをPCにインストール&lt;/a&gt;からご覧ください。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// LEDの列のカウンタ
int colCount;

// LEDの段のカウンタ
int rowCount;

void setup() {
  colCount = 0;
  rowCount = 9;

  // 使うピンをセットアップ
  pinMode(0, OUTPUT);
  pinMode(1, OUTPUT);
  pinMode(2, OUTPUT);
  pinMode(3, OUTPUT);
  pinMode(4, OUTPUT);
  pinMode(5, OUTPUT);
  pinMode(6, OUTPUT);
  pinMode(7, OUTPUT);
  pinMode(8, OUTPUT);
  pinMode(9, OUTPUT);
  pinMode(10, OUTPUT);
  pinMode(11, OUTPUT);
}

void loop() {
  // LEDを500ms光らせて消す
  digitalWrite(colCount, HIGH);
  digitalWrite(rowCount, LOW);
  delay(500);
  digitalWrite(colCount, LOW);
  digitalWrite(rowCount, HIGH);

  // 段と列をずらす
  rowCount++;
  if (rowCount == 12) {
    rowCount = 9;
    if (colCount != 8) {
      colCount++;
    } else {
      colCount = 0;
    }
  }

}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;光らせてみよう&#34;&gt;光らせてみよう&lt;/h2&gt;

&lt;p&gt;プログラムを書き込んだらいよいよ完成です！&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/203/cube.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;今回の夏休み自由工作は無事完成させることができました！&lt;/p&gt;

&lt;p&gt;赤色LEDの3×3×3で作りましたが、違う色のLEDを使ったり、個数を増やしたりすることで、表現したいものの再現度を高めることができます。&lt;/p&gt;

&lt;p&gt;皆さんもぜひLEDキューブを作ってみてください！&lt;/p&gt;

&lt;p&gt;明日の担当はテクニカルエディター・&lt;a href=&#34;https://dotstud.io/members/kiki&#34;&gt;きき&lt;/a&gt;さんです。お楽しみに！&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;speaker&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/members/chantoku/author.png&#34; /&gt;
          &lt;b&gt;ちゃんとく&lt;/b&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            初心者向けで勉強になるし、応用も効くので100点。ただし、表紙の流れを汲めなかったので減点20点です。
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;style&gt;
.parent {
    position: relative;
    margin: 2em 0;
}

.dialogue {
    padding: 30px;
    position: relative;
    margin: auto;
    border: 1px solid #C0C0C0;
    width: 600px;
    display: table;
    box-shadow: 0 3px 4px rgba(0, 0, 0, 0.32);
}

.speaker {
    width: 70px;
    height: 70px;
    margin-right: 30px;
    padding-right: 10px;
    display: table-cell;
    vertical-align: middle;
    font-size: 90%;
}

.speaker img {
    border-radius: 50%;
    border: 2px solid pink;
}

.text {
    display: table-cell;
    padding: 0;
    vertical-align: middle;
    padding-left: 30px;
}
&lt;/style&gt;
</description>
    </item>
    
    <item>
      <title>【夏の自由工作2018】改札や自販機にピッとするたび光る！非接触発光LEDで光るネイル作ってみた</title>
      <link>https://dotstud.io/blog/summer-homework-2018-chantoku/</link>
      <pubDate>Mon, 13 Aug 2018 04:13:36 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/summer-homework-2018-chantoku/</guid>
      
      <description>

&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/chantoku&#34;&gt;ちゃんとく&lt;/a&gt;です。世間はすっかり夏休みですね！&lt;/p&gt;

&lt;p&gt;弊dotstudioも絶賛夏休み中ですが、夏休みといえば宿題、宿題といえば自由工作………。&lt;/p&gt;

&lt;p&gt;ということで、&lt;strong&gt;特別企画・夏の自由工作2018&lt;/strong&gt;を開催します！！！（ドンドンドンドン）&lt;/p&gt;

&lt;p&gt;この記事を皮切りに、1週間連続でdotstudioメンバーが自由工作を発表していきますよ〜。実際の自由工作に役立つガジェットも登場するかも！？&lt;/p&gt;

&lt;p&gt;初日からギリギリ更新ですが、それも宿題の醍醐味ですねっ☆&lt;/p&gt;

&lt;h2 id=&#34;光るネイルを作ろう&#34;&gt;光るネイルを作ろう&lt;/h2&gt;

&lt;p&gt;小さな爪の上に回路やら電源やらを考えるのは面倒なので、今回は「&lt;strong&gt;非接触ICリーダーに反応して光るLEDモジュール&lt;/strong&gt;」を使っていきます。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://gyazo.com/564206a6c714e9e73b23c33194d62be5&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/564206a6c714e9e73b23c33194d62be5.png&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;
共立電子さんで売っている「&lt;a href=&#34;http://eleshop.jp/shop/g/g402524/&#34;&gt;NFC非接触発光LED&lt;/a&gt;」というモジュールは、改札や自動販売機の非接触ICリーダーにかざすと光る性質があります。&lt;/p&gt;

&lt;p&gt;形もサイズもネイル用に作られたと言っても過言ではないな……！&lt;/p&gt;

&lt;h2 id=&#34;ざっくりデザイン&#34;&gt;ざっくりデザイン&lt;/h2&gt;

&lt;p&gt;ネイルを作る前に、ざっくりデザインを考えます。せっかく光らせるので、電子工作風にしてみました。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/design.png&#34; alt=&#34;design&#34;&gt;

&lt;/center&gt;

でーん。Genuino風ネイル〜！緑の丸部分がLEDの想定です。&lt;/p&gt;

&lt;p&gt;マイコンボードの中で1番好きな配色のGenuino 101（※）というArduino互換ボードをベースにしてみました。&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://gyazo.com/9fe1b9fac74db201332a22408038f03a&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/9fe1b9fac74db201332a22408038f03a.png&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;2&#34;&gt;
※残念ながら生産停止になってしまいました……。悲しい……。
&lt;/font&gt;&lt;/p&gt;

&lt;h2 id=&#34;用意するもの&#34;&gt;用意するもの&lt;/h2&gt;

&lt;h3 id=&#34;nfc非接触発光led&#34;&gt;NFC非接触発光LED&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://gyazo.com/1f05e8e9d0a32242cef1a0c9f9e8ce61&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/1f05e8e9d0a32242cef1a0c9f9e8ce61.png&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;
今回はネイルのデザインに合わせてブルーグリーンという色にしました！お安いので各指に乗せても大丈夫。&lt;/p&gt;

&lt;h3 id=&#34;ネイルアート用ネイルチップ&#34;&gt;ネイルアート用ネイルチップ&lt;/h3&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/chip.png&#34; alt=&#34;chip&#34;&gt;

&lt;/center&gt;

ドン・キホーテで購入。普通のやつです。&lt;/p&gt;

&lt;h3 id=&#34;好きな色のネイル&#34;&gt;好きな色のネイル&lt;/h3&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/nail.png&#34; alt=&#34;nail&#34;&gt;

&lt;/center&gt;

こちらもドン・キホーテで1番安いものを購入。ちょっと不安でしたが、発色もいいしガンガン重ね塗りできるのでオススメです！&lt;/p&gt;

&lt;p&gt;あとは剥がれるのを防止する用にトップコートがあると◎。&lt;/p&gt;

&lt;h3 id=&#34;ネイルグルー&#34;&gt;ネイルグルー&lt;/h3&gt;

&lt;p&gt;ネイルチップを貼る用に、専用のグルーやテープを用意します。&lt;/p&gt;

&lt;p&gt;100円均一などで購入できます。剥がす際にアセトンが必要なものもあるので注意！&lt;/p&gt;

&lt;h2 id=&#34;制作&#34;&gt;制作&lt;/h2&gt;

&lt;p&gt;制作といってもネイルを塗っていくだけなのですが、簡単に紹介します。&lt;strong&gt;ちゃんとく、雑なのであまり参考にしないでください&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/1.png&#34; alt=&#34;1&#34;&gt;

&lt;/center&gt;

ネイルチップにベース色を塗っていきます。「適当でいけるだろ！」と思ってたんですが、すごく持ちづらかったので&lt;strong&gt;セロテープを丸めたものをくっつけて&lt;/strong&gt;土台にしています。&lt;/p&gt;

&lt;p&gt;ネイルをたっぷり取って、中央からハケを平たくするイメージで塗るのがコツって聞いたような聞いてないような……。一度塗って&lt;strong&gt;完全に乾くのを待って&lt;/strong&gt;から、二、三回重ね塗りをしていきます。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/2.png&#34; alt=&#34;2&#34;&gt;

&lt;/center&gt;

あとでラインを引くので根元は適当でOK。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;

小指はデザインに沿って、ちょんちょんちょんとドットを配置。なぜか仮面ライダーを想起させる仕上がり。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;

LEDを載せる爪は、まずLEDを配置（&lt;strong&gt;裏面がシールになっています、最高&lt;/strong&gt;）。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/5.png&#34; alt=&#34;5&#34;&gt;

&lt;/center&gt;

LED部分だけ残すように、上からゴリゴリネイルを塗ります。なんか浮いてる気もするけど気にしない気にしない。&lt;/p&gt;

&lt;p&gt;全体をしっかりと乾かして完成〜！&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/after.png&#34; alt=&#34;after&#34;&gt;

&lt;/center&gt;

え？デザイン画と違う？&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;4&#34;&gt;Arduinoマークなんて書けるわけないだろ！！！！&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
色は渋いのにつけてみると意外と派手な仕上がり。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/201/after2.png&#34; alt=&#34;after2&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h2 id=&#34;街に出て光ってみる&#34;&gt;街に出て光ってみる&lt;/h2&gt;

&lt;p&gt;せっかく作ったので、実際にかざして光らせてみます！&lt;/p&gt;

&lt;p&gt;自販機を探して10分、なかなか非接触IC搭載の自販機が見つからない……。駅前とかじゃないと、意外とないもんです。&lt;/p&gt;

&lt;p&gt;ようやく見つけたのはタバコの自販機。TASPOも光る仕様で助かったー。&lt;/p&gt;

&lt;p&gt;リーダーに爪をかざすと……
&lt;a href=&#34;https://gyazo.com/620360121553296154cf2c5b9e90b3dc&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/620360121553296154cf2c5b9e90b3dc.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;
ちゃんと光った〜！さりげなくて良い感じ！&lt;/p&gt;

&lt;h2 id=&#34;光るアレとコラボさせてみる&#34;&gt;光るアレとコラボさせてみる&lt;/h2&gt;

&lt;p&gt;さらにさらに、せっかくなので&lt;strong&gt;光るアレとコラボ&lt;/strong&gt;させてみます。&lt;/p&gt;

&lt;p&gt;どん。
&lt;a href=&#34;https://gyazo.com/0b99edfda6b97c48f38fd82a87c99e02&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/0b99edfda6b97c48f38fd82a87c99e02.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;4&#34;&gt;光ってる。私いま最高に光ってる。&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
ちなみにこれ1人で撮影しているのですが、初めて「ええい、ままよっ！」という気持ちになりました。&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;安くて超簡単に作れる上、オシャレにも自由工作にも活用できる（？）のでオススメです！&lt;/p&gt;

&lt;p&gt;ぜひ試してみてください〜！&lt;/p&gt;

&lt;p&gt;明日の自由工作発表は、しゃちょーの&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;n0bisuke&lt;/a&gt;です！お楽しみに！&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
↓↓光るアレの紹介記事はこちら↓↓
&lt;/center&gt;


&lt;section class=&#34;link&#34; id=&#34;126&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/led-eyelash-gadget-report/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/126/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                【検証】光るまつげ！？クラブで目立つこと間違いなしのLEDまつげを試してみた
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2017-09-11
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                秋葉原で見かけた面白プロダクトを実際に検証してみます。第一弾はLEDまつげ！使い方や使用感をレポートします！
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Clova CEKでのスキル開発の始め方〜Node.jsで開発スタート編〜</title>
      <link>https://dotstud.io/blog/clova-cek-nodejs-tutorial/</link>
      <pubDate>Fri, 03 Aug 2018 10:56:31 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/clova-cek-nodejs-tutorial/</guid>
      
      <description>

&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;n0bisuke&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;#linebootawards&lt;/code&gt;関連でハンズオンをやる機会が増えそうなので学習メモがてら、&lt;a href=&#34;https://dotstud.io/blog/line-clova-skill-tutorial/&#34;&gt;前回&lt;/a&gt;に引き続きClovaの開発チュートリアルを書いていきます。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Node.jsとClovaの連携をとりあえずやりたい&lt;/strong&gt;って人向けです。&lt;/p&gt;

&lt;p&gt;Clovaってなんぞやって人はこちらの記事を先に読んでみてください。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;185&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/clova-ifttt-nefrybt-arduino/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/185/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                ClovaとNefryBT（ESP32）を連携させてみよう
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-10
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Nefry BTを使って電子工作した勤怠システムとClovaを連携させてみました。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;p&gt;いわゆるClovaのAPIのことをCEKと呼ぶんですよ〜&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;186&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/line-clova-skill-tutorial/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/186/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                本日リリース！LINE Clovaのスキル開発の始め方〜申請編〜 #clova #linebootawards #clova_cek
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-12
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                リリース直後ですが、LINEのAIアシスタントClovaでのスキル開発の始め方を紹介します！ LINE BOOT AWARDSで賞金1000万円も狙いましょ。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;h2 id=&#34;作るもの&#34;&gt;作るもの&lt;/h2&gt;

&lt;p&gt;のびすけ「&lt;strong&gt;秋葉原のカレー屋さん教えて&lt;/strong&gt;」&lt;/p&gt;

&lt;p&gt;Clova「秋葉原のオススメのカレー屋は ぺらぺらぺら」&lt;/p&gt;

&lt;p&gt;これを作ってみます。完成はこんなイメージです。&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;instagram-media&#34; data-instgrm-captioned data-instgrm-permalink=&#34;https://www.instagram.com/p/BmAG2Snnk4v/?utm_source=ig_embed&#34; data-instgrm-version=&#34;9&#34; style=&#34; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&#34;&gt;&lt;div style=&#34;padding:8px;&#34;&gt; &lt;div style=&#34; background:#F8F8F8; line-height:0; margin-top:40px; padding:28.125% 0; text-align:center; width:100%;&#34;&gt; &lt;div style=&#34; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&#34;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&#34; margin:8px 0 0 0; padding:0 4px;&#34;&gt; &lt;a href=&#34;https://www.instagram.com/p/BmAG2Snnk4v/?utm_source=ig_embed&#34; style=&#34; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&#34; target=&#34;_blank&#34;&gt;ハンズオンに使えそうなカレースキル！ #clova_cek #linebootawards&lt;/a&gt;&lt;/p&gt; &lt;p style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&#34;&gt;&lt;a href=&#34;https://www.instagram.com/n0bisuke/?utm_source=ig_embed&#34; style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&#34; target=&#34;_blank&#34;&gt; n0bisuke&lt;/a&gt;さん(@n0bisuke)がシェアした投稿 - &lt;time style=&#34; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&#34; datetime=&#34;2018-08-03T03:29:52+00:00&#34;&gt;2018年 8月月2日午後8時29分PDT&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt; &lt;script async defer src=&#34;//www.instagram.com/embed.js&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;環境&#34;&gt;環境&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Clova Friends Mini (サリー)&lt;/li&gt;
&lt;li&gt;Node.js v10.6.0&lt;/li&gt;
&lt;li&gt;Google Chrome / macOS Sierra v10.12&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;使い始めの申請&#34;&gt;使い始めの申請&lt;/h2&gt;

&lt;p&gt;こちらの記事を参照して、利用開始できる状態にしましょう。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;186&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/line-clova-skill-tutorial/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/186/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                本日リリース！LINE Clovaのスキル開発の始め方〜申請編〜 #clova #linebootawards #clova_cek
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-12
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                リリース直後ですが、LINEのAIアシスタントClovaでのスキル開発の始め方を紹介します！ LINE BOOT AWARDSで賞金1000万円も狙いましょ。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;h2 id=&#34;対話モデルの作成&#34;&gt;対話モデルの作成&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://clova-developers.line.me/cek/#/list&#34;&gt;Clova Developer Center&lt;/a&gt;にアクセスします。&lt;/p&gt;

&lt;p&gt;作成中スキルの一覧が表示されます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/508750a1d4f916de4d0167b71c0a133e.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;作成対象となるスキル名の&lt;code&gt;対話モデル&lt;/code&gt;の&lt;code&gt;修正&lt;/code&gt;を選択します。&lt;/p&gt;

&lt;p&gt;すると別ウィンドウが開き、対話モデルの編集画面になります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/54f6b93e2ed00cfadaa96da38aeaff4c.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;インテントとスロット&#34;&gt;インテントとスロット&lt;/h3&gt;

&lt;p&gt;インテントとスロットを設定していきます。&lt;/p&gt;

&lt;p&gt;個人的にはインテントとスロットの概念を理解すればあとはBOT開発などとそこまで変わらないような印象があります。&lt;/p&gt;

&lt;p&gt;説明はあってるのか不安なので、スマートスピーカー開発に慣れてる人が見て変だったら教えてください笑&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://clova-developers.line.me/guide/#/Design/Design_Guideline_For_Extension.md#Intent&#34;&gt;公式ドキュメントのこの辺&lt;/a&gt;を見ると詳しく載っています。&lt;/p&gt;

&lt;h3 id=&#34;スロット&#34;&gt;スロット&lt;/h3&gt;

&lt;p&gt;スロットはスキル内で扱う名詞情報です。&lt;/p&gt;

&lt;p&gt;今回の「&lt;strong&gt;秋葉原のカレー屋さん教えて&lt;/strong&gt;」という発話を認識させる為に&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;秋葉原&lt;/strong&gt;という名詞（スロット）を登録しましょう。&lt;/p&gt;

&lt;p&gt;また、その名詞（スロット）はどういう属性かという上位概念を&lt;strong&gt;スロットタイプ&lt;/strong&gt;として設定します。&lt;/p&gt;

&lt;p&gt;では実際に&lt;/p&gt;

&lt;p&gt;左側のメニューに&lt;code&gt;カスタムスロットタイプ&lt;/code&gt;という項目があるので、そこの&lt;code&gt;+ボタン&lt;/code&gt;を押します。&lt;/p&gt;

&lt;p&gt;ここでスロットタイプのタイトルを決めますが、秋葉原は駅名や地名なので場所にちなんだタイトルが良さそうです。ここでは&lt;code&gt;area&lt;/code&gt;（エリア）としました。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/84fc629262b42452abb4798c1b0e7c05.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;作成を押すと、areaというスロットタイプが作成されます。&lt;/p&gt;

&lt;p&gt;僕みたいに覚えにくい人は&lt;code&gt;スロットタイプ=単語群&lt;/code&gt;だと思えば良いと思います。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/cae4ce277668b5899690c0f881c3d96d.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;次にスロット登録です。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;スロットの新たな代表語を入力&lt;/code&gt;の箇所に&lt;code&gt;秋葉原&lt;/code&gt;と入力し、同義語の箇所に読み方や別名を入力します。こうすることで&lt;code&gt;あきば&lt;/code&gt;などの名称でも認識してくれるようになります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/01ce1b560aef8dc9192e2cb714759c72.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;秋葉原もカレー屋は多いですがカレーと言えば神保町や神田周辺もかなり多いのでareaに神保町と神田も追加しておきました。&lt;/strong&gt;重要情報（謎）&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/7d642f6710cb0a323ffebf4782f539a4.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;最後に&lt;code&gt;保存&lt;/code&gt;を押してスロットはOKです。個人的には難所50%クリアです。&lt;/p&gt;

&lt;h3 id=&#34;インテント&#34;&gt;インテント&lt;/h3&gt;

&lt;p&gt;インテントは会話や命令の種類です。&lt;/p&gt;

&lt;p&gt;今回の「&lt;strong&gt;秋葉原のカレー屋さん教えて&lt;/strong&gt;」はカレー情報の検索だと思うので&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CurreySearchIntent&lt;/strong&gt;（カレーサーチ）を作ってみます。&lt;/p&gt;

&lt;p&gt;メニュー左の&lt;code&gt;カスタムインテント&lt;/code&gt;箇所の&lt;code&gt;+ボタン&lt;/code&gt;を選択し、インテント名を入力して進みます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/6e770429f2a1b04e066dbb940e9f04bb.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;フォーム下部の&lt;code&gt;スロットリスト&lt;/code&gt;からこのインテントで利用するスロットの登録をします。
先ほど作成した&lt;code&gt;area&lt;/code&gt;を登録しましょう。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/1c2a9e525890692a3135fae2598d571f.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;次に&lt;code&gt;サンプル発話リスト&lt;/code&gt;箇所に例文を入れていきます。&lt;/p&gt;

&lt;p&gt;先ほどから何回も出ている「&lt;strong&gt;秋葉原のカレー屋さん教えて&lt;/strong&gt;」をここに入力します。&lt;/p&gt;

&lt;p&gt;さらに&lt;code&gt;秋葉原&lt;/code&gt;の部分が先ほど登録したスロット部分になるので、&lt;strong&gt;この文章のここがスロットだよ&lt;/strong&gt;ということを登録してあげます。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;秋葉原&lt;/code&gt;をドラッグするとスロット登録が出来るフォームが出てくるのでそこで&lt;code&gt;area&lt;/code&gt;を選択しましょう。&lt;/p&gt;

&lt;p&gt;ここは操作が難しい印象なので↓のキャプチャGIF参照で！&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/29779f252afe64d6c06efc36aa258522.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;完成したら保存しましょう。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/411e1670a0c7406b69cf42264fd8091d.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;対話モデルのビルド&#34;&gt;対話モデルのビルド&lt;/h2&gt;

&lt;p&gt;ここまで来たら左上の&lt;code&gt;ビルド&lt;/code&gt;ボタンを押してひとまず完了です。&lt;/p&gt;

&lt;p&gt;ここ、けっこう時間かかります。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/eb50163b57f4e4522b63c8686dc3e0ef.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;体感5~10分程度。&lt;/p&gt;

&lt;p&gt;ただ待つのもしんどいので次の準備にかかりましょう。&lt;/p&gt;

&lt;h2 id=&#34;node-jsの環境準備&#34;&gt;Node.jsの環境準備&lt;/h2&gt;

&lt;p&gt;お待たせしました。コード書いていきましょう。&lt;/p&gt;

&lt;p&gt;Node.jsのSDKがあるのでこちらを使っていきます。&lt;/p&gt;

&lt;p&gt;Node.js以外にも現時点で&lt;a href=&#34;https://clova-developers.line.me/guide/#/CEK/Guides/Clova_CEK_SDK.md&#34;&gt;Swift/Kotlin/Elixir&lt;/a&gt;のSDKが出ています。&lt;/p&gt;

&lt;p&gt;Node.jsのインストールがまだな方はこちらの記事をみてインストールしてみましょう。&lt;/p&gt;

&lt;p&gt;ちなみにNode.jsは公式サイトからではなくnodebrew経由でインストールする形にした方が後々便利です。僕のオススメは以下の記事にあるnodebrew経由でのインストールになります。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;136&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nodejs-install-use-nodebrew/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/136/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                Node.jsを始めよう！nodebrewを使って5分で環境構築
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2017-12-15
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                nodebrewを使ったNode.jsのインストール方法をまとめました。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;p&gt;ターミナル操作が不安な方はこちらの記事を先に見ておきましょう。&lt;/p&gt;

&lt;p&gt;

&lt;section class=&#34;link&#34; id=&#34;158&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/how-to-use-cli/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/158/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                【Mac向け】「黒い画面」の苦手意識を克服しよう！コマンドラインインタフェースの基本操作
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-04-09
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Macユーザ向けコマンドラインインタフェースの使い方！実は難しくない「黒い画面」の操作方法を覚えていきましょう。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;

&lt;br /&gt;


&lt;section class=&#34;link&#34; id=&#34;161&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;

&lt;h3 id=&#34;準備&#34;&gt;準備&lt;/h3&gt;

&lt;p&gt;以下のコマンドで進めていきます。
フォルダ作成と準備です。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ mkdir clova_curry
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;$ cd clova_curry
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;$ npm init -y
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;SDKをnpm経由でインストールします。expressとbody-parserも利用します。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ npm i @line/clova-cek-sdk-nodejs express body-parser
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;現時点では&lt;code&gt;node_modules&lt;/code&gt;,&lt;code&gt;package-lock.json&lt;/code&gt;,&lt;code&gt;package.json&lt;/code&gt;のファイルがある状態ですね。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ls
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;node_modules      package-lock.json package.json
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;コードを書いていく&#34;&gt;コードを書いていく&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;app.js&lt;/code&gt;というファイルを作成して以下のコードを記述します。&lt;/p&gt;

&lt;p&gt;また、スキルの基本情報を登録した際の&lt;code&gt;Extention ID&lt;/code&gt;を利用するので確認しておきましょう。&lt;/p&gt;

&lt;p&gt;公式のサンプルよりもシンプルにしています。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;const clova = require(&#39;@line/clova-cek-sdk-nodejs&#39;);
const express = require(&#39;express&#39;);

const clovaSkillHandler = clova.Client
    .configureSkill()

    //起動時に喋る
    .onLaunchRequest(responseHelper =&amp;gt; {
        responseHelper.setSimpleSpeech({
            lang: &#39;ja&#39;,
            type: &#39;PlainText&#39;,
            value: &#39;カレー屋さんを探します。&#39;,
        });
    })

    //ユーザーからの発話が来たら反応する箇所
    .onIntentRequest(async responseHelper =&amp;gt; {
        const intent = responseHelper.getIntentName();
        const sessionId = responseHelper.getSessionId();

        console.log(&#39;Intent:&#39; + intent);
    })

    //終了時
    .onSessionEndedRequest(responseHelper =&amp;gt; {
        const sessionId = responseHelper.getSessionId();
    })
    .handle();


const app = new express();
const port = process.env.PORT || 3000;

//リクエストの検証を行う場合。環境変数APPLICATION_ID(値はClova Developer Center上で入力したExtension ID)が必須
const clovaMiddleware = clova.Middleware({applicationId: &#39;YOUR_EXTENSION_ID&#39;});
app.post(&#39;/clova&#39;, clovaMiddleware, clovaSkillHandler);

app.listen(port, () =&amp;gt; console.log(`Server running on ${port}`));
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;起動&#34;&gt;起動&lt;/h3&gt;

&lt;p&gt;記述出来たら&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ node app.js
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;Server running on 3000
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;で起動です。エラーがなければとりあえずOKです。&lt;/p&gt;

&lt;h2 id=&#34;ngrokでホスティングせずに疎通確認&#34;&gt;ngrokでホスティングせずに疎通確認&lt;/h2&gt;

&lt;p&gt;ngrokというトンネリングツールを使ってローカル開発が出来るようにしましょう。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;参考: &lt;a href=&#34;https://ngrok.com/&#34;&gt;https://ngrok.com/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://camo.qiitausercontent.com/f97d3442e199ccc5272c34c3eb5a964348660a9a/68747470733a2f2f6e67726f6b2e636f6d2f7374617469632f696d672f776562686f6f6b732e706e67&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;LINE BOTの開発でも同様ですが、&lt;strong&gt;通常はHTTPS対応したサーバーにプログラムをホスティングしてClovaと通信させます。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;HTTPS対応したサーバーを用意するのは骨が折れるのとホスティングして失敗するとエラー修正が大変なので、ローカル開発で最初は挙動確認するのが個人的にはおすすめです。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ngrokを使うことでローカル環境をホスティング環境のようにエミュレート出来るイメージです。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;参考: &lt;a href=&#34;https://qiita.com/n0bisuke/items/ceaa09ef8898bee8369d&#34;&gt;1時間でLINE BOTを作るハンズオン&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;pre&gt;&lt;code&gt;$ npm i -g ngrok
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;これでインストール完了です。&lt;/p&gt;

&lt;p&gt;以下のコマンドで利用しますが、ngrokがターミナル占有してしまうので、Node.jsを起動するターミナルとは別で立ち上げましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ngrok http 3000
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/5eec2e34bf4dd507279099e08496658d.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;こんな雰囲気。右がngrok、左がNode.jsです。&lt;/p&gt;

&lt;p&gt;ngrokを起動すると&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Forwarding                    https://xxxxxxx.ngrok.io -&amp;gt; localhost:3000
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;といった項目が表示されます。&lt;/p&gt;

&lt;p&gt;この&lt;code&gt;https://xxxxxxx.ngrok.io&lt;/code&gt;に&lt;code&gt;/clova&lt;/code&gt;を追加したアドレスをClovaのサーバー設定の&lt;code&gt;ExtensionサーバーのURL&lt;/code&gt;に記載して保存しましょう。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/1e2feeed00daeb97553dfc463b6356ef.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;https://xxxxxxx.ngrok.io/clova&lt;/code&gt;となります。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;xxxxxx&lt;/code&gt;の箇所はngrokを再起動すると変わってしまうのでその際は再度サーバー設定を更新してください。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;これでClovaに話しかけると手元（ローカル環境）のNode.jsまでリクエストが来ます。&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;テスターでテスト&#34;&gt;テスターでテスト&lt;/h2&gt;

&lt;p&gt;直接話しかけても良いのですが、テスターを使ってみましょう。&lt;/p&gt;

&lt;p&gt;対話モデルのダッシュボードに戻ります。&lt;/p&gt;

&lt;p&gt;たぶんビルドは完了してますよね。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;テスト&lt;/code&gt;を選択し、&lt;code&gt;ユーザーのサンプル発話をテスト&lt;/code&gt;の箇所に「&lt;strong&gt;秋葉原のカレー屋を教えて&lt;/strong&gt;」と入力し&lt;code&gt;テストボタン&lt;/code&gt;押しましょう。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/62a98f040486429ef42942e605ddaf26.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Node.jsを起動させているターミナル側で&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Intent:CurreySearchIntent&lt;/code&gt;と表示されていればOKです。&lt;/p&gt;

&lt;p&gt;疎通確認が出来ました！
コードでいうと&lt;code&gt;onIntentRequest()&lt;/code&gt;の箇所までリクエストが通ってることになります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.onIntentRequest(async responseHelper =&amp;gt; {
    const intent = responseHelper.getIntentName();
    const sessionId = responseHelper.getSessionId();

    console.log(&#39;Intent:&#39; + intent); //←ここが反応した
})
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;エラーが出る場合&#34;&gt;エラーが出る場合&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;Error: Invalid application id: ~~~
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;などのエラーが出た人は&lt;code&gt;app.js&lt;/code&gt;内のExtension IDの設定を忘れている可能性が高いので再度チェックしてみましょう。&lt;/p&gt;

&lt;h3 id=&#34;スロット情報も取得してみる&#34;&gt;スロット情報も取得してみる&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;app.js&lt;/code&gt;の&lt;code&gt;onIntentRequest()&lt;/code&gt;の箇所をまるっと差し替えてみましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;//ユーザーからの発話が来たら反応する箇所
.onIntentRequest(async responseHelper =&amp;gt; {
    const intent = responseHelper.getIntentName();
    const sessionId = responseHelper.getSessionId();

    console.log(&#39;Intent:&#39; + intent);
    if(intent === &#39;CurreySearchIntent&#39;){
        const slots = responseHelper.getSlots();
        console.log(slots); //←ここでスロット(今回の場合エリア名)が反応
    }
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Node.jsを再起動して確認してみます。&lt;/p&gt;

&lt;p&gt;テスターでは&lt;code&gt;秋葉原のカレー情報教えて&lt;/code&gt;、&lt;code&gt;神保町のカレー情報教えて&lt;/code&gt;、&lt;code&gt;上野のカレー情報教えて&lt;/code&gt;を順番に実行してみます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ node app.js
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;Server running on 3000
Intent:CurreySearchIntent
{ area: &#39;秋葉原&#39; } //←秋葉原のカレー情報教えて
Intent:CurreySearchIntent
{ area: &#39;神保町&#39; } //←神保町のカレー情報教えて
Intent:CurreySearchIntent
{} //←上野のカレー情報教えて
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;先ほどのスロット名登録の際に、&lt;code&gt;秋葉原&lt;/code&gt;、&lt;code&gt;神保町&lt;/code&gt;、&lt;code&gt;神田&lt;/code&gt;を登録してましたが、&lt;code&gt;上野&lt;/code&gt;は登録してなかったので「上野のカレー情報教えて」だと空になります。&lt;/p&gt;

&lt;h2 id=&#34;clovaにカレー屋情報をしゃべらせる&#34;&gt;Clovaにカレー屋情報をしゃべらせる&lt;/h2&gt;

&lt;p&gt;最後です！&lt;/p&gt;

&lt;p&gt;先ほど同様に&lt;code&gt;app.js&lt;/code&gt;の&lt;code&gt;onIntentRequest()&lt;/code&gt;の箇所をまるっと差し替えてみましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.onIntentRequest(async responseHelper =&amp;gt; {
    const intent = responseHelper.getIntentName();
    const sessionId = responseHelper.getSessionId();

    console.log(&#39;Intent:&#39; + intent);
    if(intent === &#39;CurreySearchIntent&#39;){
        const slots = responseHelper.getSlots();
        console.log(slots);
        //デフォルトのスピーチ内容を記載 - 該当スロットがない場合をデフォルト設定
        let speech = {
            lang: &#39;ja&#39;,
            type: &#39;PlainText&#39;,
            value: `まだ登録されていないエリアです。`
        }
        if(slots.area === &#39;秋葉原&#39;){
            speech.value = `${slots.area}のオススメのカレー屋は フジヤマドラゴンカレー です。`;
        }else if(slots.area === &#39;神保町&#39;){
            speech.value = `${slots.area}のオススメのカレー屋は 共栄堂 です。`;
        }else if(slots.area === &#39;神田&#39;){
            //神田のカレー情報検索
            //何か自分で書いてみましょう。
        }
        responseHelper.setSimpleSpeech(speech);
        responseHelper.setSimpleSpeech(speech, true);
    }
})
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;slots.area&lt;/code&gt;にエリア情報が入っているので、あとはif文で判定して喋らせる内容を変更していきます。&lt;/p&gt;

&lt;p&gt;最後の&lt;code&gt;responseHelper.setSimpleSpeech()&lt;/code&gt;を呼ぶことでClovaが喋ってくれます。&lt;/p&gt;

&lt;h2 id=&#34;実機テスト&#34;&gt;実機テスト&lt;/h2&gt;

&lt;p&gt;Node.jsのサーバーを再起動して試してみましょう。&lt;/p&gt;

&lt;p&gt;起動する際は、&lt;strong&gt;{ウェイクワード} -&amp;gt; {スキル名}を起動して&lt;/strong&gt;となります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ウェイクワード: Clovaの呼び名&lt;/li&gt;
&lt;li&gt;スキル名: 基本情報に登録したスキル名&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;その後、設定したインテントを発話しましょう。&lt;/p&gt;

&lt;p&gt;ということで、人によって違うのですが僕の場合は&lt;code&gt;ねぇ、Clova&lt;/code&gt;がウェイクワードになっていて、今回は&lt;code&gt;カレー情報&lt;/code&gt;というスキル名でした。&lt;/p&gt;

&lt;p&gt;のびすけ: 「&lt;strong&gt;ねぇクローバ&lt;/strong&gt;」&lt;/p&gt;

&lt;p&gt;Clova: 「ポンっ（LEDが緑色に光る）」&lt;/p&gt;

&lt;p&gt;のびすけ: 「&lt;strong&gt;カレー情報を起動して&lt;/strong&gt;」&lt;/p&gt;

&lt;p&gt;Clova: 「カレー屋さんを探します。」 (← Node.jsで記述している)&lt;/p&gt;

&lt;p&gt;Clova: 「ポンっ（LEDが緑色に光る）」&lt;/p&gt;

&lt;p&gt;のびすけ:「&lt;strong&gt;秋葉原のカレー屋さんを教えて&lt;/strong&gt;」&lt;/p&gt;

&lt;p&gt;Clova: 「秋葉原のオススメのカレー屋はフジヤマドラゴンカレーです。」 (← Node.jsで記述している)&lt;/p&gt;

&lt;p&gt;という感じの使い方になります。&lt;/p&gt;

&lt;p&gt;動画もどうぞ&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;instagram-media&#34; data-instgrm-captioned data-instgrm-permalink=&#34;https://www.instagram.com/p/BmAG2Snnk4v/?utm_source=ig_embed&#34; data-instgrm-version=&#34;9&#34; style=&#34; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&#34;&gt;&lt;div style=&#34;padding:8px;&#34;&gt; &lt;div style=&#34; background:#F8F8F8; line-height:0; margin-top:40px; padding:28.125% 0; text-align:center; width:100%;&#34;&gt; &lt;div style=&#34; background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;&#34;&gt;&lt;/div&gt;&lt;/div&gt; &lt;p style=&#34; margin:8px 0 0 0; padding:0 4px;&#34;&gt; &lt;a href=&#34;https://www.instagram.com/p/BmAG2Snnk4v/?utm_source=ig_embed&#34; style=&#34; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&#34; target=&#34;_blank&#34;&gt;ハンズオンに使えそうなカレースキル！ #clova_cek #linebootawards&lt;/a&gt;&lt;/p&gt; &lt;p style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&#34;&gt;&lt;a href=&#34;https://www.instagram.com/n0bisuke/?utm_source=ig_embed&#34; style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&#34; target=&#34;_blank&#34;&gt; n0bisuke&lt;/a&gt;さん(@n0bisuke)がシェアした投稿 - &lt;time style=&#34; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&#34; datetime=&#34;2018-08-03T03:29:52+00:00&#34;&gt;2018年 8月月2日午後8時29分PDT&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt; &lt;script async defer src=&#34;//www.instagram.com/embed.js&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;こんな感じでとりあえず試す手順を紹介しました。&lt;/p&gt;

&lt;p&gt;ホスティングもnowやherokuを使うと簡単に出来るので&lt;a href=&#34;https://www.dropbox.com/s/547siacriaudy4f/CEK_Handson%1D_0729.pdf?dl=0&#34;&gt;立花さんのハンズオン資料&lt;/a&gt;を参照して理解を深めましょう！&lt;/p&gt;

&lt;p&gt;ホスティングに関しても余裕があれば追記したいと思います。&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>お腹がなる前にobniz!電子工作初心者がおペコ伝達デバイスをつくってみた</title>
      <link>https://dotstud.io/blog/obniz-tell-be-hungry/</link>
      <pubDate>Wed, 01 Aug 2018 10:32:26 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/obniz-tell-be-hungry/</guid>
      
      <description>

&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/kiki/&#34;&gt;きき&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;遅めの育ち盛りなのか、お腹がすくのがとても早い今日この頃。お昼が近づいてくると、お腹がぐ〜ぐ〜なってしまうことが多々あります。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/opeko.png&#34; alt=&#34;opeko&#34;&gt;

&lt;/center&gt;


&lt;p&gt;&lt;center&gt;
&lt;font size=&#34;4&#34;&gt;これ聞こえてる。隣の席のちゃんとくさんに絶対聞こえてる。&lt;/font&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;br /&gt;
本当に恥ずかしいんですよね、だって女の子だもん。とはいえ、生理現象なので誰もぐ〜ぐ〜を止めることはできません。&lt;/p&gt;

&lt;p&gt;ならば仕方ない、言われる前に言っちゃえ！お腹が鳴る前に「私、お腹が空きましたよ」ということを伝える「&lt;strong&gt;おペコ伝達デバイス&lt;/strong&gt;」を作っちゃいましょう！&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;2&#34;&gt;※おペコ…お腹がペコペコの意。&lt;/font&gt;&lt;/p&gt;

&lt;h2 id=&#34;obnizでおペコ伝達デバイスを作る&#34;&gt;obnizでおペコ伝達デバイスを作る&lt;/h2&gt;

&lt;h3 id=&#34;iot開発ボード-obniz-って&#34;&gt;IoT開発ボード「obniz」って？&lt;/h3&gt;

&lt;p&gt;今回は、JavaScriptで初心者も簡単に開発できる「&lt;strong&gt;&lt;a href=&#34;https://obniz.io/&#34;&gt;obniz&lt;/a&gt;（おぶないず）&lt;/strong&gt;」を使っておペコ伝達デバイスを作ります！&lt;/p&gt;

&lt;p&gt;obnizは、&lt;strong&gt;Wi-Fiに繋げるだけでどこからでも操作することができるIoT開発ボード&lt;/strong&gt;
です。&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/263775/0e90dfcd-4c30-0ab2-b4e2-307f6d3877ca.png&#34; alt=&#34;&#34; /&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Wi-Fi以外のセットアップ不要&lt;/strong&gt;でオンライン上ですぐに開発することができ、&lt;strong&gt;JavaScriptやブロックプログラミング&lt;/strong&gt;で開発できるためプログラミング初心者でも気軽に使い始めることができます。&lt;/p&gt;

&lt;p&gt;また&lt;strong&gt;すべてのI/Oが電圧の切り替えやUART変換に対応&lt;/strong&gt;、&lt;strong&gt;モータドライバ搭載&lt;/strong&gt;で、難しいGPIOを意識することなくハードウェアを利用できます。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;サーバレス機能を用いた他サービスとの連携&lt;/strong&gt;や、&lt;strong&gt;obnizクラウドによるAPI操作機能&lt;/strong&gt;もあり、あると便利な&lt;strong&gt;Bluetooth（BLE）&lt;/strong&gt;や&lt;strong&gt;OLEDディスプレイ&lt;/strong&gt;も搭載です。&lt;/p&gt;

&lt;p&gt;紹介したい機能が多すぎて太字だらけになっちゃいました。もう&lt;u&gt;&lt;strong&gt;欲しい機能全部盛り&lt;/strong&gt;&lt;/u&gt;って感じですね！&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;192&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/obniz-hello-world-iot/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/192/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                JavaScriptで動くIoT開発ボード「obniz」って？使い方を説明！
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-25
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                話題の開発ボード「obniz」でLチカ！簡単なAPI制御やGPIO操作で今すぐIoT開発できちゃうのでは？
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;p&gt;&lt;a href=&#34;https://dotstud.io/blog/obniz-hello-world-iot/&#34;&gt;前回の記事&lt;/a&gt;では、obnizデビュー！ということで、セットアップ方法やブロックプログラミングでLチカを試してみました。&lt;/p&gt;

&lt;p&gt;今回はJavaScriptでコードを書いて、Lチカやサーボモーターを動かしてみたいと思います。&lt;/p&gt;

&lt;h3 id=&#34;おペコを伝える方法&#34;&gt;おペコを伝える方法&lt;/h3&gt;

&lt;p&gt;おペコの伝達は以下の2パターンで試してみたいと思います。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;めっちゃ光ってobnizのディスプレイにメッセージを表示させる&lt;/li&gt;
&lt;li&gt;Twitterで「#お腹すいたなぁ」とツイートすると旗を振って鈴を鳴らす&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;それではお腹がなってしまう前に作らねば〜！&lt;/p&gt;

&lt;h3 id=&#34;今回使用する電子部品たち&#34;&gt;今回使用する電子部品たち&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;ジャンパワイヤ ×3&lt;/li&gt;
&lt;li&gt;サーボモーター ×1&lt;/li&gt;
&lt;li&gt;内部抵抗が付いているLED （赤 ×1、紫 ×1）&lt;/li&gt;
&lt;li&gt;旗用の画用紙や鈴など&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;LEDは、obniz公式サイトに「&lt;strong&gt;内部抵抗があるものを使用してください&lt;/strong&gt;」との旨が記載されているので、要注意です。&lt;/p&gt;

&lt;h2 id=&#34;おペコ伝達①-めっちゃ光ってobnizのディスプレイにメッセージが表示される&#34;&gt;おペコ伝達①: めっちゃ光ってobnizのディスプレイにメッセージが表示される&lt;/h2&gt;

&lt;p&gt;専用の&lt;a href=&#34;http://obniz.io/program&#34;&gt;オンラインエディタ&lt;/a&gt;を開き、以下のコードを書きました。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;!-- HTML Example --&amp;gt;
&amp;lt;html&amp;gt;
&amp;lt;head&amp;gt;
  &amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width, initial-scale=1&amp;quot;&amp;gt;
  &amp;lt;script src=&amp;quot;https://obniz.io/js/jquery-3.2.1.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;script src=&amp;quot;https://unpkg.com/obniz@latest/obniz.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;

&amp;lt;div id=&amp;quot;obniz-debug&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;

&amp;lt;script&amp;gt;
    var obniz = new Obniz(&amp;quot;XXXX-XXXX&amp;quot;); // 固有のobniz ID

     obniz.onconnect = function(){
      obniz.display.clear();
      obniz.display.print(&amp;quot;ちゃんとくさん&amp;quot;);
	},4000;

      setInterval(function(){
        obniz.display.print(&amp;quot;あなたの脳内に&amp;quot;);
    }, 6000);

   setInterval(function(){
        obniz.display.print(&amp;quot;呼びかけています&amp;quot;);
    }, 7000);

   setInterval(function(){
        obniz.display.print(&amp;quot;お腹が空きました&amp;quot;);
    }, 8000);


    setInterval(function () {
    var led1 = obniz.wired(&amp;quot;LED&amp;quot;, {anode:4, cathode:5});
    var led2 = obniz.wired(&amp;quot;LED&amp;quot;, {anode:6, cathode:7});
    led1.on();
    led2.off();
    },1000);

  setInterval(function () {
    var led1 = obniz.wired(&amp;quot;LED&amp;quot;, {anode:4, cathode:5});
    var led2 = obniz.wired(&amp;quot;LED&amp;quot;, {anode:6, cathode:7});
    led1.off()
    led2.on();
    },2000);

&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;保存＆開く&lt;/strong&gt;ボタンを押すと……&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/190/2.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;赤と紫のLEDの眩しいことよ……！&lt;/p&gt;

&lt;p&gt;内部抵抗のないLEDを使ってしまうと流れる電流の大きさに耐えられず、LEDが壊れてしまい危険な状態に。obnizでは、自動的に停止して警告音を鳴らしてくれる「&lt;strong&gt;過電流保護機能&lt;/strong&gt;」が起動します。間違えてしまってもなんとかしてくれるので、初心者に優しいですね。&lt;/p&gt;

&lt;p&gt;（公式サイトをちゃんと読まずに内部抵抗のないLEDを使用し、画面上に現れる多数の「&lt;strong&gt;warning&lt;/strong&gt;」と、若干の焦げた匂いに内心ビビりまくったことは内緒ですよ……）&lt;/p&gt;

&lt;h2 id=&#34;おペコ伝達②-twitterで-お腹すいたなぁ-とツイートすると旗を振って鈴を鳴らす&#34;&gt;おペコ伝達②: Twitterで「#お腹すいたなぁ」とツイートすると旗を振って鈴を鳴らす&lt;/h2&gt;

&lt;p&gt;次は、&lt;a href=&#34;https://obniz.io/explore/1&#34;&gt;公式サイトの作品一覧ページ&lt;/a&gt;を参考にして、&lt;strong&gt;目で見てわかるだけでなく、音でも空腹を伝えられるようにします。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;手順は以下の通りです。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Twitter API Keyを取得する&lt;/li&gt;
&lt;li&gt;Node.jsでサーバモーターを動かす&lt;/li&gt;
&lt;li&gt;いい感じの旗を作る&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;twitter-api-keyを取得する&#34;&gt;Twitter API Keyを取得する&lt;/h3&gt;

&lt;p&gt;私ははじめての取得だったので手順を載せますが、&lt;strong&gt;そんなんもう知っとるわ&lt;/strong&gt;という方は読み飛ばしちゃってください。&lt;/p&gt;

&lt;p&gt;ちなみに、Twitterの設定であらかじめ電話番号の登録をする必要があります。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;


&lt;p&gt;&lt;a href=&#34;https://apps.twitter.com/&#34;&gt;Twitter Application Management&lt;/a&gt;を開き、右上の「&lt;strong&gt;Create New App&lt;/strong&gt;」ボタンを押します。&lt;/p&gt;

&lt;p&gt;なんで3個も作ってるのかという理由は後ほど説明します。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;


&lt;ol&gt;
&lt;li&gt;必須の3箇所に記入&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Developer Agreement&lt;/strong&gt;のチェックボックスを押す&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Create your Twitter application&lt;/strong&gt;を押す&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;これでアプリケーションの作成ができました。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/5.png&#34; alt=&#34;5&#34;&gt;

&lt;/center&gt;






&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/6.png&#34; alt=&#34;6&#34;&gt;

&lt;/center&gt;


&lt;p&gt;&lt;strong&gt;Your Access Token&lt;/strong&gt;は、&lt;strong&gt;Create my access token&lt;/strong&gt;を押すと発行されます。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/7.png&#34; alt=&#34;7&#34;&gt;

&lt;/center&gt;


&lt;p&gt;すんなりと取得することができましたね。&lt;/p&gt;

&lt;h3 id=&#34;node-jsでサーバモーターを動かす&#34;&gt;Node.jsでサーバモーターを動かす&lt;/h3&gt;

&lt;p&gt;参考にしたコードをみると、記入する部分が３箇所あることがわかります。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/8.png&#34; alt=&#34;8&#34;&gt;

&lt;/center&gt;


&lt;p&gt;①数字8桁のobniz固有ID
②取得した4種類のAPI Key
③反応してほしい言葉&lt;/p&gt;

&lt;p&gt;をそれぞれ入力します。&lt;/p&gt;

&lt;p&gt;Node.jsでサーバーを立ち上げ、コードを書き込みましょう。&lt;/p&gt;

&lt;p&gt;実際のコードはこちらです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// Nodejs

var Obniz = require(&#39;obniz&#39;);
var Twitter = require(&#39;twitter&#39;);

var obniz = new Obniz(&amp;quot;0000-0000&amp;quot;);

var servo;
obniz.onconnect = function(){
  servo = obniz.wired(&amp;quot;ServoMotor&amp;quot;, {signal:0,vcc:1, gnd:2});
  servo.angle(10);
  }


var client = new Twitter({
    consumer_key: &#39;ConsumerKey&#39;,
    consumer_secret: &#39;Secret&#39;,
    access_token_key: &#39;TokenKey&#39;,
    access_token_secret: &#39;TokenSeacret&#39;
  });

var stream = client.stream(&#39;statuses/filter&#39;, {track: &#39;#お腹すいたなぁ&#39;});
stream.on(&#39;data&#39;, function(event) {
  if (event) {
    var count = 0;
    var angles = [75,45,75,45,75,45,75]
    var timer = setInterval(function(){
      count++;
      servo.angle(angles[count]);
      if (count &amp;gt;= 6){
        clearInterval(timer);
      }
    }, 500);
  }
});
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;③は「&lt;strong&gt;#お腹すいたなぁ&lt;/strong&gt;」にしました。「お腹すいた」「ご飯食べたい」ではなく、「すいたなぁ」と語尾を弱くすることで「&lt;strong&gt;すみません、私もうお腹空きすぎて力が入らんのです……&lt;/strong&gt;」といった申し訳なさと弱々しい感情の表現にこだわりました。&lt;/p&gt;

&lt;p&gt;サーボモーターの配線は、以下の通りに繋いでください。
・茶色：GND→2
・赤：電源［＋］→1
・オレンジ：制御信号→0&lt;/p&gt;

&lt;p&gt;文字を変えてみたり、角度を調節してみたり……を繰り返しすぎると、Twitterから「&lt;strong&gt;あなた短時間で何回も起動しすぎよ&lt;/strong&gt;」というエラーが表示されます。エラーが解除されるまで15分ほど待たなければいけないので、待たなくていいように3つのTwitter API Keyを取得して交互に使用しました。&lt;/p&gt;

&lt;p&gt;起動するとこんな感じです。
&lt;img src=&#34;https://dotstud.io/img/blog/190/9.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;はじめてサーボモーター動かせたよ〜！楽しいよ〜！&lt;/p&gt;

&lt;h3 id=&#34;いい感じの旗を作る&#34;&gt;いい感じの旗を作る&lt;/h3&gt;

&lt;p&gt;久しぶりのプチ図画工作、付箋をチョキチョキ。&lt;/p&gt;

&lt;p&gt;小学４年生で所属していた「図工クラブ」での経験が発揮された瞬間です。旗は2パターン作ってみました。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/190/10.png&#34; alt=&#34;10&#34;&gt;

&lt;/center&gt;


&lt;p&gt;不器用な私史上、かなりいい方です。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/190/11.gif&#34; alt=&#34;&#34; /&gt;
事後報告バージョン&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/190/12.gif&#34; alt=&#34;&#34; /&gt;
事前報告バージョン&lt;/p&gt;

&lt;p&gt;なんだか旗の振り方が少し不器用ですが、作り手に似たということにしてこのまま進みます。&lt;/p&gt;

&lt;h2 id=&#34;お腹が鳴りそうになってきた&#34;&gt;お腹が鳴りそうになってきた&lt;/h2&gt;

&lt;p&gt;それではobnizをこっそりちゃんとくさんのデスクに仕込みます。&lt;/p&gt;

&lt;h3 id=&#34;①ledライトとディスプレイ表示で視覚に訴えるスタイル&#34;&gt;①LEDライトとディスプレイ表示で視覚に訴えるスタイル&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/190/13.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;img image_w&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/190/obniz1.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;obniz&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            （……ちゃんとくさん……きこえますか……ききです……今……あなたの脳内に……直接……呼びかけています……お腹が空きました……）
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;img image_c&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/190/chantoku.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;ちゃんとく&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            「目がやられた」
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;h3 id=&#34;②旗と鈴の音で視覚のみならず聴覚にも訴えるスタイル&#34;&gt;②旗と鈴の音で視覚のみならず聴覚にも訴えるスタイル&lt;/h3&gt;

&lt;p&gt;鈴はピンクのお守りについている鈴しかありませんでした。予想以上にキュートな仕上がりです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/190/14.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;img image_w&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/190/obniz2.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;obniz&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            「きき、おペコです…！（ブンブン）」
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;img image_c&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/190/chantoku.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;ちゃんとく&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            「驚いた」
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;思ったより激しめに旗が動く&lt;/strong&gt;ので、こちらの方が空腹感はより伝わると思います。微かな驚きとともにおペコを伝えることができました。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;img image_c&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/190/chantoku.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;ちゃんとく&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            「そろそろお昼にしようか！」
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;img image_c&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/190/opeko2.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;きき&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            「やっっっった〜〜〜〜！！！（歓喜）」
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;

&lt;p&gt;いかがでしたでしょうか？&lt;/p&gt;

&lt;p&gt;obnizを使えば、&lt;strong&gt;お腹がぐ〜ぐ〜なって恥ずかしい思いをすることもないし、お昼のタイミングを早めることもできます&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;みなさんも会社の上司のデスクや、学校の気になるあの子の机に仕込みまくり、日々のおペコ問題を解消していきましょう！&lt;/p&gt;

&lt;p&gt;ではでは、私はランチタイムに入ることにします〜！&lt;/p&gt;

&lt;style&gt;
.dialogue {
    padding: 10px;
    display: table;
}

.img {
    margin-right: 10px;
    display: table-cell;
    vertical-align: middle;
}

.img img {
    margin-left: 10px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
}

.image_n img {
    border: 2px solid blue;
}

.image_c img {
    border: 2px solid pink;
}

.image_w img {
    border-radius: 50%;
    border: 2px solid green;
}

.image_t img {
    border-radius: 50%;
    border: 2px solid red;
}

.image_s img {
    border-radius: 50%;
    border: 2px solid brown;
}
.name {
    font-weight: bold;
    text-align: center;
    margin-left: 10px;
}

.text {
    display: table-cell;
    padding: 0;
    vertical-align: middle;
    padding-left: 20px;
}
&lt;/style&gt;
</description>
    </item>
    
    <item>
      <title>JavaScriptで動くIoT開発ボード「obniz」って？使い方を説明！</title>
      <link>https://dotstud.io/blog/obniz-hello-world-iot/</link>
      <pubDate>Wed, 25 Jul 2018 10:00:24 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/obniz-hello-world-iot/</guid>
      
      <description>

&lt;p&gt;こんにちは、テクニカルエディターの&lt;a href=&#34;https://dotstud.io/members/kiki&#34;&gt;きき&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;突然ですが、「&lt;strong&gt;IoTってなんだか難しそう。でも、気になる。&lt;/strong&gt;」という方へ。IoT体験、やってみたいですよね？ネットを通してモーターを動かしたり、LEDをチカチカさせたりしてみたいですよね？ね？&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;そんなあなたに読んでほしい！&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;初心者でも簡単にIoTプログラミングができるぞ、と噂の開発ボード「&lt;strong&gt;obniz&lt;/strong&gt;」をババンと紹介します！&lt;/p&gt;

&lt;h2 id=&#34;obnizとは&#34;&gt;obnizとは？&lt;/h2&gt;

&lt;p&gt;「&lt;a href=&#34;https://obniz.io/&#34;&gt;&lt;strong&gt;obniz&lt;/strong&gt;（オブナイズ）&lt;/a&gt;」は、&lt;strong&gt;Wi-Fiに繋げるだけでどこからでも操作することができるIoT開発ボード&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/263775/0e90dfcd-4c30-0ab2-b4e2-307f6d3877ca.png&#34; alt=&#34;スクリーンショット 2018-07-11 14.44.18.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;2018年5月18日からCambrianRoboticsが開発・販売しているボードで、価格は&lt;strong&gt;5,980円（税込）&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;クラウドファンディングサイト&lt;a href=&#34;https://www.kickstarter.com/projects/cambrianrobotics/obniz-api-managed-io?ref=card&#34;&gt;&lt;strong&gt;kickstarter&lt;/strong&gt;&lt;/a&gt;では100万円以上の資金を集め、販売後には売り切れ続出と話題になっていましたね！&lt;/p&gt;

&lt;p&gt;日本だけでなく海外にも販売経路を伸ばし、&lt;strong&gt;海外MakerFaire出展&lt;/strong&gt;や&lt;strong&gt;ハンズオン開催&lt;/strong&gt;など取り組んでいるようです。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://amzn.to/2KnvxXV&#34;&gt;Amazon購入リンク&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ざっくり特徴紹介&#34;&gt;ざっくり特徴紹介&lt;/h3&gt;

&lt;p&gt;obnizの特徴・機能は多岐にわたるのですが、ざっくりと下記が挙げられます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;オンラインエディタの利用で環境構築なし&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;JavaScript&lt;/strong&gt;や&lt;strong&gt;ブロックプログラミング&lt;/strong&gt;で開発可能&lt;/li&gt;
&lt;li&gt;obnizに繋いだモーターやセンサーなどを&lt;strong&gt;ブラウザから制御可能&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HTMLでのUI連携や、Node.jsで他サービスと回路の連携&lt;/strong&gt;が可能&lt;/li&gt;
&lt;li&gt;全てのピンでUARTのアサイン可能&lt;/li&gt;
&lt;li&gt;全てのピンで1A・ドライバ搭載（&lt;strong&gt;モータを直挿し可能&lt;/strong&gt;）&lt;/li&gt;
&lt;li&gt;電流が大きくなると自動的に停止して警告音を鳴らしてくれる「&lt;strong&gt;過電流保護機能&lt;/strong&gt;」搭載&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OLEDディスプレイ&lt;/strong&gt;、&lt;strong&gt;Wi-Fi機能&lt;/strong&gt;、&lt;strong&gt;BLE機能&lt;/strong&gt;搭載&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;obnizクラウド&lt;/strong&gt;でAPIから制御可能&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;サーバレス&lt;/strong&gt;でwebhook連携も簡単&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;いかに多機能かわかっていただけたでしょうか……！初心者が使いやすいだけでなく、高性能でもあるようです。&lt;/p&gt;

&lt;p&gt;ざっと公式サイトを読んだだけでも良いことだらけなobniz、早速使ってみましょう〜！&lt;/p&gt;

&lt;h2 id=&#34;obnizを触ってみよう&#34;&gt;obnizを触ってみよう&lt;/h2&gt;

&lt;h3 id=&#34;開封の儀&#34;&gt;開封の儀&lt;/h3&gt;

&lt;p&gt;しゃちょーののびすけさんに「&lt;strong&gt;obnizを貸してください&lt;/strong&gt;」と伝えたら、「&lt;strong&gt;攻めるね〜！！&lt;/strong&gt;」と茶化されたので、なんとなく緊張してしまいますね。&lt;/p&gt;

&lt;p&gt;パッケージはこのような感じです。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/2.png&#34; alt=&#34;2&#34;&gt;

&lt;/center&gt;






&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;






&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;


&lt;p&gt;差し色のブルーが可愛いいいい！&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://dotstud.io/blog/toy-drone-tello-using/&#34;&gt;前回の記事&lt;/a&gt;では、トイドローン「Tello」で終始遊び倒す内容だったので、きき史上初めての開発ボード。初めてのおつかいならぬ、&lt;strong&gt;初めてのかいふう&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;ジャジャン！！&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/1.png&#34; alt=&#34;1&#34;&gt;

&lt;/center&gt;


&lt;p&gt;obnize本体サイズは&lt;strong&gt;74.5×36.3mm&lt;/strong&gt;なので、私の想像に比べるとなんだか小さかったです。&lt;/p&gt;

&lt;h3 id=&#34;wi-fi設定&#34;&gt;Wi-Fi設定&lt;/h3&gt;

&lt;p&gt;まずはじめに、ケーブルとobnizをつなぎます。&lt;/p&gt;

&lt;p&gt;待って！なんか可愛い子出てきた〜！これは何かの動物なのでしょうか？妖精か何かなのでしょうか？&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/8.png&#34; alt=&#34;8&#34;&gt;

&lt;/center&gt;


&lt;p&gt;「&lt;strong&gt;Switch this!&lt;/strong&gt;」と言われるがままに左上のボタンを押します。&lt;/p&gt;

&lt;p&gt;押すとWi-Fiの設定が始まるので、ディスプレイ上で選択して繋げます。左上のボタンは左右のフリックと押し込みで選択・決定ができるようになっているんですね。&lt;/p&gt;

&lt;h3 id=&#34;オンラインエディタを開く&#34;&gt;オンラインエディタを開く&lt;/h3&gt;

&lt;p&gt;Wi-Fi設定が終わると、QRコードと8桁の番号が表示されます。この番号がobniz idという識別番号になっているようです。（&lt;strong&gt;どこからでも操作できちゃう&lt;/strong&gt;ので、公開しない方が良さそうですね！）&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/5.png&#34; alt=&#34;5&#34;&gt;

&lt;/center&gt;


&lt;p&gt;QRコードをスマートフォンで読みこむとオンラインエディタが開き、このような画面が出てきます。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/9.png&#34; alt=&#34;9&#34;&gt;

&lt;/center&gt;

ここにobnizのディスプレイで表示されている8桁のobniz idを入力します。&lt;/p&gt;

&lt;p&gt;obnizはクラウド上のAPIを利用して操作できるので、ソフトウェアやアプリをインストールする必要はありません。&lt;/p&gt;

&lt;p&gt;すごく簡単ですよね？これで準備はばっちりです！&lt;/p&gt;

&lt;h2 id=&#34;obnizのプログラミングをしてみよう&#34;&gt;obnizのプログラミングをしてみよう&lt;/h2&gt;

&lt;h3 id=&#34;始めてすぐさまhello-world&#34;&gt;始めてすぐさまHello World&lt;/h3&gt;

&lt;p&gt;オンラインエディタには、すでに以下のようなコードが書かれています。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/10.png&#34; alt=&#34;10&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;2&#34;&gt;
※スマートフォンから操作しづらいなあって時は、PCから&lt;a href=&#34;http://obniz.io/program&#34;&gt;オンラインエディタ&lt;/a&gt;を開いてobniz idを入力しましょう。
&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;obniz.display.print(&amp;quot;Hello World!&amp;quot;)&lt;/code&gt;とあるように、obnizのディスプレイ上に「Hell World」を表示するコードですね。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;&amp;quot;OBNIZ_ID_HERE&amp;quot;&lt;/code&gt;&lt;/strong&gt;のところにも、obniz idを入力しましょう。&lt;/p&gt;

&lt;p&gt;右上の保存＆開くボタンを押すと……&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/11.png&#34; alt=&#34;11&#34;&gt;

&lt;/center&gt;

obnizのディスプレイ上でも「&lt;strong&gt;Hello World&lt;/strong&gt;」が表示されました〜！&lt;/p&gt;

&lt;p&gt;私、何もしていないのにHello Worldされている……！&lt;/p&gt;

&lt;h3 id=&#34;ブロックプログラミングでlチカデビュー&#34;&gt;ブロックプログラミングでLチカデビュー&lt;/h3&gt;

&lt;p&gt;obnizを動かすことができた感動と「私何もしていないぞ」感の間で葛藤しているので、その次に簡単な&lt;strong&gt;ブロックプログラミング&lt;/strong&gt;をしてみます。&lt;/p&gt;

&lt;p&gt;ホームページの色合いがふんわりとしていてデザインが可愛らしいので、初心者女子大生もビビることなく進めることができるのもオススメポイントです。&lt;/p&gt;

&lt;p&gt;公式サイトから、&lt;a href=&#34;https://obniz.io/makecode/&#34;&gt;ブロックプログラミング専用エディタ&lt;/a&gt;を開きます。&lt;/p&gt;

&lt;p&gt;はじめに、&lt;strong&gt;My Project&lt;/strong&gt;を選択します。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/12.png&#34; alt=&#34;12&#34;&gt;

&lt;/center&gt;


&lt;p&gt;お久しぶりです、と言わんばかりに再度こちらの画面が表示されるので、obniz idを入力します。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/13.png&#34; alt=&#34;13&#34;&gt;

&lt;/center&gt;


&lt;p&gt;入力すると、ブロックプログラミングの操作画面に変わります。&lt;/p&gt;

&lt;p&gt;こりゃまた可愛すぎるのでは……！？&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/6.png&#34; alt=&#34;6&#34;&gt;

&lt;/center&gt;


&lt;p&gt;こちらもobnizのディスプレイ上に「Hell World」を表示するコードです。簡単に文字を表示させたり、LEDを光らせたり、モーターを動かすこともできます。メニューバーがたくさんあるのでいろんなことを試せますね。&lt;/p&gt;

&lt;p&gt;この時点で「IoTは何から始めればいいのか分からない……」と泣き言を呟いていたあの頃の私が嘘のようにハイテンションです。胸熱なまま、Lチカに挑みます。&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/192/7.png&#34; alt=&#34;7&#34;&gt;

&lt;/center&gt;

表示する文字を増やすことも、LEDの秒数も簡単に設定できます。&lt;/p&gt;

&lt;p&gt;そして完成したのがこちら！&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://gyazo.com/5c7e715003a9594450230da781555281&#34;&gt;&lt;img src=&#34;https://i.gyazo.com/5c7e715003a9594450230da781555281.gif&#34; alt=&#34;Image from Gyazo&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;2&#34;&gt;※公式サイトにあるように、抵抗内蔵LEDを使用してください。&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;なんということでしょう。こんなにもすぐにLチカデビューできるなんて！&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;この記事を読んでいる方はお気づきだと思うのですが、&lt;strong&gt;難しいことは何一つしていません&lt;/strong&gt;。そうであるのにもかかわらず、このわくわく感。IoT体験は、&lt;strong&gt;楽しいことだらけ&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;今回はブロックプログラミングを行いましたが、次回はJavaScriptでサーボモータも使ってみたいと思います。&lt;/p&gt;

&lt;p&gt;ホームページには実際の遊び方の説明や作品紹介ページが充実しているので、気軽に始めることができます。初心者の方もそうでない人も、obnizで様々な使い方を試してみてくださいね！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>【詳細解説】ステッピングモータの仕組みを理解しよう！解説とNefry BTでステッピングモータを使う方法</title>
      <link>https://dotstud.io/blog/stepper-motor-nefrybt-control/</link>
      <pubDate>Mon, 23 Jul 2018 10:00:00 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/stepper-motor-nefrybt-control/</guid>
      
      <description>

&lt;p&gt;モータの種類にはいろいろあります。前回は回転角度を調整できる&lt;a href=&#34;https://dotstud.io/blog/nefry-servo-handson-takudooon/&#34;&gt;サーボモータ&lt;/a&gt;について紹介しました。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;187&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nefry-servo-handson-takudooon/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/187/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                PWM制御をマスターしよう！Node-REDでサーボモータを遠隔制御する方法＆初ハンズオンレポート
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-12
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                PWM制御でサーボモータを操作してモノ作りの幅を広げましょう！Node-REDを使ったハンズオンの内容を紹介します。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;p&gt;今回は、&lt;strong&gt;ロボットアームや3Dプリンタの制御に使われるステッピングモータ&lt;/strong&gt;について説明し、Nefry BTで制御に挑戦してみたいと思います。&lt;/p&gt;

&lt;h2 id=&#34;ステッピングモータとは&#34;&gt;ステッピングモータとは？&lt;/h2&gt;

&lt;p&gt;ステッピングモータは、DCモータ（Direct-current motor、直流電動機）とは異なり、&lt;strong&gt;電力信号を与えることで正確に回転を制御&lt;/strong&gt;できます。&lt;/p&gt;

&lt;p&gt;例えばステッピングモータの使われている3Dプリンタでは、正確に回転を制御できているからこそ3Dプリントが実現しているとも言えます。&lt;/p&gt;

&lt;p&gt;各モータの特徴をまとめると下記のようになります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;DCモータ: 電力を与えるとずっと回転する&lt;/li&gt;
&lt;li&gt;サーボモータ: ある信号に対応してある角度の範囲で回転する&lt;/li&gt;
&lt;li&gt;ステッピングモータ: 回転範囲に制限はなく、電力信号を与えることで正確に回転し続ける&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ステッピングモータの種類-１&#34;&gt;ステッピングモータの種類〈１〉&lt;/h3&gt;

&lt;p&gt;ステッピングモータには3種類あります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;PM型&lt;/strong&gt;（Permanent Magnet Type、永久磁石）

&lt;ul&gt;
&lt;li&gt;回転子として円周上にN極とS極の交互に着磁した磁性体を使用する。安価だが、着磁間隔を細かくすることに限界があり、ステップ角度は小さくできない。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;VR型&lt;/strong&gt;（Variable Reluctance Type、歯車状鉄心形）

&lt;ul&gt;
&lt;li&gt;回転子として歯車状の鉄心を使用する。ステップ角度を小さくできるが、トルクがやや低い。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HB型&lt;/strong&gt;（Hybrid Type、複合形）

&lt;ul&gt;
&lt;li&gt;PM型とVR型の特徴をもつ構造をしている。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;※回転子（ローター）…モーターとして回転する軸のこと。&lt;/p&gt;

&lt;h3 id=&#34;ステッピングモータの仕組み&#34;&gt;ステッピングモータの仕組み&lt;/h3&gt;

&lt;p&gt;PM型のステッピングモータの仕組みを簡単に説明したいと思います。&lt;/p&gt;

&lt;p&gt;まず、下記の図のようにPM型のステッピングモータは&lt;strong&gt;中心の永久磁石からなる回転子&lt;/strong&gt;と&lt;strong&gt;外側のコイルから構成されている固定子&lt;/strong&gt;から構成されています。コイルに電流を流すことで磁力が発生し、この磁力を利用して回転子を回転させていきます。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/1.png&#34; alt=&#34;1&#34;&gt;

&lt;/center&gt;


&lt;ol&gt;
&lt;li&gt;コイル1に電流を流すと固定子と回転子のN極とS極が引き合う。&lt;/li&gt;
&lt;li&gt;さらにコイル2に電流を流すと、両方の固定子が磁化して回転子を引きつける。つまり45°回転する。&lt;/li&gt;
&lt;li&gt;コイル1の電流を切ると、さらに45°回転する。&lt;/li&gt;
&lt;li&gt;コイル3にコイル1に流した電流と逆方向の電流を流すと、さらに45°回転する。&lt;/li&gt;
&lt;li&gt;コイル2の電流を切ると、さらに45°回転する。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;上記と同様の動作を繰り返すと回転子が回転します。&lt;/p&gt;

&lt;p&gt;また、動画にすると下記のようなイメージです。
&lt;img src=&#34;https://dotstud.io/img/blog/189/2.gif&#34; alt=&#34;&#34; /&gt;
&lt;strong&gt;制御信号（ステップと呼びます）を与えると回転する&lt;/strong&gt;イメージです。また、&lt;strong&gt;1ステップあたりの回転角度を基本ステップ角度&lt;/strong&gt;と呼びます。&lt;/p&gt;

&lt;h3 id=&#34;ステッピングモータの種類-２&#34;&gt;ステッピングモータの種類〈２〉&lt;/h3&gt;

&lt;p&gt;先ほど述べたようにステッピングモータの種類には3種類あります。そして、&lt;strong&gt;さらに2種類&lt;/strong&gt;あります。ただし、この2種類とはステッピングモータ内部にあるコイルへの電流の流し方の違いによるものです。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ユニポーラ型&lt;/strong&gt;（単極性）

&lt;ul&gt;
&lt;li&gt;相電流の切り替えのとき、1つのコイルに対して一定方向の電流しか流さない。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;バイポーラ型&lt;/strong&gt;（双極性）

&lt;ul&gt;
&lt;li&gt;相電流の切り替えのたび、電流の方向が変わる。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;※ステッピングモータの仕組みで説明したように磁極を変えるため内部のコイルをスイッチングする必要がある。その磁極をどのように変更するかというイメージ。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h3 id=&#34;励磁-れいじ-方式&#34;&gt;励磁（れいじ）方式&lt;/h3&gt;

&lt;p&gt;励磁方式とは、簡単に言えば「どのようにコイルに電流を流し、ステッピングモータを回転させるか」です。つまり、どのコイル（どのピン）に電圧をどの順番で印加していくかということです。&lt;/p&gt;

&lt;p&gt;これは、制御するときに方式を選ぶことができます（プログラムで書くことができます）。ライブラリを使って制御するとわかりにくい部分かもしれません。&lt;/p&gt;

&lt;p&gt;大まかに3つの励磁方式があるので、それぞれ紹介したいと思います。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;1相励磁&#34;&gt;■ 1相励磁&lt;/h4&gt;

&lt;p&gt;&lt;code&gt;A→B→A&#39;→B&#39;&lt;/code&gt;の順に電流を流します（つまり励磁します）。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/5.png&#34; alt=&#34;5&#34;&gt;

&lt;/center&gt;

このようにパルスを与えるたびに決められてステップ角だけ回転します。励磁の順を&lt;code&gt;A&#39;→B&#39;→A→B&lt;/code&gt;とすると逆回転します。&lt;/p&gt;

&lt;p&gt;1相励磁は最も単純な方式ですが、トルクが弱く高速回転には向いていません。また、安定性が良くないため実用的ではありません｡&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;2相励磁&#34;&gt;■ 2相励磁&lt;/h4&gt;

&lt;p&gt;次の相と1パルスずつずらして同時に励磁する方式です。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/6.png&#34; alt=&#34;6&#34;&gt;

&lt;/center&gt;

パルス幅が1相励磁の2倍となり、1相励磁に比べて回転が安定して、大きなトルクが得られますが消費電力も2倍になります｡&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;1-2相励磁&#34;&gt;■ 1-2相励磁&lt;/h4&gt;

&lt;p&gt;1相励磁と2相励磁を交互に繰り返す方式です。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/7.png&#34; alt=&#34;7&#34;&gt;

&lt;/center&gt;

各相のパルス幅が3となり、次の相とは2パルスだけずらして励磁されます。1パルスごとに回転する角度が1相励磁と2相励磁に比べて半分になり、細かいモータ制御ができます。&lt;strong&gt;基本的にこの励磁方式で制御すれば間違いない&lt;/strong&gt;でしょう。&lt;/p&gt;

&lt;h2 id=&#34;nefry-btでステッピングモータを制御しよう&#34;&gt;Nefry BTでステッピングモータを制御しよう！&lt;/h2&gt;

&lt;h3 id=&#34;ステッピングモータを購入&#34;&gt;ステッピングモータを購入&lt;/h3&gt;

&lt;p&gt;今回は、Amazonで&lt;a href=&#34;https://www.amazon.co.jp/gp/product/B010RYH74U/ref=oh_aui_detailpage_o03_s00?ie=UTF8&amp;amp;psc=1&#34;&gt;こちらのステッピングモータ&lt;/a&gt;を購入して使いました。ステッピングモータとドライバが5セット入っており、それでいて価格が約1000円という激安です。ちょっと試してみるには良い商品かと思います。&lt;/p&gt;

&lt;h4 id=&#34;28byj-48-stepper-motor&#34;&gt;■ 28BYJ-48 Stepper Motor&lt;/h4&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/8.png&#34; alt=&#34;8&#34;&gt;

&lt;/center&gt;


&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;uln2003-driver&#34;&gt;■ ULN2003 driver&lt;/h4&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/9.png&#34; alt=&#34;9&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;それぞれの仕様&#34;&gt;それぞれの仕様&lt;/h3&gt;

&lt;h4 id=&#34;28byj-48-stepper-motor-1&#34;&gt;■ 28BYJ-48 Stepper Motor&lt;/h4&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;概要&lt;/th&gt;
&lt;th&gt;仕様&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;種類&lt;/td&gt;
&lt;td&gt;ユニポーラ型&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;結線&lt;/td&gt;
&lt;td&gt;5線式&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;電圧&lt;/td&gt;
&lt;td&gt;5-12V（直流電圧）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;周波数&lt;/td&gt;
&lt;td&gt;100 Hz&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ステップモード&lt;/td&gt;
&lt;td&gt;ハーフステップモード（推奨）（8ステップの信号で制御）&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ステップ角&lt;/td&gt;
&lt;td&gt;ハーフステップモード：64ステップで5.625°回転&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;ギア比&lt;/td&gt;
&lt;td&gt;64:1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;※ギア比…2つの歯車（ギア）の歯数の比率のこと。自転車をイメージすると良い。&lt;br /&gt;
※ハーフステップモード…ステップ角が基本ステップ角度の1/2の角度で駆動する方式。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;uln2003-driver-1&#34;&gt;■ ULN2003 driver&lt;/h4&gt;

&lt;p&gt;ステッピングモータを使う際には、&lt;strong&gt;ステッピングモータ用のドライバ&lt;/strong&gt;を使用します。マイコンボードの信号だけでは制御できないので、制御を補助するためのものです。&lt;/p&gt;

&lt;p&gt;1-2相励磁で制御する場合は、下記のような信号の組み合わせになります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/10.png&#34; alt=&#34;10&#34;&gt;

&lt;/center&gt;

（参照：&lt;a href=&#34;http://eeshop.unl.edu/pdf/Stepper+Driver.pdf&#34;&gt;http://eeshop.unl.edu/pdf/Stepper+Driver.pdf&lt;/a&gt; ）&lt;/p&gt;

&lt;p&gt;このステッピングモータでは8ステップで1つの動作を表しています。つまり、8ステップ×8ステップ=64ステップで5.625°回転します。よって1回転するには360°÷5.625°×64=4096ステップで1回転します。&lt;/p&gt;

&lt;h3 id=&#34;回路&#34;&gt;回路&lt;/h3&gt;

&lt;p&gt;Nefry BTとステッピングモータの回路は下記のようになります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/11.png&#34; alt=&#34;11&#34;&gt;

&lt;/center&gt;

今回、使用するステッピングモータは5~12Vの間で動作します。また、Nefry BTとステッピングモータの電源は分けて使います。&lt;/p&gt;

&lt;h3 id=&#34;プログラム-ライブラリあり&#34;&gt;プログラム（ライブラリあり）&lt;/h3&gt;

&lt;p&gt;プログラムは下記の通りです。&lt;/p&gt;

&lt;p&gt;Nefry BT上のスイッチを押すとステッピングモータが180°回転するというものです。今回は、ステッピングモータを回転させるため「Stepper.h」ライブラリを使いました。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;// ステッピングモータとNefry BTを制御するためのライブラリをinclude
#include &amp;lt;Stepper.h&amp;gt;
#include &amp;lt;Nefry.h&amp;gt;

/*
・フルステップ方式で2相励磁の場合は1つの動作で4ステップ
・8回繰り返す（4×8 = 32ステップ）で11.25度回転
・つまり、360度回転しようとするとき360/11.25 = 32ステップ
・ギア比を考慮して32×64 = 2048ステップ
・よって、ハフルステップ方式で2相励磁の場合、2048ステップで1回転
*/

/*
・ハーフステップ方式で1-2相励磁の場合は1つの動作で8ステップ
・8回繰り返す（8×8 = 64ステップ）と5.625度回転
・つまり、360度回転しようとすると360/5.625 = 64ステップ
・ギア比を考慮して64×64 = 4096ステップ
・よって、ハーフステップ方式で1-2相励磁の場合、4096ステップで1回転
*/

#define MOTOR_1   D2   // blue
#define MOTOR_2   D3   // pink
#define MOTOR_3   D4   // yellow
#define MOTOR_4   D5   // orange

// ステッピングモータが1回転するのに必要なステップ数を定義
#define MOTOR_STEPS 2048

Stepper myStepper(MOTOR_STEPS, MOTOR_1, MOTOR_2, MOTOR_3, MOTOR_4);

void setup() {
    // setspeed()関数でrpm（1分あたりの回転数）を設定
    // 例：10rpm=10回転/分
    myStepper.setSpeed(10);//10回転/分
}

void loop() {
    if(Nefry.readSW()){
        // 1024ステップ回転、つまり180°回転
        myStepper.step(1024);
    }
    // 静止時の負荷がないので電流を止める
    stopMotor();
}

// モーターへの電流を止める
void stopMotor() {
    digitalWrite(MOTOR_1, LOW);
    digitalWrite(MOTOR_2, LOW);
    digitalWrite(MOTOR_3, LOW);
    digitalWrite(MOTOR_4, LOW);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;動かしてみると&#34;&gt;動かしてみると&lt;/h3&gt;

&lt;p&gt;実際に動かしてみると、180°回転していることがわかります。
&lt;img src=&#34;https://dotstud.io/img/blog/189/12.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;プログラム-ライブラリなし&#34;&gt;プログラム（ライブラリなし）&lt;/h3&gt;

&lt;p&gt;ステッピングモータの仕組みを理解する場合、ライブラリなしの方がわかりやすいかと思います。&lt;/p&gt;

&lt;p&gt;下記はライブラリを使わずに励磁方式を変えてステッピングモータを制御したプログラムです。先ほど示した励磁方式の図を見ながら理解すると、良くわかるかと思います。&lt;/p&gt;

&lt;p&gt;今回、使用するドライバには各相に対応してLEDが点灯するので、どの相に電圧を印加したかわかりやすいですね。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;1相励磁-1&#34;&gt;■ 1相励磁&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;#include&amp;lt;Nefry.h&amp;gt;

// 任意のピンを設定してください。基本、デジタルピンでOKです。都合上A2,A3を使っています。
#define PIN1 A2
#define PIN2 A3
#define PIN3 D3
#define PIN4 D4

void setup()
{

  Serial.begin(115200);

  pinMode(PIN1, OUTPUT);      // PIN1を出力モードにする
  pinMode(PIN2, OUTPUT);      // PIN2を出力モードにする
  pinMode(PIN3, OUTPUT);      // PIN3を出力モードにする
  pinMode(PIN4, OUTPUT);      // PIN4を出力モードにする
}

void loop()
{
  int sleep_time = 300;       // スリープ時間[ms]、時間を短くすると回転速度上昇

  digitalWrite(PIN1, 1);    
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 1);
  digitalWrite(PIN4, 0);
  delay(sleep_time);    

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 1);
  delay(sleep_time);

  // 電流を流し続けると発熱するのでいったん止める
  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/189/13.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;2相励磁-1&#34;&gt;■ 2相励磁&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include&amp;lt;Nefry.h&amp;gt;

#define PIN1 A2
#define PIN2 A3
#define PIN3 D3
#define PIN4 D4

void setup()
{
  Serial.begin(115200);

  pinMode(PIN1, OUTPUT);
  pinMode(PIN2, OUTPUT);
  pinMode(PIN3, OUTPUT);
  pinMode(PIN4, OUTPUT);
}

void loop()
{

  int sleep_time = 5;

  digitalWrite(PIN1, 1);    
  digitalWrite(PIN2, 1);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 1);
  digitalWrite(PIN3, 1);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 1);
  digitalWrite(PIN4, 1);
  delay(sleep_time);

  digitalWrite(PIN1, 1);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 1);
  delay(sleep_time);

  // 電流を流し続けると発熱するのでいったん止める
  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/189/14.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&#34;1-2相励磁-1&#34;&gt;■ 1-2相励磁&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include&amp;lt;Nefry.h&amp;gt;

#define PIN1 A2
#define PIN2 A3
#define PIN3 D3
#define PIN4 D4

void setup()
{
  Serial.begin(115200);

  pinMode(PIN1, OUTPUT);
  pinMode(PIN2, OUTPUT);
  pinMode(PIN3, OUTPUT);
  pinMode(PIN4, OUTPUT);
}

void loop()
{
  int sleep_time = 5;

  digitalWrite(PIN1, 1);    
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 1);
  digitalWrite(PIN2, 1);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 1);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 1);
  digitalWrite(PIN3, 1);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 1);
  digitalWrite(PIN4, 0);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 1);
  digitalWrite(PIN4, 1);
  delay(sleep_time);

  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 1);
  delay(sleep_time);

  digitalWrite(PIN1, 1);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 1);
  delay(sleep_time);

  //電流を流し続けると発熱するのでいったん止める
  digitalWrite(PIN1, 0);
  digitalWrite(PIN2, 0);
  digitalWrite(PIN3, 0);
  digitalWrite(PIN4, 0);
  delay(sleep_time);
}


&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/189/15.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;作例-xy軸ステージ&#34;&gt;作例: xy軸ステージ&lt;/h2&gt;

&lt;p&gt;ステッピングモータを使えば、3Dプリンタの軸に使われているような可動式のステージを自作することも可能です。&lt;/p&gt;

&lt;p&gt;たとえば、下記が自作したxy軸の2軸ステージです。また、これはNode-REDで遠隔制御できるようにしています。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/189/16.png&#34; alt=&#34;16&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;

&lt;p&gt;モータの世界はまだまだ奥深いのですが、今回はここまでです。&lt;/p&gt;

&lt;p&gt;ステッピングモータが使えれば、さらにモノづくりの幅が広がることでしょう。また、IoT向きの開発ボードNefry BTを使えば、&lt;strong&gt;遠隔制御できる「何か」&lt;/strong&gt;を割と簡単に作ることができます。&lt;/p&gt;

&lt;h2 id=&#34;参考サイト&#34;&gt;参考サイト&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://42bots.com/tutorials/28byj-48-stepper-motor-with-uln2003-driver-and-arduino-uno/&#34;&gt;28BYJ-48 Stepper Motor with ULN2003 driver and Arduino Uno |  42 Bots&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://toshiba.semicon-storage.com/jp/design-support/e-learning/stepping_motor/chap3/1274646.html&#34;&gt;励磁モードまとめ | TOSHIBA e-ラーニング&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Alexaで自然な発話を目指そう！音声合成マークアップ言語「SSML」を使う方法</title>
      <link>https://dotstud.io/blog/alexa-skill-using-ssml/</link>
      <pubDate>Fri, 20 Jul 2018 10:00:00 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/alexa-skill-using-ssml/</guid>
      
      <description>

&lt;p&gt;こんにちは、エンジニア兼ライターの&lt;a href=&#34;https://dotstud.io/members/chantoku&#34;&gt;ちゃんとく&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;Alexaスキルの開発では、基本的に&lt;strong&gt;テキストを渡すとそのまま読み上げて&lt;/strong&gt;くれ、句読点を入れると休止に置き換えてくれたり疑問符を入れると語尾をあげたりと、ある程度は自然に調整してくれます。&lt;/p&gt;

&lt;p&gt;でも、「なんだか読み上げが不自然……」「もっと細かく調整したい……」ということがありますよね。&lt;/p&gt;

&lt;p&gt;そんな時は、Alexa Skills Kitで用意されている&lt;u&gt;&lt;strong&gt;音声合成マークアップ言語&lt;/strong&gt;「&lt;a href=&#34;https://developer.amazon.com/ja/docs/custom-skills/speech-synthesis-markup-language-ssml-reference.html&#34;&gt;&lt;strong&gt;SSML&lt;/strong&gt;&lt;/a&gt;」&lt;/u&gt;を使ってみましょう！SSMLを利用すると簡単に効果音・音源を差し込んだり、イントネーションやブレスを細かく整えたりすることができます。&lt;/p&gt;

&lt;p&gt;&lt;font size=&#34;2&#34;&gt;※SSML…Speech Synthesis Markup Language&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;はじめてAlexaスキル開発するよ！という方はこちらから。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;144&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nodejs-amazon-alexa-skill/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/144/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                Amazon Echoを使いこなそう！Node.jsでAlexaスキル開発 - スマートスピーカーの基本とスキル開発入門
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-03-06
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Amazon Echoで動くAlexaのスキル開発をNode.jsでやってみましょう！
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;h2 id=&#34;ssmlとは&#34;&gt;SSMLとは&lt;/h2&gt;

&lt;p&gt;「SSML」は&lt;a href=&#34;https://developer.amazon.com/ja/alexa-skills-kit&#34;&gt;Alexa Skills Kit&lt;/a&gt;で用意されている&lt;strong&gt;音声合成マークアップ言語&lt;/strong&gt;です。&lt;/p&gt;

&lt;p&gt;聞きなれないかもしれませんが、HTMLのタグのように&lt;strong&gt;簡単な記述でプログラムに埋め込む&lt;/strong&gt;ことができます。&lt;/p&gt;

&lt;p&gt;例えば下記のようにテキストを渡すプログラムの場合、&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&#39;LaunchRequest&#39;: function () {
    const speechOutput = &#39;こんにちは。ちゃんとくのスキルです。&#39;
    const reprompt = &#39;ちゃんとくスキルです。&#39;
    this.emit(&#39;:ask&#39;, speechOutput, reprompt);
},
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;SSMLを組み込むと下記のような記述になります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&#39;LaunchRequest&#39;: function () {
    const speechOutput = &#39;&amp;lt;say-as interpret-as=&amp;quot;interjection&amp;quot;&amp;gt;こんにちは。&amp;lt;/say-as&amp;gt;&amp;lt;break time=&amp;quot;0.5s&amp;quot;/&amp;gt;ちゃんとくのスキルです。&#39;
    const reprompt = &#39;ちゃんとくスキルです。&#39;
    this.emit(&#39;:ask&#39;, speechOutput, reprompt);
},
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;基本的には&lt;strong&gt;①ドキュメントからコピーして&lt;/strong&gt;、&lt;strong&gt;②埋め込むだけ&lt;/strong&gt;、です。簡単そうですよね？&lt;/p&gt;

&lt;p&gt;ここからは大まかにカテゴリ分けしてSSMLタグを紹介していきます！&lt;/p&gt;

&lt;p&gt;「サッとどんな感じか知りたいんじゃ！」という方は、&lt;a href=&#34;https://dotstud.io/blog/alexa-skill-using-ssml/#ssml%E5%85%A8%E9%83%A8%E4%B9%97%E3%81%9B%E3%82%92%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B&#34;&gt;&lt;strong&gt;SSML全部乗せを試してみる&lt;/strong&gt;&lt;/a&gt;のデモ動画をご覧ください。&lt;/p&gt;

&lt;h2 id=&#34;特殊な読ませ方をさせるタグ&#34;&gt;特殊な読ませ方をさせるタグ&lt;/h2&gt;

&lt;h3 id=&#34;amazon-effect-エフェクト-ささやき声&#34;&gt;amazon:effect / エフェクト（ささやき声）&lt;/h3&gt;

&lt;p&gt;Amazonで提供されている固有のエフェクトが適用されます。今のところ用意されているのは「&lt;code&gt;whispered&lt;/code&gt;」というささやき声のエフェクトだけみたいです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;ささやき声にしたい部分をタグで囲います。&#39;;
speechOut += &#39;&amp;lt;amazon:effect name=&amp;quot;whispered&amp;quot;&amp;gt;この部分をささやきます。&amp;lt;/amazon:effect&amp;gt;&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;怒鳴り声とか、悲しい声とか、今後いろいろと実装されたら面白そうですね！&lt;/p&gt;

&lt;h3 id=&#34;say-as-特殊な文章を解釈&#34;&gt;say-as / 特殊な文章を解釈&lt;/h3&gt;

&lt;p&gt;読んで字のごとく、「〜として読ませる」タグで、テキストの形をAlexaに解釈させることができます。例えば「電話番号として読ませる」「一文字ずつとして読ませる」などの機能があります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;例えば93を一文字ずつ読むと&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;;
speechOut += &#39;&amp;lt;say-as interpret-as=&amp;quot;digits&amp;quot;&amp;gt;93&amp;lt;/say-as&amp;gt;&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;; // きゅー、さん
speechOut += &#39;日付として読むと&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;;
speechOut += &#39;&amp;lt;say-as interpret-as=&amp;quot;date&amp;quot; format=&amp;quot;m&amp;quot;&amp;gt;9&amp;lt;/say-as&amp;gt;&amp;lt;say-as interpret-as=&amp;quot;date&amp;quot; format=&amp;quot;d&amp;quot;&amp;gt;3&amp;lt;/say-as&amp;gt;&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;; // くがつ、みっか
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ちなみに、英字はローマ字読みされるので例えば「IoT」は「いおっと」となってしまいます。&lt;/p&gt;

&lt;p&gt;「アイオーティ」と読ませたい場合は&lt;code&gt;&amp;lt;say-as interpret-as=&amp;quot;characters&amp;quot;&amp;gt;IoT&amp;lt;/say-as&amp;gt;&lt;/code&gt;と一文字ずつ読ませるか、テキストで「アイオーティ」と渡してあげましょう。&lt;/p&gt;

&lt;p&gt;また解釈の一つとして、「&lt;a href=&#34;https://developer.amazon.com/ja/docs/custom-skills/speechcon-reference-interjections-japanese.html&#34;&gt;Speechcon&lt;/a&gt;」という感嘆詞の読み上げが用意されています。「こんにちは」「まあ」「あら」など、&lt;strong&gt;日常的な発話が自然に組み込めるオススメの機能&lt;/strong&gt; です！&lt;/p&gt;

&lt;p&gt;こちらは別記事にまとめました。


&lt;section class=&#34;link&#34; id=&#34;180&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nodejs-alexa-skill-speechcon/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/180/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                感嘆詞でAlexaと自然な会話を実現！Speechconを使ってスキル開発
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-06-30
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                感情表現を豊かにして自然な会話を楽しもう！Speechconを使ってAlexaスキルに感嘆詞を加える方法を紹介します。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;

&lt;h3 id=&#34;sub-置き換え&#34;&gt;sub / 置き換え&lt;/h3&gt;

&lt;p&gt;テキストに対して指定の読み方をさせることができます。「宇宙」と書いて「コスモ」と読むような、ルビ的なあれですね……！&lt;/p&gt;

&lt;p&gt;基本的にスキルの利用シーンはVUIのみですが、プログラムの可読性を高めるのに使われるのかなあと思っています。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;好きなアニメは&#39;;
speechOut += &#39;とある科学の&amp;lt;sub alias=&amp;quot;レールガン&amp;quot;&amp;gt;超電磁砲&amp;lt;/sub&amp;gt;です。&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;音源を挿入するタグ&#34;&gt;音源を挿入するタグ&lt;/h2&gt;

&lt;h3 id=&#34;audio-mp3の挿入&#34;&gt;audio / MP3の挿入&lt;/h3&gt;

&lt;p&gt;スキル内にMP3音源を埋め込んで再生することができます。&lt;/p&gt;

&lt;p&gt;MP3音源は用意されているライブラリの他に自身が用意したものも利用できますが、&lt;strong&gt;長さやフォーマットが細かく指定&lt;/strong&gt; されています。&lt;/p&gt;

&lt;p&gt;使い方の詳細は下記記事にまとめました。


&lt;section class=&#34;link&#34; id=&#34;163&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/nodejs-alexa-skill-mp3/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/163/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                AlexaスキルでMP3ファイルを流そう！効果音を入れてワンランクアップのスキル開発
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-04-30
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Alexaスキルでは簡単にMP3ファイルを流すことができます。効果音や録音した音声を入れてステップアップしてみましょう！
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;

&lt;h2 id=&#34;ブレス-区切りを挿入するタグ&#34;&gt;ブレス、区切りを挿入するタグ&lt;/h2&gt;

&lt;h3 id=&#34;break-休止の挿入&#34;&gt;break / 休止の挿入&lt;/h3&gt;

&lt;p&gt;休止時間を秒（s）またはミリ秒（ms）で指定します。または、&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;3秒間待ってやる。&amp;lt;break time=&amp;quot;3s&amp;quot;&amp;gt;&amp;lt;/break&amp;gt;&#39;;
speechOut += &#39;用意はいいな？&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;font size=&#34;2&#34;&gt;※最大10秒なので、残念ながら3分待つことはできません。&lt;/font&gt;&lt;/p&gt;

&lt;h3 id=&#34;p-段落の挿入&#34;&gt;p / 段落の挿入&lt;/h3&gt;

&lt;p&gt;囲った部分を段落として解釈させます。「。」よりも長めの休止が入ります。これは&lt;code&gt;&amp;lt;break strength=&amp;quot;x-strong&amp;quot; /&amp;gt;&lt;/code&gt;を入れるのと同様の結果になります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;&amp;lt;p&amp;gt;こんにちは。ちゃんとくです。今から大事な話をします。&amp;lt;/p&amp;gt;&#39;;
speechOut += &#39;&amp;lt;p&amp;gt;実は、すごく焼肉が好きなんですよ。&amp;lt;/p&amp;gt;&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;s-文章区切りの挿入&#34;&gt;S / 文章区切りの挿入&lt;/h3&gt;

&lt;p&gt;囲った部分を一文として解釈させます。これは末尾に「。」を入れたり、&lt;code&gt;&amp;lt;break strength=&amp;quot;strong&amp;quot; /&amp;gt;&lt;/code&gt;を入れたりするのと同様の結果になります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;&amp;lt;s&amp;gt;こんにちは&amp;lt;/s&amp;gt;&#39;;
speechOut += &#39;今日はすごく暑いですね&amp;lt;break strength=&amp;quot;strong&amp;quot; /&amp;gt;&#39;;
speechOut += &#39;こんな日はビールが飲みたい！&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;速さ-高さ-音量-発音を詳細に設定するタグ&#34;&gt;速さ、高さ、音量、発音を詳細に設定するタグ&lt;/h2&gt;

&lt;h3 id=&#34;emphasis-速さと音量で強調&#34;&gt;emphasis / 速さと音量で強調&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;level&lt;/code&gt;という属性で、音量、速度などを調整して強調させることができます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;const speechOut = &#39;今日は&amp;lt;emphasis level=&amp;quot;strong&amp;quot;&amp;gt;すごく&amp;lt;/emphasis&amp;gt;暑いですね。&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;prosody-音量-高さ-速さ&#34;&gt;prosody / 音量、高さ、速さ&lt;/h3&gt;

&lt;p&gt;速さ、高さ、音量をそれぞれ指定して調整することができます。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;let speechOut = &#39;今日は&amp;lt;prosody pitch=&amp;quot;x-low&amp;quot;&amp;gt;すごく&amp;lt;/prosody&amp;gt;暑いですね。&#39;;
speechOut += &#39;こんな日はビールが&amp;lt;prosody volume=&amp;quot;loud&amp;quot; pitch=&amp;quot;high&amp;quot;&amp;gt;飲みたい！&amp;lt;/prosody&amp;gt;&#39;;
this.emit(&#39;:tell&#39;, speechOut);
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;ssml全部乗せを試してみる&#34;&gt;SSML全部乗せを試してみる&lt;/h2&gt;

&lt;p&gt;読ませてみなきゃわからない、ってことで、SSMLをもりもり使ったサンプルを用意してみました。百聞は一聴にしかず！&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/m7aums3aTDI&#34; frameborder=&#34;0&#34; allow=&#34;autoplay; encrypted-media&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;プログラムは下記（とりあえず動く程度でちょっと雑です）。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&#39;use strict&#39;;

const Alexa = require(&#39;alexa-sdk&#39;);

const handlers = {
    &#39;LaunchRequest&#39;: function () {
        const speechOutput = &#39;こんにちは。音を流してと言ってみてください。&#39;
        const reprompt = &#39;音を流します。&#39;
        this.emit(&#39;:ask&#39;, speechOutput, reprompt);
    },
    &#39;WhisperIntent&#39;: function () {
        let speechOut = &#39;こんな風に囁きます。&#39;;
        speechOut += &#39;&amp;lt;amazon:effect name=&amp;quot;whispered&amp;quot;&amp;gt;秘密ですよ？&amp;lt;/amazon:effect&amp;gt;&#39;;
        this.emit(&#39;:ask&#39;, speechOut);
    },
    &#39;SayAsIntent&#39;: function () {
        let speechOut = &#39;例えば93を一文字ずつ読むと&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;;
        speechOut += &#39;&amp;lt;say-as interpret-as=&amp;quot;digits&amp;quot;&amp;gt;93&amp;lt;/say-as&amp;gt;&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;;
        speechOut += &#39;日付として読むと&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;;
        speechOut += &#39;&amp;lt;say-as interpret-as=&amp;quot;date&amp;quot; format=&amp;quot;m&amp;quot;&amp;gt;9&amp;lt;/say-as&amp;gt;&amp;lt;say-as interpret-as=&amp;quot;date&amp;quot; format=&amp;quot;d&amp;quot;&amp;gt;3&amp;lt;/say-as&amp;gt;&amp;lt;break time=&amp;quot;1s&amp;quot;/&amp;gt;&#39;;
        speechOut += &#39;ちなみにちゃんとくさんの誕生日みたいですよ。&amp;lt;say-as interpret-as=&amp;quot;interjection&amp;quot;&amp;gt;きゃ〜&amp;lt;/say-as&amp;gt;&#39;;
        this.emit(&#39;:ask&#39;, speechOut);
    },
    &#39;SubIntent&#39;: function () {
        let speechOut = &#39;例えば炭素を表すCと書いて、&#39;;
        speechOut += &#39;&amp;lt;sub alias=&amp;quot;カーボン&amp;quot;&amp;gt;C&amp;lt;/sub&amp;gt;と読ませることができます。&#39;;
        this.emit(&#39;:ask&#39;, speechOut);
    },
    &#39;SoundIntent&#39;: function () {
        let speechOut = &#39;音も簡単に流せますよ。&#39;;
        speechOut += &#39;&amp;lt;audio src=&amp;quot;https://s3.amazonaws.com/ask-soundlibrary/animals/amzn_sfx_dog_med_bark_2x_02.mp3&amp;quot;/&amp;gt;&#39;;
        this.emit(&#39;:ask&#39;, speechOut);
    },
    &#39;EmphasisIntent&#39;: function () {
        let speechOut = &#39;私本当に、&#39;;
        speechOut += &#39;&amp;lt;emphasis level=&amp;quot;strong&amp;quot;&amp;gt;本当に&amp;lt;/emphasis&amp;gt;&#39;;
        speechOut += &#39;焼肉が好きなんです。&#39;;
        this.emit(&#39;:ask&#39;, speechOut);
    },
    &#39;ProsodyIntent&#39;: function () {
        let speechOut = &#39;大事なことは&amp;lt;prosody rate=&amp;quot;x-slow&amp;quot;&amp;gt;ゆっくり&amp;lt;/prosody&amp;gt;、&#39;;
        speechOut += &#39;嬉しいことは&amp;lt;prosody pitch=&amp;quot;x-high&amp;quot;&amp;gt;高い声で&amp;lt;/prosody&amp;gt;&#39;;
        speechOut += &#39;しゃべっちゃいます。&#39;;
        this.emit(&#39;:ask&#39;, speechOut);
    },
    &#39;AMAZON.HelpIntent&#39;: function () {
        this.emit(&#39;:tell&#39;, this.t(&#39;&#39;));
    },
    &#39;AMAZON.CancelIntent&#39;: function () {
        this.emit(&#39;:tell&#39;, this.t(&#39;&#39;));
    },
    &#39;AMAZON.StopIntent&#39;: function () {
        this.emit(&#39;:tell&#39;, this.t(&#39;&#39;));
    },
};

exports.handler = function(event, context, callback) {
    const alexa = Alexa.handler(event, context, callback);
    alexa.registerHandlers(handlers);
    alexa.execute();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;ドキュメントを見て試してみたところ、発音や品詞の解釈など一部日本語スキルには対応していないものもあるようです。&lt;/p&gt;

&lt;p&gt;また一部重複する機能もあるので、可読性や統一性を考えながら実装していくのがよさそうです。&lt;/p&gt;

&lt;p&gt;使いどころを抑えて、Alexaの自然な発話を目指していきましょう！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>営業撃退！？押した人が誰かわかる「インターホン・改」を作ってみた</title>
      <link>https://dotstud.io/blog/no-more-sales-intercom/</link>
      <pubDate>Tue, 17 Jul 2018 10:00:00 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/no-more-sales-intercom/</guid>
      
      <description>

&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/tomato&#34;&gt;佐々木さん&lt;/a&gt;です。一度はとまとというあだ名を授かりましたが、いろいろ審議ののちあだ名を得られず佐々木さんになりました。&lt;/p&gt;

&lt;p&gt;ところでdotstudioには、オフィスハックの大先輩・&lt;a href=&#34;https://dotstud.io/members/ukok&#34;&gt;うこ&lt;/a&gt;さんが作ったインターホンがあります。&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;133&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/office-new-door-notification/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/133/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                オフィス移転したらインターホンがなかったのでRaspbeerry Piでカメラ付きインターホン作ってみた
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2017-11-20
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                インターホンがなければラズパイで作ればいいじゃない。Raspberry PiとGroveセンサでカメラ付きインターホンを自作しました。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;p&gt;今回はこのインターホンを改良して、&lt;strong&gt;しつこい訪問営業を撃退できるインターホン&lt;/strong&gt;を作ってみます。&lt;/p&gt;

&lt;h2 id=&#34;無茶振りは突然に&#34;&gt;無茶振りは突然に&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;〜ある日の夕方、dotstudioオフィスにて〜&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/1.png&#34; alt=&#34;1&#34;&gt;

&lt;/center&gt;

&lt;center&gt;（ぽんっ）&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/2.png&#34; alt=&#34;2&#34;&gt;

&lt;/center&gt;

&lt;center&gt;（あっ、dotstudioしゃちょーの&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;のびすけ&lt;/a&gt;さんだ！）&lt;/center&gt;&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_n&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/nobi.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            佐々木さん、電子工作得意だよね？営業の訪問が多くて困ってるんだけど、&lt;b&gt;営業を撃退できるインターホン作れない？&lt;/b&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_s&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/sasaki.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;佐々木さん&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            （無茶振りだ……）
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_n&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/nobi.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            じゃあ1週間後までによろしく！
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_s&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/sasaki.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;佐々木さん&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            （かなり無茶振りだ……）
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;ということで時間がないのでさっそく作りましょう！&lt;/p&gt;

&lt;h2 id=&#34;インターホン改の製作イメージ&#34;&gt;インターホン改の製作イメージ&lt;/h2&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/architecture.png&#34; alt=&#34;architecture&#34;&gt;

&lt;/center&gt;

来客がどんな用件か見分けるために、&lt;strong&gt;最初からボタンを複数用意し、それぞれ音を変えて判別する&lt;/strong&gt;ようにしてみました。&lt;/p&gt;

&lt;p&gt;また前回はBluetooth接続のスピーカーを利用していましたが、通信が切れやすい問題があったので今回は&lt;strong&gt;有線でスピーカーを繋ぎます&lt;/strong&gt;。&lt;/p&gt;

&lt;p&gt;ボタンとなるセンサは扉の外側に、インターホンの本体となるRaspberry Piは扉の内側に設置します。&lt;/p&gt;

&lt;h2 id=&#34;使ったもの&#34;&gt;使ったもの&lt;/h2&gt;

&lt;h3 id=&#34;raspberry-pi-3-model-b&#34;&gt;Raspberry Pi 3 Model B&lt;/h3&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/raspi.png&#34; alt=&#34;raspi&#34;&gt;

&lt;/center&gt;


&lt;p&gt;前回に引き続き、ボードはRaspberry Pi（通称ラズパイ）を使います。ラズパイには&lt;strong&gt;スピーカーのコネクタを直接刺すことができる&lt;/strong&gt;ので便利ですね！&lt;/p&gt;

&lt;h3 id=&#34;タッチセンサ&#34;&gt;タッチセンサ&lt;/h3&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/touch.png&#34; alt=&#34;touch&#34;&gt;

&lt;/center&gt;


&lt;p&gt;タッチセンサは、今回安く大量に調達した&lt;a href=&#34;https://www.amazon.co.jp/HiLetgo%C2%AE-10%E5%80%8B%E3%82%BB%E3%83%83%E3%83%88-TTP223-%E9%9D%99%E9%9B%BB%E5%AE%B9%E9%87%8F%E5%BC%8F%E3%82%BF%E3%83%83%E3%83%81%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81-%E3%83%87%E3%82%B8%E3%82%BF%E3%83%AB%E3%82%BF%E3%83%83%E3%83%81%E3%82%BB%E3%83%B3%E3%82%B5%E3%83%BC%E3%83%A2%E3%82%B8%E3%83%A5%E3%83%BC%E3%83%AB/dp/B010RYGET4/ref=sr_1_63?m=A1XEAMF1H64GNM&amp;amp;s=merchant-items&amp;amp;ie=UTF8&amp;amp;qid=1531481468&amp;amp;sr=1-63&#34;&gt;中国製のタッチセンサ&lt;/a&gt;を使います（&lt;a href=&#34;https://www.amazon.co.jp/s/ref=sr_pg_3?me=A1XEAMF1H64GNM&amp;amp;rh=i%3Amerchant-items&amp;amp;page=3&amp;amp;ie=UTF8&amp;amp;qid=1531481449&#34;&gt;HiLetgo JP&lt;/a&gt;というストア、安く大量購入できて面白いです）。&lt;/p&gt;

&lt;h3 id=&#34;適当なスピーカー&#34;&gt;適当なスピーカー&lt;/h3&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/speaker.png&#34; alt=&#34;speaker&#34;&gt;

&lt;/center&gt;

インターホンの音を鳴らすため、適当なスピーカーを用意します。&lt;/p&gt;

&lt;p&gt;このスピーカーはあきばお〜さんで&lt;strong&gt;なんと300円&lt;/strong&gt;でした！（普通に使えてます！）&lt;/p&gt;

&lt;h3 id=&#34;その他&#34;&gt;その他&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;ダンボール（加工が楽なので採用しました。）&lt;/li&gt;
&lt;li&gt;音源（それぞれのボタン向けに音源を用意します。それっぽいと雰囲気が出ます。）&lt;/li&gt;
&lt;li&gt;配線用のジャンパ&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;作っていく&#34;&gt;作っていく&lt;/h2&gt;

&lt;h3 id=&#34;配線&#34;&gt;配線&lt;/h3&gt;

&lt;p&gt;下図のようにラズパイとセンサを接続していきます。図のスイッチはタッチセンサに置き換えて見てください。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/circuit.png&#34; alt=&#34;circuit&#34;&gt;

&lt;/center&gt;


&lt;p&gt;それぞれ繋いでいるGPIOは下記です。&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;center&#34;&gt;役割&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;GPIO&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;電源&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;3.3V&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;GND&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;GND&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;タッチセンサ&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;23&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;タッチセンサ&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;24&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;タッチセンサ&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;25&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
&lt;li&gt;タッチセンサのGNDは、それぞれラズパイのGNDに接続します。&lt;/li&gt;
&lt;li&gt;タッチセンサのVccをラズパイの3.3Vに接続します。&lt;/li&gt;
&lt;li&gt;タッチセンサのinputをラズパイの23、24、25にそれぞれ繋ぎます。&lt;/li&gt;
&lt;li&gt;最後にスピーカーをイヤホンの部分に繋ぎます。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;以上で回路は完成です。&lt;/p&gt;

&lt;h3 id=&#34;プログラム&#34;&gt;プログラム&lt;/h3&gt;

&lt;p&gt;ラズパイ上で動かすプログラムはこんな感じです。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/python

import RPi.GPIO as GPIO
import subprocess
from time import sleep

GPIO.setmode(GPIO.BCM)
GPIO.setup(23, GPIO.IN)
GPIO.setup(24, GPIO.IN)
GPIO.setup(25, GPIO.IN)

while True:
    if GPIO.input(23) == GPIO.HIGH:
        # center
        # hoge.mp3　ここには好きな音源を入れてください
        subprocess.call(&amp;quot;mpg321 -q /home/pi/hometools/sounds/hoge.mp3&amp;quot;, shell = True)
    elif GPIO.input(24) == GPIO.HIGH:
        # right
        # fuga.mp3　ここには好きな音源を入れてください
        subprocess.call(&amp;quot;mpg321 -q /home/pi/hometools/sounds/fuga.mp3&amp;quot;, shell = True)
    elif GPIO.input(25) == GPIO.HIGH:
        # left
        # piyo.mp3　ここには好きな音源を入れてください
        subprocess.call(&amp;quot;mpg321 -g 20 /home/pi/hometools/sounds/piyo.mp3&amp;quot;, shell = True)
    else:
        sleep(0.01)

GPIO.cleanup()
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;外装&#34;&gt;外装&lt;/h3&gt;

&lt;p&gt;こんな感じでダンボールを加工して、用途に合わせた表示を作ります（1番右は前回使ったGroveのタッチセンサを流用）。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/gawa.png&#34; alt=&#34;gawa&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h2 id=&#34;試してみる&#34;&gt;試してみる&lt;/h2&gt;

&lt;p&gt;&lt;center&gt;
&lt;iframe width=&#34;560&#34; height=&#34;315&#34; src=&#34;https://www.youtube.com/embed/unn1wIqbkKI&#34; frameborder=&#34;0&#34; allow=&#34;autoplay; encrypted-media&#34; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;タッチしたセンサによって3種の音を流すことができました！これで完成です！&lt;/p&gt;

&lt;h2 id=&#34;のびすけさんにご報告&#34;&gt;のびすけさんにご報告&lt;/h2&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_s&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/sasaki.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;佐々木さん&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            のびすけさん、インターホン完成しました！
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_n&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/nobi.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            おうおう。
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&lt;center&gt;




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;

&lt;font size=&#34;4&#34;&gt;「じゃーん！こちらです！」&lt;/font&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;div class=&#34;parent&#34;&gt;
    &lt;div class=&#34;dialogue&#34;&gt;
        &lt;div class=&#34;image_n&#34;&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/188/nobi.png&#34; /&gt;
          &lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
        &lt;/div&gt;
        &lt;div class=&#34;text&#34;&gt;
            見た目が……ださい……。
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;&lt;center&gt;




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;

「まず左右のpadding違うし！上下のpaddingも違うし！そもそも字汚いしあれやこれやくどくどくど………」
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;center&gt;




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/188/5.png&#34; alt=&#34;5&#34;&gt;

&lt;/center&gt;

「はい……。すいません……。」
&lt;/center&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;一流のオフィスハッカーになる道のりはまだまだ遠そうです……。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;center&gt;
〜Fin〜
&lt;/center&gt;&lt;/p&gt;

&lt;style&gt;
.dialogue {
    padding: 10px;
    display: table;
}

.image_n, .image_s {
    width: 75px;
    height: 75px;
    margin-right: 10px;
    display: table-cell;
    vertical-align: middle;
}

.image_n img {
    border-radius: 50%;
    border: 2px solid blue;
}

.image_s img {
    border-radius: 50%;
    border: 2px solid green;
}

.name {
    font-weight: bold;
    text-align: center;
}

.text {
    display: table-cell;
    padding: 0;
    vertical-align: middle;
    padding-left: 20px;
}
&lt;/style&gt;
</description>
    </item>
    
    <item>
      <title>本日リリース！LINE Clovaのスキル開発の始め方〜申請編〜 #clova #linebootawards #clova_cek</title>
      <link>https://dotstud.io/blog/line-clova-skill-tutorial/</link>
      <pubDate>Thu, 12 Jul 2018 16:20:00 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/line-clova-skill-tutorial/</guid>
      
      <description>

&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;n0bisuke&lt;/a&gt;です。&lt;/p&gt;

&lt;p&gt;LINEのAIアシスタントClovaのCEK（SDK的なやつ）が発表されましたね。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://linecorp.com/ja/pr/news/ja/2018/2299&#34;&gt;2018/7/12 【LINE Clova】「Clova」のスキルを開発・拡張できる「Clova Extensions Kit」を本日より一般公開&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;本日、AIアシスタント「Clova」のスキルを誰でも開発できる「Clova Extensitons Kit」を公開しました。併せて公開した「Clova Developer Center」にて、チュートリアルや各種ドキュメントも掲載しています。是非お試し頂き、皆様の手で新たな「Clova」スキルを！ &lt;a href=&#34;https://twitter.com/hashtag/Clova_CEK?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#Clova_CEK&lt;/a&gt;&lt;a href=&#34;https://t.co/dk7R4SE2rB&#34;&gt;https://t.co/dk7R4SE2rB&lt;/a&gt;&lt;/p&gt; LINE_DEV (@LINE_DEV) &lt;a href=&#34;https://twitter.com/LINE_DEV/status/1017305082818322432?ref_src=twsrc%5Etfw&#34;&gt;2018年7月12日&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;これでClovaのスキルが開発スタート出来るわけですね。&lt;/p&gt;

&lt;p&gt;また、同時リリースですが、&lt;strong&gt;優勝賞金1000万円の&lt;a href=&#34;https://www.line-community.me/awards/&#34;&gt;LINE BOOT AWARDS&lt;/a&gt;が開催&lt;/strong&gt;されます。&lt;/p&gt;

&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;「Clova Extensions Kit」＆「Messaging API」が対象の「LINE BOOT AWARDS 2018」も開催！今年も優勝賞金1000万円！部門賞や協賛テーマ賞なども複数設けています。ちなみに色んな思いを込めて”BOOT”になりました、誤植ではありません。 &lt;a href=&#34;https://twitter.com/hashtag/Clova_CEK?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#Clova_CEK&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/LINE_API?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#LINE_API&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/linebootawards?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#linebootawards&lt;/a&gt;&lt;a href=&#34;https://t.co/J0gQdZKllM&#34;&gt;https://t.co/J0gQdZKllM&lt;/a&gt;&lt;/p&gt; LINE_DEV (@LINE_DEV) &lt;a href=&#34;https://twitter.com/LINE_DEV/status/1017326211385647104?ref_src=twsrc%5Etfw&#34;&gt;2018年7月12日&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Clovaのスキルを開発して応募して1000万円を狙いましょう！！！&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&amp;hellip;&amp;hellip;.とテンション上げめですが、何はともあれやってみないと始まらないので解説していきます。&lt;/p&gt;

&lt;p&gt;出たばっかりで僕もまだ全然把握できてないので随時更新です。&lt;/p&gt;

&lt;p&gt;Clovaってそもそも何？って人はこちらの記事をご参照ください&lt;/p&gt;



&lt;section class=&#34;link&#34; id=&#34;185&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/clova-ifttt-nefrybt-arduino/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/185/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                ClovaとNefryBT（ESP32）を連携させてみよう
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-07-10
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Nefry BTを使って電子工作した勤怠システムとClovaを連携させてみました。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;


&lt;h2 id=&#34;clova-developer-centerにアクセス&#34;&gt;Clova Developer Centerにアクセス&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://clova-developers.line.me/&#34;&gt;https://clova-developers.line.me/&lt;/a&gt; にアクセスしましょう。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/35a230caad75aab3685c5fdae9a81222.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Clovaの動画があるので見ると概要が掴めます。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;「スキルを開発する」&lt;/code&gt;&lt;/strong&gt;のリンクから進みましょう。&lt;/p&gt;

&lt;p&gt;LINEのログインを求められるのでログインしてください。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/87929b699f732fe3995f51de78b792e3.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;「LINE Developersでスキルチャネルを新規作成」&lt;/code&gt;&lt;/strong&gt;を押して進みます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/459cb0f47ac41262d328ad1f8812853c.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;プロバイダーの選択または新規作成&#34;&gt;プロバイダーの選択または新規作成&lt;/h2&gt;

&lt;p&gt;LINE BOTの開発をした人は分かると思うのですがLINEのAPIを使った開発をする場合はプロバイダー登録という&lt;strong&gt;開発者情報の登録&lt;/strong&gt;があります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;既にプロバイダーを作ったことがある場合 → 利用するプロバイダーを選択しましょう。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/718e1b7255961e90e3c5a2278c14d43a.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;初めて → 新規プロバイダー作成から進んでプロバイダー名を入力しましょう。&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/46360d629ad2a79a092f2ec91b1159d7.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;clovaスキルのチャネル登録&#34;&gt;Clovaスキルのチャネル登録&lt;/h2&gt;

&lt;p&gt;LINEのAPI群ではアプリやスキルの一つ一つをチャネルと呼びます。
（自信ないけど認識間違ってたらたぶん中の人が指摘してくれる）&lt;/p&gt;

&lt;p&gt;フォームに入力して進めていきます。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;チャネル名&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/b09917a9a6139d3699a1d14d707bff90.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;作成&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;「作成してClova Developer Centerに移動」&lt;/code&gt;&lt;/strong&gt;を選択&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/ce082e7870bf167ccd80e447cb883f60.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;チャネルの基本設定&#34;&gt;チャネルの基本設定&lt;/h2&gt;

&lt;p&gt;引き続きチャネルの基本設定です。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/c2dd4dd6e7eb3666b74da513aecf5b32.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;タイプの設定&#34;&gt;タイプの設定&lt;/h3&gt;

&lt;p&gt;タイプを選択します。&lt;/p&gt;

&lt;p&gt;現状は&lt;strong&gt;&lt;code&gt;「カスタム」&lt;/code&gt;&lt;/strong&gt;のみ選択できる模様です。&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;音楽、ゲームなど、基本的な会話にもとづいたスキルを提供するためには、カスタムExtensionを選択して下さい。今後、IoTデバイス制御サービスのためのClova Home Extensionや、カスタマーサービスのためのChatBot Extensionが追加される予定です。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/9eff932fcbefdba914ee97fabbfe6776.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;extension-id&#34;&gt;Extension ID&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;ExtensionのIDは、リバースドメインの表記で入力してください。また、Extension IDは、他のExtensionと重複しない、一意の値である必要があります。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;自分が持っているドメインなどを逆転させて他の人と被らないもの&lt;/strong&gt;にしましょう。&lt;/p&gt;

&lt;p&gt;例えばあなたが「huga.hoge.com」のようなドメインを管理していたら「com.hoge.huga.appname」などにすると良いです。&lt;/p&gt;

&lt;h3 id=&#34;スキル名&#34;&gt;スキル名&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;スキル名は審査通過後にスキルストアに表示されます。Extensionの内容と無関係な名称や、ユーザーを混乱させる可能性のあるものは、ポリシーによって審査時にリジェクトされることがあります。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;今後公開されるスキルストアに掲載される名前の模様です。
&lt;strong&gt;スキル名は審査対象になる&lt;/strong&gt;とのこと。&lt;/p&gt;

&lt;h3 id=&#34;呼び出し名&#34;&gt;呼び出し名&lt;/h3&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/de477432d1debca4c186f243035cc5f8.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;ユーザーがExtensionを利用するために呼び出す名称を入力してください。他のスキルを同じ呼び出し名を登録することはできません。ユーザーにとって呼びやすく、発音しやすい名前にすることをお勧めします。呼び出し名には汎用的な言葉は使えませんが、ブランドまたはサービス名などは使用することができます。(例：ピザという名称を登録することはできませんが、LINEピザのようにブランド名を利用した名前であれば利用可能です) また、ブランドやサービス名が長すぎたり、発音が難しい場合には、省略して使用することもできます。呼び出し名は審査対象です。ポリシーによってはリジェクトされることがあります。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Clovaに呼びかけて&lt;strong&gt;スキルを呼び出す際の名前&lt;/strong&gt;です。&lt;strong&gt;（サブ）の方に表現の揺らぎを記述&lt;/strong&gt;しておくと呼び出す際の精度が増します。&lt;/p&gt;

&lt;h3 id=&#34;audioplayerの使用&#34;&gt;AudioPlayerの使用&lt;/h3&gt;

&lt;p&gt;MP3など音源を配信するかどうかのチェックです。&lt;/p&gt;

&lt;p&gt;取り急ぎ予定が無いのでいいえにしてみました。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/58f847a87c4cbbb6b8aa417d4d118bf9.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;提供者について&#34;&gt;提供者について&lt;/h3&gt;

&lt;p&gt;提供者の情報です。個人か法人かで入力項目が分かれます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/1bc5f94f4d4e8a0cbcafe5635d0a6578.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ちなみに&lt;strong&gt;既に同じプロバイダーでLINE BOTを作ったことがある場合は、連携させることが出来ます。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/ef9c28a3e627a056183ce19cf1500ac5.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;入力が完了したら、規約と個人情報取り扱い同意にチェックをし、&lt;strong&gt;&lt;code&gt;「作成」&lt;/code&gt;&lt;/strong&gt;で進みましょう。&lt;/p&gt;

&lt;h2 id=&#34;サーバー設定&#34;&gt;サーバー設定&lt;/h2&gt;

&lt;p&gt;基本情報を入力したら確認画面が出るので&lt;strong&gt;&lt;code&gt;次へ&lt;/code&gt;&lt;/strong&gt;で進みます。&lt;/p&gt;

&lt;h3 id=&#34;extensionサーバーのurl&#34;&gt;ExtensionサーバーのURL&lt;/h3&gt;

&lt;p&gt;スキルのプログラムを置く&lt;strong&gt;サーバーを指定&lt;/strong&gt;します。
&lt;code&gt;https&lt;/code&gt;に対応したサーバーにする必要があります。&lt;/p&gt;

&lt;p&gt;LINE BOTの時にもよく利用する&lt;a href=&#34;https://qiita.com/n0bisuke/items/ceaa09ef8898bee8369d#4-now%E3%81%A7%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4&#34;&gt;now&lt;/a&gt;などのサービスを使うと良さそうです。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/414ed1bfb1f166a3db726242e87ac1c0.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;アカウント連携の有無&#34;&gt;アカウント連携の有無&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;サービス提供者側で管理しているユーザーアカウントとの連携が必要な場合、または新規アカウントの作成が必要な場合は[はい]を選択してください。詳細については[認証サーバーの構築]ガイドドキュメントを参照してください。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ユーザーアカウントとの連携が必要かどうかの設定です。ここでは無しを選択しました。&lt;/p&gt;

&lt;h2 id=&#34;配布情報&#34;&gt;配布情報&lt;/h2&gt;

&lt;p&gt;（おそらく）スキルストアに掲載される情報です。&lt;/p&gt;

&lt;h3 id=&#34;カテゴリ&#34;&gt;カテゴリ&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;作成するスキルが該当するカテゴリ&lt;/strong&gt;を選択しましょう。&lt;/p&gt;

&lt;h3 id=&#34;審査担当者へのコメント&#34;&gt;審査担当者へのコメント&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;審査担当者へのコメント&lt;/strong&gt;だそうです。使い方などを記述します。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/1b554328055c48282cdf73f3e0c14f6f.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;こんな雰囲気で書いてみました。よろしくお願いします！的な意気込みもありかも？&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1. スキルの簡単な概要: 周辺のカレー店の情報を知れます。
2. Intentおよび各々のテスト発話
    - YourIntent01：今開いてるカレー屋を教えて
    - YourIntent02：近くで一番安いカレー屋を教えて
    - YourIntent03：今日のオススメのカレーは？
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;サービスを提供する国および地域&#34;&gt;サービスを提供する国および地域&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;このExtensionは、Clovaがサービスを提供する全ての国および地域で利用できます。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;現時点では日本限定など国を指定した配信はできない模様です。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/1027a5b8caa082d773dddbee168ec405.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;extensionの説明-ユーザー向け&#34;&gt;Extensionの説明（ユーザー向け）&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;この項目は、スキルストアのスキルページで表示されます。以下の要件に沿って、ユーザー向けの説明を詳しく作成してください。なお、入力内容が不足している場合は、審査時にリジェクトされることがあります。(500文字以内)
スキルの説明（ユーザー向け）の要件
必須：スキルの概要、利用可能なサービス内容
必須：スキルの利用方法
任意：問い合わせ先の情報（例：カスタマーセンターの情報）
但し、個人の開発者がメールアドレスや電話番号、住所等を記載する場合は、リスクを認識した上でご記入ください。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;この項目重要ですね。&lt;/strong&gt;他も重要だけど。&lt;/p&gt;

&lt;p&gt;ユーザーがストアページを見た際の項目です。概要を分かりやすく書きましょう！&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/f43b85570275b9030db35f0af54bc3dd.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;代表サンプル発話&#34;&gt;代表サンプル発話&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;ユーザーがどのようにExtensionを利用できるかを表すサンプルフレーズです。ここに入力した内容がユーザーにどのように表示されるか確認するには、Clovaアプリで[設定]&amp;gt;[拡張サービスの管理]メニューに移動し、ExtensionのリストからUIまたは説明を確認してください。1つ目の代表サンプル発話には「〜を起動して」「〜を開いて」など、スキルを起動するフレーズを登録してください。（例：ピザボットを起動して）&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ユーザー側にどのようにスキルを使うのかの説明を書いてあげます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/82c9daae4c231297f3518e59f58b0747.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;検索キーワード-任意&#34;&gt;検索キーワード(任意)&lt;/h3&gt;

&lt;p&gt;ユーザーがスキルを探す際のキーワードです。 &lt;strong&gt;カンマ区切りで5つまでキーワードを設定&lt;/strong&gt;できます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/9bea944c04f72ce28257f84e40f2433e.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;アイコン&#34;&gt;アイコン&lt;/h3&gt;

&lt;p&gt;スキルのアイコンです。 &lt;strong&gt;512x512 pxのPNGまたはJPEG&lt;/strong&gt;が利用できます。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/d5199a56355daa0e9524d3bdd5afca70.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;カレーアイコン入れてみるとこんな感じです。&lt;/p&gt;

&lt;h3 id=&#34;対象デバイス&#34;&gt;対象デバイス&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;スキルを利用可能にするClovaデバイスを選択してください。チェックを外したデバイスからはスキルを呼び出すことができません。スキルを利用できるデバイスを1つ以上選択してください。
※ AudioPlayerを利用する場合、Xperia Ear Duoでは動作しません。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;対象デバイスの指定です。現時点だと&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Clova WAVE&lt;/li&gt;
&lt;li&gt;Clova Friends&lt;/li&gt;
&lt;li&gt;Clova Friends mini&lt;/li&gt;
&lt;li&gt;Xperia Ear Duo&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;の4デバイスで利用できる模様です。 &lt;strong&gt;特に指定がない場合はデフォルトの全チェックのままでOKです。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/e411ea1d9e5e35cfbf98b44792ac5ae7.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;最後まで記述したら&lt;strong&gt;&lt;code&gt;次へ&lt;/code&gt;&lt;/strong&gt;で進みます。&lt;/p&gt;

&lt;h2 id=&#34;個人情報の保護および規約同意&#34;&gt;個人情報の保護および規約同意&lt;/h2&gt;

&lt;p&gt;最後は個人情報保護と規約に関して登録します。&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/c405642b2b0d154659b78efb3f0f35bf.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;審査をリクエストしたいが&#34;&gt;審査をリクエストしたいが……&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;対話モデル&lt;/code&gt;の設定をしないといけません。
ここの項目は説明が多くて記事を分けたいと思います。取り急ぎここまでで保存しておきましょう。&lt;/p&gt;

&lt;h2 id=&#34;開発スタート&#34;&gt;開発スタート&lt;/h2&gt;

&lt;p&gt;取り急ぎ、Node.jsで開発スタートしていきましょう。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;申請完了しなくても開発スタートはできます。&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;長くなって来たので以下の記事にまとめています。&lt;/p&gt;

&lt;p&gt;

&lt;section class=&#34;link&#34; id=&#34;195&#34;&gt;
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
          &lt;div class=&#34;link_content&#34;&gt;
          &lt;a href=&#34;https://dotstud.io/blog/clova-cek-nodejs-tutorial/&#34;&gt;&lt;/a&gt;
          &lt;img src=&#34;https://dotstud.io/img/blog/195/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
          &lt;/div&gt;
          &lt;div class=&#34;link_content&#34;&gt;
            &lt;div class=&#34;link_detail&#34;&gt;
              &lt;div class=&#34;link_title&#34;&gt;
                Clova CEKでのスキル開発の始め方〜Node.jsで開発スタート編〜
              &lt;/div&gt;
              &lt;div class=&#34;link_date&#34;&gt;
                
                2018-08-03
              &lt;/div&gt;
              &lt;div class=&#34;link_desc&#34;&gt;
                Clova CEKのNode.jsチュートリアルです。カレースキルを作ります。
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/section&gt;
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
      
      
  
&lt;/section&gt;
&lt;/p&gt;

&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;

&lt;p&gt;速報的に作ろうと思ったのですが、思ったより申請フローは長い模様です。&lt;/p&gt;

&lt;p&gt;取り急ぎ登録して保存するところまでの紹介となります。&lt;/p&gt;

&lt;p&gt;進められたらまた更新しますね！！&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>PWM制御をマスターしよう！Node-REDでサーボモータを遠隔制御する方法＆初ハンズオンレポート</title>
      <link>https://dotstud.io/blog/nefry-servo-handson-takudooon/</link>
      <pubDate>Thu, 12 Jul 2018 10:00:00 +0900</pubDate>
      
      <guid>https://dotstud.io/blog/nefry-servo-handson-takudooon/</guid>
      
      <description>

&lt;h2 id=&#34;暑さ本番-いよいよ大好きな生ビールの季節がやってまいりました&#34;&gt;暑さ本番、いよいよ大好きな生ビールの季節がやってまいりました！&lt;/h2&gt;

&lt;p&gt;みなさまいかがお過ごしでしょうか？どうも、宇宙エンジニアの&lt;a href=&#34;https://dotstud.io/members/takudooon&#34;&gt;たくろーどん&lt;/a&gt;です。毎日、暑いですね。&lt;/p&gt;

&lt;p&gt;さて先日、&lt;strong&gt;初めてハンズオンイベント&lt;/strong&gt;を企画・実施してみました！題して、「&lt;a href=&#34;https://dotstudio.connpass.com/event/91695/&#34;&gt;&lt;strong&gt;【IoT】PWM制御をマスター！Nefry BT+Node-REDでサーボモータを遠隔制御&lt;/strong&gt;&lt;/a&gt;」！&lt;/p&gt;

&lt;p&gt;「モノづくりをしたい！」「こんなものをつくりたい！」と思っても「&lt;strong&gt;こういう技術がつかえる&lt;/strong&gt;」ということを知らないと、なかなかモノづくりが進みません。&lt;/p&gt;

&lt;p&gt;なので、動くものを作りたいときに便利な&lt;u&gt;&lt;strong&gt;サーボモータとその制御方法であるPWM制御&lt;/strong&gt;をマスターし、&lt;strong&gt;PCからサーボモータを遠隔制御をしよう&lt;/strong&gt;&lt;/u&gt;というのがハンズオンの目論見です。&lt;/p&gt;

&lt;p&gt;では、ちらっとハンズオンの内容を振り返ってみたいと思います。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/1.png&#34; alt=&#34;1&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;h2 id=&#34;pwm制御を用いたプログラムの書き方&#34;&gt;PWM制御を用いたプログラムの書き方&lt;/h2&gt;

&lt;h3 id=&#34;pwm制御について&#34;&gt;PWM制御について&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://dotstud.io/docs/pulse-width-modulation/&#34;&gt;PWM制御の大まかな説明&lt;/a&gt;は以前、ドキュメントに書きました。ようするに、PWM制御は「&lt;strong&gt;パルスのオン・オフ繰り返し切り替えることで出力される電力を制御&lt;/strong&gt;」するという意味です。&lt;/p&gt;

&lt;p&gt;でも結局のところ、「&lt;strong&gt;PWM制御ってどんなイメージやねん！&lt;/strong&gt;」と多くの方が思うでしょう。&lt;/p&gt;

&lt;p&gt;なので、これがわかりやすいのではないかという説明を思いつきました。それが、下記の動画です。
&lt;img src=&#34;https://dotstud.io/img/blog/187/2.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;例えば、自宅から最寄りの駅まで走らなければならない状況を考えます。まるで、小学校の算数にでてくるたかしくんの問題を彷彿させますね。知らんけど。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;100%の力で走れば5分で駅につく ≒ 100%出力されるので、5V出力される&lt;/li&gt;
&lt;li&gt;全力で走って途中で歩くと9分で駅に着く（全体的に80%の力で走る） ≒ 80%出力されるので、4V出力される&lt;/li&gt;
&lt;li&gt;全力で走って途中で歩くと10分で駅に着く（全体的に50%の力で走る） ≒ 50%出力されるので、2.5V出力される&lt;/li&gt;
&lt;li&gt;全力で走って途中で歩くと15分で駅に着く（全体的に10%の力で走る） ≒ 10%出力されるので、0.5V出力される&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;というようなイメージです。自宅から駅まで走る場合は走る速さの具合によって、到着時間が伸びます。しかし、電圧の場合は実行電圧（実際に出力される電圧）は下がっていきます。&lt;/p&gt;

&lt;h3 id=&#34;esp32開発ボードでのプログラムについて&#34;&gt;ESP32開発ボードでのプログラムについて&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;https://dotstud.io/docs/nefrybt&#34;&gt;Nefry BT&lt;/a&gt;のようなESP32を搭載しているような開発ボードでPWM制御する場合は、ledc関数を使います。&lt;strong&gt;ESP32ではArduinoでつかうようなanalogWrite関数が実装されていない&lt;/strong&gt;とのことなので注意しましょう（ただし、今後変更される可能性があります）。&lt;/p&gt;

&lt;p&gt;例えば、下記のようなプログラムになります。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;
//基本Iotは2.4GHz帯を使うこと
#include&amp;lt;Nefry.h&amp;gt;
#include&amp;quot;esp32-hal-ledc.h&amp;quot;

//PWM信号の周波数をPWMをつくっているクロック周波数で割ったもの
//ledcSetupでPWMの範囲を8bitに設定したとき、0～255　10bitのときは0～1023となる、2進数の話
#define PWM_BITWIDTH 16

//わかりやすいように角度に変換する関数/////////////////////
int deg2pw(int deg, int bit){
    double ms = ((double) deg - 90.0) * 0.95 / 90.0 + 1.45;
    return (int) (ms / 20.0 * pow(2, bit));
}
//////////////////////////////////////////////////////////

void setup() {
  Serial.begin(115200);
//ledcSetup(チャンネル数(0～),周波数(たとえばPWMサイクル20mHzなら50Hzになるという意味(SG90の場合))、分解能は任意(ただし限度はある))
  ledcSetup(0,50,PWM_BITWIDTH);
  ledcAttachPin(ピン番号,0);//left_motor
  Nefry.enableSW();
}

void loop(){
   if((Nefry.readSW())){
      ledcWrite(0,deg2pw(90, PWM_BITWIDTH));
      delay(800);
      ledcWrite(0,deg2pw(0, PWM_BITWIDTH));
   }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;プログラムの書き方&#34;&gt;プログラムの書き方&lt;/h3&gt;

&lt;p&gt;プログラムを詳しく見てましょう。&lt;/p&gt;

&lt;p&gt;ledc関数を使うため、ライブラリ「esp32-hal-ledc.h」を最初にインクルードします。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;#include&amp;quot;esp32-hal-ledc.h&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ライブラリ「esp32-hal-ledc.h」を使うときの主な関数は以下に示すものです。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;ledcSetup（チャンネル,周波数,分解能）&lt;/li&gt;
&lt;li&gt;ledcAttachPin（ピン番号,チャンネル）：チャンネルはピン番号の識別番号です&lt;/li&gt;
&lt;li&gt;ledcWrite（チャンネル,パルス幅）：設定した角度になるように与えるべきパルス幅を算出する関数&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;実際の記述は以下のようになります。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;void setup() {
    Serial.begin(115200);
    ledcSetup(0,50,PWM_BITWIDTH);
    ledcAttachPin(A2,0);//left_motor
    Nefry.enableSW();
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;分解能は&lt;strong&gt;どれだけ細かく制御するのか&lt;/strong&gt;を表しているイメージです。これは&lt;strong&gt;ビット数&lt;/strong&gt;で表します。&lt;/p&gt;

&lt;p&gt;例えば、分解能を&lt;strong&gt;8ビットとするれば0〜255バイト&lt;/strong&gt;（2の8乗）、&lt;strong&gt;10ビットなら0〜1023バイト&lt;/strong&gt;（2の10乗）となります。&lt;/p&gt;

&lt;p&gt;これを、どのようにPWM制御に使えるのか説明します。PWM制御とは一定電圧の入力から&lt;strong&gt;パルス列のオンとオフの一定周期を作り、オンの時間幅を変化させる電力制御方式&lt;/strong&gt;のことです。つまり、&lt;strong&gt;実効電圧を変化させる&lt;/strong&gt;ことができます。&lt;/p&gt;

&lt;p&gt;なので、例えば、最大5[V]の出力を考えたとき、&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;分解能8ビットだと0→0[V]、127→2.5[V]、255→5[V]&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;分解能10ビットだと0→0[V]、511→2.5[V]、1023→5[V]&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;と表せます。分解能が大きい方が、細かい制御ができることがわかるかと思います。&lt;/p&gt;

&lt;h2 id=&#34;node-red-mqttでサーボモータを遠隔制御&#34;&gt;Node-RED×MQTTでサーボモータを遠隔制御&lt;/h2&gt;

&lt;h3 id=&#34;node-redとは&#34;&gt;Node-REDとは&lt;/h3&gt;

&lt;p&gt;



&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/9.png&#34; alt=&#34;9&#34;&gt;

&lt;/center&gt;

&lt;a href=&#34;https://nodered.jp/&#34;&gt;Node-RED&lt;/a&gt;はハードウェアデバイス/APIおよびオンラインサービスを接続するためのツールです。ウェブ上で、フローチャートのように直感的にプログラムをつくることができます。そして、最終的に自分が欲しい仕組みを作り上げるというものです。&lt;/p&gt;

&lt;p&gt;Node-REDを使うには大まかに2パターンあります。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;自分のPC上でローカルで動かす（今回はこちらで進めていきます）&lt;/li&gt;
&lt;li&gt;外部のサービスを利用する（IBMクラウドやenebularなど）&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;導入方法は、&lt;a href=&#34;https://qiita.com/minwinmin/private/6c13d2c912d0d7e8e197&#34;&gt;こちら&lt;/a&gt;で説明していますので参考にしてください。&lt;/p&gt;

&lt;p&gt;また、後ほどNode-REDにフローのコードを貼り付ける必要があるので簡単に貼り付け方法を説明します。&lt;/p&gt;

&lt;p&gt;まずフローのコードをコピーし、Node-REDを立ち上げたら右上のメニュー（3本線）をクリックします。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/10.png&#34; alt=&#34;10&#34;&gt;

&lt;/center&gt;

すると上記のような画面があらわれます。「読み込み」をクリックして、あらわれた画面にコピーしたコードを貼り付ければ完了です。&lt;/p&gt;

&lt;h3 id=&#34;mqttとは&#34;&gt;MQTTとは&lt;/h3&gt;

&lt;p&gt;MQTTとは、&lt;strong&gt;多数のデバイスの間で短いメッセージを頻繁に送受信する&lt;/strong&gt;ことを想定した通信プロトコルです。つまりインフラのようなもの、もしくはメッセージを送受信するので土管のようなものをイメージすると良いかと思います。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/3.png&#34; alt=&#34;3&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;MQTTは先ほど説明したような仕組みの名前です。なので、実際にメッセージを送受信するためにはMQTTブローカーが必要です。イメージは下記の画像のようになります。




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/4.png&#34; alt=&#34;4&#34;&gt;

&lt;/center&gt;

MQTTブローカーを用意するには、いくつか方法があります（&lt;a href=&#34;http://acro-engineer.hatenablog.com/entry/2015/06/19/120000&#34;&gt;こちらのサイト&lt;/a&gt;にまとめられています）。今回、ハンズオンでつかったの以下の2パターンです。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ローカルホストでMQTTブローカーをたてる&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/mcollina/mosca&#34;&gt;Mosca&lt;/a&gt;を利用する -&amp;gt; MQTT brokerのためのライブラリ（IBMクラウドのような外部サービスでNode-REDを使う場合、うまくいきませんでした）&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&#34;https://test.mosquitto.org/&#34;&gt;mosquitto&lt;/a&gt;のテストサーバーを利用する&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;これから記載するプログラムはこちらを使っています。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;node-redのフローのコード&#34;&gt;Node-REDのフローのコード&lt;/h3&gt;

&lt;p&gt;下記のNode-REDのフローのコードを、Node-REDにコピーして使いましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[
    {
        &amp;quot;id&amp;quot;: &amp;quot;7878093f.d68778&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;debug&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;active&amp;quot;: true,
        &amp;quot;tosidebar&amp;quot;: true,
        &amp;quot;console&amp;quot;: false,
        &amp;quot;tostatus&amp;quot;: false,
        &amp;quot;complete&amp;quot;: &amp;quot;payload&amp;quot;,
        &amp;quot;x&amp;quot;: 522.0130081176758,
        &amp;quot;y&amp;quot;: 161.99999809265137,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;22ca4d97.8e3382&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;inject&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;topic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;payload&amp;quot;: &amp;quot;{\&amp;quot;motor\&amp;quot;:1}&amp;quot;,
        &amp;quot;payloadType&amp;quot;: &amp;quot;json&amp;quot;,
        &amp;quot;repeat&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;crontab&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;once&amp;quot;: false,
        &amp;quot;onceDelay&amp;quot;: 0.1,
        &amp;quot;x&amp;quot;: 220.01303100585938,
        &amp;quot;y&amp;quot;: 244.00000190734863,
        &amp;quot;wires&amp;quot;: [
            [
                &amp;quot;6b18ace.785b854&amp;quot;
            ]
        ]
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;6b18ace.785b854&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;mqtt out&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;/sub/NefryBT/SAMPLE&amp;quot;,
        &amp;quot;topic&amp;quot;: &amp;quot;/sub/NefryBT/SAMPLE&amp;quot;,
        &amp;quot;qos&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;retain&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;broker&amp;quot;: &amp;quot;3890dddf.26f532&amp;quot;,
        &amp;quot;x&amp;quot;: 508.0130386352539,
        &amp;quot;y&amp;quot;: 293.9999957084656,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;e0581ff4.bce8a&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;inject&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;topic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;payload&amp;quot;: &amp;quot;{\&amp;quot;motor\&amp;quot;:0}&amp;quot;,
        &amp;quot;payloadType&amp;quot;: &amp;quot;json&amp;quot;,
        &amp;quot;repeat&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;crontab&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;once&amp;quot;: false,
        &amp;quot;onceDelay&amp;quot;: 0.1,
        &amp;quot;x&amp;quot;: 220.01303100585938,
        &amp;quot;y&amp;quot;: 344.00000190734863,
        &amp;quot;wires&amp;quot;: [
            [
                &amp;quot;6b18ace.785b854&amp;quot;
            ]
        ]
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;3dccf617.5970da&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;mqtt in&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;topic&amp;quot;: &amp;quot;/sub/NefryBT/SAMPLE&amp;quot;,
        &amp;quot;qos&amp;quot;: &amp;quot;2&amp;quot;,
        &amp;quot;broker&amp;quot;: &amp;quot;cd2e6f9.ab8069&amp;quot;,
        &amp;quot;x&amp;quot;: 235.09634399414062,
        &amp;quot;y&amp;quot;: 159.3697967529297,
        &amp;quot;wires&amp;quot;: [
            [
                &amp;quot;7878093f.d68778&amp;quot;
            ]
        ]
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;f5c8b0fb.93d8&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;comment&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;Node-RED上に文字列表示&amp;quot;,
        &amp;quot;info&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;x&amp;quot;: 237.09635162353516,
        &amp;quot;y&amp;quot;: 114.08594131469727,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;47872155.bfb16&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;comment&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;MQTTブローカー側に文字列を送信&amp;quot;,
        &amp;quot;info&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;x&amp;quot;: 265.0130310058594,
        &amp;quot;y&amp;quot;: 206.0104217529297,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;d5a5e79d.ec27a8&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;comment&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;MQTTブローカー側に文字列を送信するためのフロー&amp;quot;,
        &amp;quot;info&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;x&amp;quot;: 609.0130004882812,
        &amp;quot;y&amp;quot;: 257.0104160308838,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;3700aeb9.5a7ec2&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;comment&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;782bda22.769d84&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;ｍosquittoのテストサーバーを利用&amp;quot;,
        &amp;quot;info&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;x&amp;quot;: 265.0130310058594,
        &amp;quot;y&amp;quot;: 52.010416984558105,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;3890dddf.26f532&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;mqtt-broker&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;broker&amp;quot;: &amp;quot;http://test.mosquitto.org/&amp;quot;,
        &amp;quot;port&amp;quot;: &amp;quot;1883&amp;quot;,
        &amp;quot;clientid&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;usetls&amp;quot;: false,
        &amp;quot;compatmode&amp;quot;: true,
        &amp;quot;keepalive&amp;quot;: &amp;quot;60&amp;quot;,
        &amp;quot;cleansession&amp;quot;: true,
        &amp;quot;birthTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;birthQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;birthPayload&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;closeTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;closeQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;closePayload&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;willTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;willQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;willPayload&amp;quot;: &amp;quot;&amp;quot;
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;cd2e6f9.ab8069&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;mqtt-broker&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;broker&amp;quot;: &amp;quot;http://test.mosquitto.org/&amp;quot;,
        &amp;quot;port&amp;quot;: &amp;quot;1883&amp;quot;,
        &amp;quot;clientid&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;usetls&amp;quot;: false,
        &amp;quot;compatmode&amp;quot;: true,
        &amp;quot;keepalive&amp;quot;: &amp;quot;60&amp;quot;,
        &amp;quot;cleansession&amp;quot;: true,
        &amp;quot;birthTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;birthQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;birthPayload&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;closeTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;closeQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;closePayload&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;willTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;willQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;willPayload&amp;quot;: &amp;quot;&amp;quot;
    }
]
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;nefry-btのプログラム&#34;&gt;Nefry BTのプログラム&lt;/h3&gt;

&lt;p&gt;下記がNefry BT側のプログラムになります。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;//Nefryがwifiにつながっているか確認、2.4Ghzにつなごう
//できたtest.mosquitto.orgで使える！
#include &amp;lt;Nefry.h&amp;gt;
#include &amp;lt;WiFiClient.h&amp;gt;
#include &amp;lt;PubSubClient.h&amp;gt;
#include &amp;lt;ArduinoJson.h&amp;gt;
#include&amp;quot;esp32-hal-ledc.h&amp;quot;
#define URL &amp;quot;mosquitto.org&amp;quot;

#define PWM_BITWIDTH 16

int deg2pw(int deg, int bit){
    double ms = ((double) deg - 90.0) * 0.95 / 90.0 + 1.45;
    return (int) (ms / 20.0 * pow(2, bit));
}

IPAddress endpoint;
const int port = 1883;

const char *pubTopic;
const char *subTopic;
const char *deviceName;
const char *mqtt_server = &amp;quot;test.mosquitto.org&amp;quot;;

WiFiClient httpsClient;
PubSubClient mqttClient(httpsClient);



void setup() {
  ledcSetup(0,50,PWM_BITWIDTH);
  ledcAttachPin(A2,0);

  //// NefryBT設定画面まわり ////////////////////////////////////////

  // NefryBT
  pubTopic = &amp;quot;/pub/NefryBT/SAMPLE&amp;quot;;
  subTopic = &amp;quot;/sub/NefryBT/SAMPLE&amp;quot;;
  deviceName = &amp;quot;NefryBT_SAMPLE&amp;quot;;  // 複数台で利用する場合は必ずかぶらないように変更する
  // ローカルホストでMQTTブローカーを立てている場合は、パソコンのIPAddress型に収納。配列っぽく入れる。ここはその都度確認すること
  //endpoint指定部
  endpoint[0] = 192;
  endpoint[1] = 168;
  endpoint[2] = 43;
  endpoint[3] = 105;

  //// 以下通常処理 ////////////////////////////////////////

  Serial.begin(115200);
  //mqttClient.setServer()関数でMQTTブローカーを指定する
  mqttClient.setServer(mqtt_server, port);
  mqttClient.setCallback(mqttCallback);

  connectMQTT();
}

//MQTTがちゃんと動いているか、つながっているかを判断  
void connectMQTT() {
    Serial.println(&amp;quot;connectMQTT&amp;quot;);
    Serial.println(deviceName);
    while (!mqttClient.connected()) {
      Serial.print(&amp;quot;.&amp;quot;);
        if (mqttClient.connect(deviceName)) {
            Serial.println(&amp;quot;Connected.&amp;quot;);
            int qos = 0;
            mqttClient.subscribe(subTopic, qos);
            Serial.println(&amp;quot;Subscribed.&amp;quot;);
        } else {
            Serial.print(&amp;quot;Failed. Error state=&amp;quot;);
            Serial.print(mqttClient.state());
            // Wait 5 seconds before retrying
            delay(5000);
        }
    }
}
///////////////////////////////////////////////////////

char pubMessage[128];

void mqttCallback (char* topic, byte* payload, unsigned int length) {

    String str = &amp;quot;&amp;quot;;
    Serial.print(&amp;quot;Received. topic=&amp;quot;);
    Serial.println(topic);
    for (int i = 0; i &amp;lt; length; i++) {
        Serial.print((char)payload[i]);
        str += (char)payload[i];
    }
    Serial.print(&amp;quot;\n&amp;quot;);

    StaticJsonBuffer&amp;lt;200&amp;gt; jsonBuffer;

    JsonObject&amp;amp; root = jsonBuffer.parseObject(str);

    // 読み取った文字列をパース
    if (!root.success()) {
      Serial.println(&amp;quot;parseObject() failed&amp;quot;);
      return;
    }
//Node-REDから文字列を読み取ってくる部分//////
    const char* message = root[&amp;quot;message&amp;quot;];
    int motor = root[&amp;quot;motor&amp;quot;];
////////////////////////////////////////////
    Serial.print(&amp;quot;motor = &amp;quot;);
    Serial.println(motor);
///サーボモータを動かす処理//////////////////
    if( motor == 1 ){
       for(int i=90; i&amp;lt;=115; i++){
          ledcWrite(0,deg2pw(i, PWM_BITWIDTH));
       }
       delay(800);
       ledcWrite(0,deg2pw(90, PWM_BITWIDTH));
    } else {
       for(int i=90; i&amp;gt;=65; --i){//0～180°の位置で考える、90度が基準点としてそこからどう動くかを考える
          ledcWrite(0,deg2pw(i, PWM_BITWIDTH));
       }
       delay(800);
       ledcWrite(0,deg2pw(90, PWM_BITWIDTH));
    }

    Nefry.ndelay(1000);

}
//////////////////////////////////////////////

//mqttを動かしている部分///////////////////////  
void mqttLoop() {
    if (!mqttClient.connected()) {
        connectMQTT();
    }
    mqttClient.loop();
}

void loop() {
  mqttLoop();
 }
//////////////////////////////////////////////

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;動作させてみると&#34;&gt;動作させてみると……&lt;/h3&gt;

&lt;p&gt;このように、PC上から遠隔でサーボモータを制御できるようになります。
&lt;img src=&#34;https://dotstud.io/img/blog/187/5.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;node-red-mqttでサーボモータをui-ブラウザ-から制御&#34;&gt;Node-RED×MQTTでサーボモータをUI（ブラウザ）から制御&lt;/h2&gt;

&lt;p&gt;先ほどのプログラムはNode-RED上のボタンを押すとある角度回転するというものでした。次はそれを発展させて、&lt;strong&gt;ブラウザから操作して角度を遠隔で制御&lt;/strong&gt;してみます。&lt;/p&gt;

&lt;p&gt;ハンズオンでは、製作途中にタイムアップしてしまいました。少し難易度高めです。&lt;/p&gt;

&lt;h3 id=&#34;node-redのフローのコード-1&#34;&gt;Node-REDのフローのコード&lt;/h3&gt;

&lt;p&gt;下記のNode-REDのフローのコードをNode-REDにコピーして使いましょう。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[
    {
        &amp;quot;id&amp;quot;: &amp;quot;f2dc1b0b.520f98&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;mqtt out&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;fab71764.66ef78&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;topic&amp;quot;: &amp;quot;servo/pan&amp;quot;,
        &amp;quot;qos&amp;quot;: &amp;quot;1&amp;quot;,
        &amp;quot;retain&amp;quot;: &amp;quot;false&amp;quot;,
        &amp;quot;broker&amp;quot;: &amp;quot;954b988c.ec1e08&amp;quot;,
        &amp;quot;x&amp;quot;: 520,
        &amp;quot;y&amp;quot;: 400,
        &amp;quot;wires&amp;quot;: []
    },
    {
        &amp;quot;id&amp;quot;: &amp;quot;954b988c.ec1e08&amp;quot;,
        &amp;quot;type&amp;quot;: &amp;quot;mqtt-broker&amp;quot;,
        &amp;quot;z&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;name&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;broker&amp;quot;: &amp;quot;https://test.mosquitto.org/&amp;quot;,
        &amp;quot;port&amp;quot;: &amp;quot;1883&amp;quot;,
        &amp;quot;clientid&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;usetls&amp;quot;: false,
        &amp;quot;compatmode&amp;quot;: true,
        &amp;quot;keepalive&amp;quot;: &amp;quot;60&amp;quot;,
        &amp;quot;cleansession&amp;quot;: true,
        &amp;quot;birthTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;birthQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;birthPayload&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;closeTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;closePayload&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;willTopic&amp;quot;: &amp;quot;&amp;quot;,
        &amp;quot;willQos&amp;quot;: &amp;quot;0&amp;quot;,
        &amp;quot;willPayload&amp;quot;: &amp;quot;&amp;quot;
    }
]
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;nefry-btのプログラム-1&#34;&gt;Nefry BTのプログラム&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-c++&#34;&gt;
#include &amp;lt;Nefry.h&amp;gt;
#include &amp;lt;WiFiClient.h&amp;gt;
#include &amp;lt;PubSubClient.h&amp;gt;
#include &amp;lt;ArduinoJson.h&amp;gt;
//esp32でPWMを使えるようにするためのライブラリー//
#include&amp;quot;esp32-hal-ledc.h&amp;quot;
//////////////////////////////////////////////

//分解能//////////////////////////////////////
#define PWM_BITWIDTH 16
//////////////////////////////////////////////

//PWM制御：周波数-&amp;gt;角度に変換(プログラムするときにわかりやすい)//
int deg2pw(int deg, int bit){
    double ms = ((double) deg - 90.0) * 0.95 / 90.0 + 1.45;
    return (int) (ms / 20.0 * pow(2, bit));
}
////////////////////////////////////////////////////////////


IPAddress endpoint;
const int port = 1883;

const char *pubTopic;
const char *subTopic;
const char *deviceName;
const char *mqtt_server = &amp;quot;test.mosquitto.org&amp;quot;;

WiFiClient httpsClient;
PubSubClient mqttClient(httpsClient);



void setup() {
  ledcSetup(0,50,PWM_BITWIDTH);
  ledcAttachPin(A1,0);

  //// NefryBT設定 ////////////////////////////////////////

  // NefryBT
  pubTopic = &amp;quot;/pub/NefryBT/SAMPLE&amp;quot;;
  subTopic = &amp;quot;/sub/NefryBT/SAMPLE&amp;quot;;
  deviceName = &amp;quot;NefryBT_SAMPLE&amp;quot;;  // 複数台で利用する場合は必ずかぶらないように変更する
  // ローカルホストならパソコンのIPAddress型に収納。配列っぽく入れる。ここはその都度確認すること
  //mosquittoのテストサーバーを使うときは下記のednpointは気にしなくて大丈夫です
  endpoint[0] = 192;
  endpoint[1] = 168;
  endpoint[2] = 1;
  endpoint[3] = 1;

  ////////////////////////////////////////////

  Serial.begin(115200);

  mqttClient.setServer(mqtt_server, port);
  mqttClient.setCallback(mqttCallback);

  connectMQTT();
}

void connectMQTT() {
    Serial.println(&amp;quot;connectMQTT&amp;quot;);
    Serial.println(deviceName);
    while (!mqttClient.connected()) {
      Serial.print(&amp;quot;.&amp;quot;);
        if (mqttClient.connect(deviceName)) {
            Serial.println(&amp;quot;Connected.&amp;quot;);
            int qos = 0;
            mqttClient.subscribe(subTopic, qos);
            Serial.println(&amp;quot;Subscribed.&amp;quot;);
        } else {
            Serial.print(&amp;quot;Failed. Error state=&amp;quot;);
            Serial.print(mqttClient.state());
            // Wait 5 seconds before retrying
            delay(5000);
        }
    }
}

char pubMessage[128];

void mqttCallback (char* topic, byte* payload, unsigned int length) {

    String str = &amp;quot;&amp;quot;;
    Serial.print(&amp;quot;Received. topic=&amp;quot;);
    Serial.println(topic);
    for (int i = 0; i &amp;lt; length; i++) {
        Serial.print((char)payload[i]);
        str += (char)payload[i];
    }
    Serial.print(&amp;quot;\n&amp;quot;);

    StaticJsonBuffer&amp;lt;200&amp;gt; jsonBuffer;

    JsonObject&amp;amp; root = jsonBuffer.parseObject(str);

    // パースが成功かどうか判断
    if (!root.success()) {
      Serial.println(&amp;quot;parseObject() failed&amp;quot;);
      return;
    }

    const char* message = root[&amp;quot;message&amp;quot;];
    int takudooon = root[&amp;quot;takudooon&amp;quot;];

    Serial.print(&amp;quot;takudooon = &amp;quot;);
    Serial.println(takudooon);

    if( takudooon == 1 ){
       for(int i=90; i&amp;lt;=115; i++){
          ledcWrite(0,deg2pw(i, PWM_BITWIDTH));
       }
       delay(800);
       ledcWrite(0,deg2pw(90, PWM_BITWIDTH));
    } else {
       for(int i=90; i&amp;gt;=65; --i){//0～180°の位置で考える、90度が基準点としてそこからどう動くかを考える
          ledcWrite(0,deg2pw(i, PWM_BITWIDTH));
       }
       delay(800);
       ledcWrite(0,deg2pw(90, PWM_BITWIDTH));
    }

    Nefry.ndelay(1000);

}

void mqttLoop() {
    if (!mqttClient.connected()) {
        connectMQTT();
    }
    mqttClient.loop();
}

void loop() {
  mqttLoop();
 }

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;操作画面を用意&#34;&gt;操作画面を用意&lt;/h3&gt;

&lt;p&gt;それぞれのプログラムが準備できたら、Node-REDの画面から、




&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/6.png&#34; alt=&#34;6&#34;&gt;

&lt;/center&gt;
&lt;/p&gt;

&lt;p&gt;URLの「&lt;code&gt;http://localhost:1880&lt;/code&gt;」を「&lt;code&gt;http://localhost:1880/ui&lt;/code&gt;」と記述すると以下のような操作画面があらわれます。ここから、直感的にサーボモータの角度を遠隔制御できるようになります。&lt;/p&gt;





&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/187/7.png&#34; alt=&#34;7&#34;&gt;

&lt;/center&gt;


&lt;h3 id=&#34;実際に動かすと&#34;&gt;実際に動かすと……&lt;/h3&gt;

&lt;p&gt;このようになります。
&lt;img src=&#34;https://dotstud.io/img/blog/187/8.gif&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;

&lt;p&gt;いろいろな技術を知ることでモノづくりの幅が増え、作ってみたいものを自由に作れるようになってもらえればな、と思います。&lt;/p&gt;

&lt;p&gt;では！&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>