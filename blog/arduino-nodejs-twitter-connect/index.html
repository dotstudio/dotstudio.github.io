<!doctype html><html lang=ja><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=愛すべきお友達「トンピーちゃん」を動かしたい！ArduinoとTwitterの連携に挑戦してみました！><meta name=author content="dotstudio Inc."><meta content=https://dotstud.io/img/blog/230/00_eyecatch.png><meta itemprop=name content><meta itemprop=image content=https://dotstud.io/img/blog/230/00_eyecatch.png><meta property=og:title content><meta property=og:locale content=ja_JP><meta property=og:type content=article><meta property=og:url content=https://dotstud.io/blog/arduino-nodejs-twitter-connect/><meta property=og:site_name content=dotstudio（ドットスタジオ）><meta property=og:image content=https://dotstud.io/img/blog/230/00_eyecatch.png><meta property=og:image:secure_url content=https://dotstud.io/img/blog/230/00_eyecatch.png><meta property=og:description content=愛すべきお友達「トンピーちゃん」を動かしたい！ArduinoとTwitterの連携に挑戦してみました！><meta property=article:author content=https://www.facebook.com/dotstud10/><meta property=fb:app_id content=296336307370435><meta property=fb:pages content=1013196712108753><meta name=twitter:card content=summary_large_image><meta name=twitter:image:src content=https://dotstud.io/img/blog/230/00_eyecatch.png><meta name=twitter:site content=@dotstud_io><meta name=twitter:url content=https://dotstud.io/blog/arduino-nodejs-twitter-connect/><meta name=twitter:description content=愛すべきお友達「トンピーちゃん」を動かしたい！ArduinoとTwitterの連携に挑戦してみました！><meta name=twitter:title content=電子工作レシピ><meta name=twitter:creator content=@dotstud_io><meta name=google-site-verification content=oW2fcSG1fFnkDoRCGFJ0IGGebtBr8FjV2twoFMd7Skc><title>電子工作レシピ</title><link rel=stylesheet href=/css/loader.css><link rel=stylesheet href=/css/master.css><link rel=stylesheet href=/css/icon-font.css><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet><link rel="shortcut icon" type=image/png href=/img/resources/favicon.png><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css rel=preload as=style onload="this.rel='stylesheet'"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel=preload as=style onload="this.rel='stylesheet'"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel=preload as=style onload="this.rel='stylesheet'"><link href=/css/lib/hljs.css rel=preload as=style onload="this.rel='stylesheet'"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-K5TRM9Q');</script><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-5922216421588455",enable_page_level_ads:true});</script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K5TRM9Q" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=fb-root></div><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.8";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script><header><svg style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-arrow-right" viewBox="0 0 32 32"><title>arrow-right</title><path class="path1" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M5.143 5.143l10.349 10.349"/><path class="path2" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M5.143 26.857l10.349-10.349"/><path class="path3" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M16.571 26.857 26.92 16.508"/><path class="path4" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M16.571 5.143 26.92 15.492"/></symbol><symbol id="icon-hamburger" viewBox="0 0 60 32"><title>hamburger</title><path class="path1" fill="none" stroke="gray" stroke-width="7.1111" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M3.556 3.556h53.333"/><path class="path2" fill="none" stroke="gray" stroke-width="7.1111" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M3.556 28.444h53.333"/></symbol><symbol id="icon-logo-mark" viewBox="0 0 32 32"><title>logo-mark</title><path class="path1" d="M19.731 28.8H0v-19.699h19.731zM1.53 27.302h16.672v-16.672h-16.672z"/><path class="path2" d="M32 22.899h-19.731v-19.699H32zM13.798 21.37H30.47V4.698h-16.672z"/></symbol><symbol id="icon-social-facebook" viewBox="0 0 32 32"><title>social-facebook</title><path class="path1" d="M30.1.12h-28.46c-.974.011-1.76.804-1.76 1.78.0.0.0.0.0.0v28.46c0 .983.797 1.78 1.78 1.78h15.32v-12.4h-4.16v-4.82h4.16v-3.58c-.02-.179-.031-.386-.031-.596.0-3.203 2.597-5.8 5.8-5.8.152.0.302.006.45.017-.016-.001-.013-.001-.009-.001 1.3.0 2.582.073 3.844.214l-.155 4.286h-2.54c-2 0-2.36.96-2.36 2.36v3.1h4.76l-.62 4.8h-4.12v12.4h8.12c.983.0 1.78-.797 1.78-1.78v-28.44c0-.983-.797-1.78-1.78-1.78z"/></symbol><symbol id="icon-social-github" viewBox="0 0 32 32"><title>social-github</title><path class="path1" d="M16 .4c-.001.0-.002.0-.004.0-8.837.0-16 7.163-16 16 0 7.028 4.531 12.997 10.831 15.147.913.173 1.213-.307 1.213-.747s-.04-1.38-.04-2.8c-4.44 1.06-5.38-2-5.38-2-.308-.987-.937-1.798-1.763-2.33-1.477-1.01.103-.99.103-.99 1.055.144 1.941.76 2.451 1.624.607 1.039 1.701 1.715 2.953 1.715.6.0 1.164-.155 1.653-.428.062-.836.437-1.58 1.002-2.13-3.559-.401-7.279-1.781-7.279-8.001-.001-.032-.001-.069-.001-.106.0-1.621.624-3.096 1.645-4.198-.181-.526-.283-1.135-.283-1.769.0-.85.184-1.657.514-2.383s1.325-.404 4.385 1.676c1.199-.341 2.577-.537 4-.537s2.801.196 4.107.562c2.953-2.026 4.293-1.666 4.293-1.666.31.683.49 1.481.49 2.321.0.688-.121 1.348-.343 1.959 1.03 1.058 1.654 2.533 1.654 4.154.0.037.0.075-.001.112.0 6.134-3.74 7.494-7.3 7.894.685.69 1.108 1.641 1.108 2.69.0.088-.003.175-.009.261.001 2.128.001 3.848.001 4.368s.28.92 1.1.78c6.413-2.183 10.944-8.152 10.944-15.18.0-8.837-7.163-16-16-16-.015.0-.031.0-.046.0z"/></symbol><symbol id="icon-social-twitter" viewBox="0 0 32 32"><title>social-twitter</title><path class="path1" d="M10 29c.036.0.078.0.12.0 10.25.0 18.56-8.31 18.56-18.56.0-.042.0-.085.0-.127.0-.274.0-.554.0-.834 1.312-.959 2.414-2.113 3.289-3.431-1.07.454-2.347.82-3.686.984 1.293-.819 2.312-2.084 2.804-3.587-1.184.679-2.577 1.234-4.062 1.539-1.286-1.244-2.976-2.027-4.849-2.027-3.634.0-6.58 2.946-6.58 6.58.0.518.06 1.022.173 1.506-5.473-.309-10.286-2.887-13.523-6.813-.587.917-.919 2.059-.919 3.278.0 2.258 1.137 4.25 2.871 5.435-1.063-.025-2.07-.325-2.95-.822l.032.017c0 .027-.001.058-.001.09.0 3.163 2.239 5.803 5.218 6.423-.479.156-1.078.242-1.696.242-.432.0-.854-.042-1.263-.121.908 2.637 3.319 4.512 6.175 4.567-2.208 1.746-5.039 2.8-8.116 2.8-.013.0-.027.0-.04.0-.566-.018-1.104-.068-1.633-.149 2.897 1.868 6.353 2.984 10.068 3.009z"/></symbol></defs></svg><div class=header><span class=logo><a href=/><svg id="icon-logo"><use xlink:href="#icon-logo-mark"/></a></span><div class=menu><input type=checkbox id=menu-toggle>
<label for=menu-toggle class=label-toggle><svg class="icon-hamburger"><use xlink:href="#icon-hamburger"/></label></input><ul><li class=menu-item><a href=/blog>Blog</a></li><li class=menu-item><a href=/docs>Docs</a></li><li class=menu-item><a href=/shop>Shop</a></li><li class=menu-item><a href=/members>Members</a></li><li class=menu-item><a href=/service>Service</a></li><li class=menu-item><a href=/about>About</a></li></ul></div></div></header><ul class=categories><li><a href=/categories/try/ class=selected>やってみるIoT</a></li><li><a href=/categories/learn/>IoTを知ろう</a></li><li><a href=/categories/event/>イベントレポート</a></li><li><a href=/categories/tips/>Tips</a></li></ul><article class=blog-single><div class=date>2019.01.28</div><img class=blog-single--eyecatch src=/img/blog/230/00_eyecatch.png alt width=710px><h1 class=blog-single--title>ArduinoでTwitter連携！愛しのぬいぐるみトンピーちゃんに命を吹き込んでみた</h1><div class=blog-single--information><a class=author href=/members/mizuho><img src=/img/members/mizuho/author.png alt class=author--avatar><p class=author--name>mizuho</p></a><a class=series href=/series/handson>電子工作レシピ</a></div><div id=fb-root></div><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src='https://connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v3.1&appId=172686636611828&autoLogAppEvents=1';fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script><div class=share><a href=https://twitter.com/share class=twitter-share-button data-size=large data-show-count=true data-hashtags=dotstudio>Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script>&nbsp;<div class=fb-share-button data-href=https://dotstud.io/blog/arduino-nodejs-twitter-connect/ data-layout=button_count data-size=large data-mobile-iframe=true><a target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdotstud.io%2Fblog%2Fmftokyo-2018-chantoku-report%2F&amp;src=sdkpreparse" class=fb-xfbml-parse-ignore>シェア</a></div>&nbsp;
<a href=https://dotstud.io/blog/arduino-nodejs-twitter-connect/ class=hatena-bookmark-button data-hatena-bookmark-layout=basic-counter data-hatena-bookmark-height=30 title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style=border:none></a><script type=text/javascript src=https://b.st-hatena.com/js/bookmark_button.js async></script>
&nbsp;<div class=line-it-button data-lang=ja data-type=share-c data-url=https://dotstud.io/blog/arduino-nodejs-twitter-connect/ style=display:none></div><script src=https://d.line-scdn.net/r/web/social-plugin/js/thirdparty/loader.min.js async defer></script></div><div class="blog-single--content markdown"><p>皆さん、大好きなぬいぐるみが動き出したらいいなと思ったこと、ありませんか？</p><p>今回は私の愛すべきお友達「トンピーちゃん」に命を吹き込むべく、プログラミング初心者の私がArduinoとTwitterの連携に挑戦してみました！</p><p><font size=4>こちらです！！</font>
<img src=https://qiita-image-store.s3.amazonaws.com/0/309368/721a8190-3ffc-8bca-c4b3-774ee58d45e9.gif alt=ezgif.com-video-to-gif.gif></p><h2 id=今回やること>今回やること</h2><h3 id=実装の構成>実装の構成</h3><p><a href=https://gyazo.com/a75b45dc702b385f5e32fcd3e39c5b64><img src=https://i.gyazo.com/a75b45dc702b385f5e32fcd3e39c5b64.png alt="Image from Gyazo"></a></p><p>ざっくりの構成です。Node.jsでTwitterの「#tonpy」というハッシュタグを監視し、「move #tonpy」「stop #tonpy」というツイートがあったらArduinoを経由してトンピーちゃんが動いたり止まったりします。</p><h3 id=用意するもの>用意するもの</h3><h4 id=こぐまのトンピーちゃん>■こぐまのトンピーちゃん</h4><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/210df088-f5f0-6f8a-e9ee-2a63f06e2364.jpeg alt=トンピー.jpg>
愛用のトンピーちゃんです。乾電池を入れるとピーヒャラドンドンします。</p><ul><li>購入: <a href=https://www.amazon.co.jp/%E3%82%A4%E3%83%AF%E3%83%A4-%E3%81%93%E3%81%90%E3%81%BE%E3%81%AE%E3%83%88%E3%83%B3%E3%83%94%E3%83%BC/dp/B0002U3OBA>Amazon.co.jp</a></li></ul><p><br></p><h4 id=arduino-uno>■Arduino Uno</h4><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/c26d230d-e320-b73d-f15f-32d813e1294f.jpeg alt="Arduino Uno.jpg">
Arduino Unoは2010年に発売されたArduinoで、<a href=https://store.arduino.cc/usa/arduino-uno-rev3>Arduinoの公式サイト</a>にも「<strong>電子工作初心者に最適</strong>」と書いてあったのでこちらに決めました。</p><p>購入にあたっては「Arduino 初心者」と調べヒットした「<a href="https://www.amazon.co.jp/%E3%82%B9%E3%82%A4%E3%83%83%E3%83%81%E3%82%B5%E3%82%A4%E3%82%A8%E3%83%B3%E3%82%B9-SSCI-GettingStartedArduinoKit-Arduino%E3%82%92%E3%81%AF%E3%81%98%E3%82%81%E3%82%88%E3%81%86%E3%82%AD%E3%83%83%E3%83%88/dp/B0025Y6C5G/ref=sr_1_fkmr1_2?ie=UTF8&amp;qid=1544321570&amp;sr=8-2-fkmr1&amp;keywords=arduino+%E3%82%B9%E3%82%BF%E3%83%BC%E3%83%88%E3%82%AD%E3%83%83%E3%83%88">Arduinoをはじめようキット</a>」を購入しました。</p><p><center style=color:#585858;font-size:95%;padding-bottom:10px><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/d7099cb0-97aa-8ff1-4e3d-b959e8139fb4.jpeg>
─ Arduinoをはじめようキット</center>
Arduino Unoの他にブレッドボードや抵抗など電子工作を始めるにあたり必要なもの一式が揃っているため、すぐに始める事ができます。</p><p><br></p><h4 id=fet-fet-mosfet-2sjs527l-e-60v5a>■FET（FET MOSFET 2SJS527L-E 60V5A）</h4><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/88510174-eed9-e286-5343-3deeb08a7884.jpeg alt=I-08315.jpg></p><p>FETはロードスイッチとも呼ばれ、簡単にいうと外部からの電圧によって電流の流れを制御できるスイッチのようなもののようです。小さな電力で動作させる事ができます。</p><p><a href=/#回路を作成>回路を作成</a>で説明しますが、FETには「Pチャネル」と「Nチャネル」の2種類あります。今回はNチャネルのFETを利用します。</p><ul><li>購入: <a href=http://akizukidenshi.com/catalog/g/gI-07145/>秋月電子</a></li></ul><p><br></p><h4 id=node-jsをインストールしたpc>■Node.jsをインストールしたPC</h4><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/efcdf34b-504e-cc68-125a-0acadd815510.jpeg alt=IMG_9204.jpg></p><p>今回はNode.jsでプログラムを動かします。下記記事を参考にインストールしてみてください！</p><section class=link id=136><div class=link_content><a href=https://dotstud.io/blog/nodejs-install-use-nodebrew/></a><img src=/img/blog/136/00_thumbnail.png alt=サムネイル></div><div class=link_content><div class=link_detail><div class=link_title>Node.jsを始めよう！nodebrewを使って5分で環境構築</div><div class=link_date>2017-12-15</div><div class=link_desc>nodebrewを使ったNode.jsのインストール方法をまとめました。</div></div></div></section><p></section></p><ul><li>筆者PC: mac OS HighSierra バージョン10.13.6<br></li><li>Node.js: v10.10.0</li></ul><p><br></p><h4 id=その他>■その他</h4><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/eb369434-a5ff-e44a-c7b9-02a065030098.jpeg alt=IMG_9206.jpg></p><ul><li><a href=/docs/breadboard/>ブレッドボード</a></li><li><a href=http://localhost:1313/docs/jumperwire/#%E3%83%9F%E3%83%8E%E3%83%A0%E3%82%B7%E3%82%AF%E3%83%AA%E3%83%83%E3%83%97-%E3%83%AF%E3%83%8B%E5%8F%A3>ワニ口クリップ</a></li><li>抵抗（今回は220Ω）</li></ul><h2 id=トンピーちゃんを解体>トンピーちゃんを解体</h2><p>まずはトンピーちゃんの導線を確認するため、少し解体します。
<img src=https://qiita-image-store.s3.amazonaws.com/0/309368/69ccd688-afb6-0715-124a-44d886fe3178.jpeg alt=IMG_6786.jpg></p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/84c4fcd7-8c65-a0dc-1a84-ee75b5c2ef48.jpeg alt=IMG_9205.jpg>
電池の部分を取り外してみました。すると、導線は電池部分と本体でパックリ分かれている事が確認できました。今回はその部分にArduino Unoを繋げば回路の開/閉が制御できそうですね。</p><h2 id=arduino-unoとトンピーちゃんを連携>Arduino Unoとトンピーちゃんを連携</h2><h3 id=回路を作成>回路を作成</h3><p>Arduino Unoから直接ON/OFFを制御しようとすると、電流が少なく回路を開/閉できませんでした。そこでArduino Unoとトンピーちゃんの間に<strong>FETを挿入</strong>します。</p><p><center style=color:#585858;font-size:95%;padding-bottom:10px><img src=/img/blog/230/fet.png alt=fet></p><p></center></p><p>FETは、電圧の加え方の違いによって「Pチャネル」と「Nチャネル」の2種類に分かれます。今回はNチャネルのFETを利用します。</p><p>また、回路の「+側」にFETを繋ぐことを「ハイサイド（スイッチ）」、-側に繋ぐことを「ローサイド（スイッチ）」と呼称します。今回はNチャネルなので、ローサイドにFETを繋ぎます。</p><p><img src=https://i.gyazo.com/d32c3f6f4b1de908ceced242cc2ba7f4.png alt="Image from Gyazo"></p><p>最終的に上記のような回路図になりました。</p><h3 id=arduino-unoにプログラムを書き込む>Arduino Unoにプログラムを書き込む</h3><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/b544f541-a5ac-ee97-18a3-de3963210c92.png alt="スクリーンショット 2018-12-18 12.35.58.png">
ArduinoをUSBケーブルでPCに繋ぎ、アプリケーションでArduino IDEを開きます。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/da16043a-121e-52e2-e395-3121a8a3e48f.png alt="スクリーンショット 2018-12-16 15.10.09.png">
ファイル→新規ファイルを選択します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/2a42d894-497d-a0c4-5573-6a4c148fc5fe.png alt="スクリーンショット 2018-12-16 15.09.45.png">
ツール→ボード→繋いだArduino（今回はArduino Uno）を選択します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/9f5d63e2-454b-c637-ef5d-07550cccf8d5.png alt="スクリーンショット 2018-12-16 15.11.33.png">
ツール→シリアルポート→接続したArduinoを選択します。</p><p>下記コードを新規ファイルにコピー&amp;ペーストします。</p><pre><code>// pins
const int tonpyPin = 2;

void setup() {
  // initialize serial:
  Serial.begin(9600);
  // make the pins outputs:
  pinMode(tonpyPin, OUTPUT);
}

void loop() {
  // if there's any serial available, read it:
  while (Serial.available() &gt; 0) {

     char value = Serial.read();
    if (value == 'p') {
          digitalWrite(tonpyPin, HIGH);
    } else if (value == 'q'){
          digitalWrite(tonpyPin, LOW);   
    } else{
       digitalWrite(tonpyPin, LOW);
    }
    Serial.println(value);
  }
}
</code></pre><p><img src=https://qiita-image-store.s3.amazonaws.com/0/309368/8ec32eee-c610-137c-febd-9408f22db6e1.png alt="スクリーンショット 2018-12-10 9.25.26.png">
左上にある「→」ボタンを押してマイコンボードに書き込みます。</p><p>これでArduino Unoからの信号（p: スイッチON、q: スイッチOFF）でトンピーちゃんが動く/止まるようになりました。</p><p>これをツイートと連動できれば完成です！</p><h2 id=node-jsのプログラム>Node.jsのプログラム</h2><p>ハッシュタグ「#tonpy」を取得し、さらに「move」「stop」のツイートがあったらArduino Unoに送るプログラムを作成します。</p><h3 id=twitter-apiの準備>Twitter APIの準備</h3><p>API使用には<a href=https://developer.twitter.com/>Twitter Developer</a>へ登録する必要があります。登録の際、用途など英文で書く部分がありました（筆者はGoogle翻訳を駆使しました）。</p><p>手順については下記の記事に詳しく書かれており、そちらに沿って登録しました。</p><ul><li>参考: <a href=https://qiita.com/kngsym2018/items/2524d21455aac111cdee>Twitter API 登録 (アカウント申請方法) から承認されるまでの手順まとめ　※2018年9月時点の情報</a></li></ul><h3 id=tweetを取得するnode-jsのプログラムを作成>Tweetを取得するNode.jsのプログラムを作成</h3><h4 id=ディレクトリを用意>■ディレクトリを用意</h4><p>任意の保存場所にフォルダを用意します。今回はDesktopにTonpyフォルダを作りました。</p><p><br></p><h4 id=jsファイルを作成>■JSファイルを作成</h4><p>作成したフォルダに任意の名前のJSファイルを用意します。今回は「app.js」としました。</p><p><br></p><h4 id=twitter-apiを使用するモジュールのインストール>■Twitter APIを使用するモジュールのインストール</h4><p>Node.jsでTwitter APIが使用できるよう<a href=https://www.npmjs.com/package/twitter>Twitterモジュール</a>をnpmでインストールします。ターミナルで作成したフォルダを開き、下記コマンドを叩きます。</p><pre><code>$ npm install twitter
</code></pre><p>これでNode.jsでTwitter APIが使用できるようになりました。</p><p>実際に使用する際はJSファイル内で最初に下記のように書くとTwitter APIが呼び出されます。</p><pre><code>const Twitter = require('twitter');
</code></pre><p><br></p><h4 id=ツイートを取得するプログラムを作成>■ツイートを取得するプログラムを作成</h4><p>TwitterAPIには「REST API」と「Streaming API」の2種類があります。</p><p>REST APIはエンドポイントへリクエストして初めて結果が得られるものに対して、Streaming APIはレートのリミットなくツイートを受信し続ける事ができます。</p><p>今回はツイートを常に監視し該当のツイートがあったら結果を取得する、という事がしたいので<strong>Streaming API</strong>を使用します。</p><pre><code class=language-javascript>const twitter = require(&quot;twitter&quot;);
const fs = require(&quot;fs&quot;);
const client = new twitter({
  consumer_key:        '',//Dev Accountで取得したkeyを書く
  consumer_secret:     '',
  access_token_key:    '',
  access_token_secret: '',
});

let tweetText ='w';
client.stream('statuses/filter', {track:&quot;#tonpy &quot;}, (stream) =&gt; {//Streaming APIを呼び出す
  stream.on('data', (tweet) =&gt; {
      tweetText = tweet.text;
      (~tweetText.indexOf('move')) ? (tweetText = 'p') : (~tweetText.indexOf('stop')) ? (tweetText = 'q') : (tweetText = 'w');
  });
  stream.on('error', (error) =&gt; {//エラー
      console.error(`Error: ${error.message}`);
      stream.destroy();
  });
});
</code></pre><p>ツイートを取得するNode.jsのプログラムが完成しました。</p><h3 id=arduinoに送るプログラムを作成>Arduinoに送るプログラムを作成</h3><h4 id=シリアル通信をするモジュールのインストール>■シリアル通信をするモジュールのインストール</h4><p>PCとArduino間でシリアル通信をするために、シリアルポートでシリアル通信を行うモジュールもnpmでインストールします。</p><p>シリアルポートとは<strong>シリアル通信を行う時の接続口</strong>のことで、今回はArduinoと接続したPCのUSBポートにあたります。</p><p>ターミナルで下記コマンドを叩きます。</p><pre><code>$ npm install serialport
</code></pre><p>これでNode.jsでシリアルポートを制御できるようになりました。</p><p>使用する際はJSファイル内で最初に下記のように呼び出します。</p><pre><code>const Serialport = require('serialport');
</code></pre><p><br></p><h4 id=シリアルポートの名前を調べる>■シリアルポートの名前を調べる</h4><p>プログラム内では、USBポートに挿しているArduino Uno（ttyデバイス）を指定します。</p><p>ターミナルで下記コマンドを打ち、PCのシリアルポートに接続されている機器を表示します。</p><pre><code>$ ls -l /dev/tty.*
</code></pre><p>Auduino Unoを挿し、もう一度先ほどのコマンドを打ちます。新しく出てきたttyデバイス名がArduino Unoです。</p><p><br></p><h4 id=arduino-unoに送るnode-jsのプログラムを作成>■ Arduino Unoに送るNode.jsのプログラムを作成</h4><p>下記がシリアル通信するためのコードです。ツイートを取得するためのJSファイルの続きに記述してください。</p><p>1行目の<code>/dev/tty.xxx</code>には上記のシリアルポート名を記入してください。</p><pre><code class=language-javascript>const port = new SerialPort('/dev/tty.xxx',{
  baudRate: 9600//baudRate:9600は1秒に最大9600ビットを送信するという意味
});
port.write('main screen turn on', function(err) {
  if (err) {
    return console.log('Error on write: ', err.message);
  }
  console.log('message written');
});

port.on('open', () =&gt; {
  console.log('Serial open.');
  setInterval(write, 1000);
});

const write = () =&gt; {
    console.log(`Input to Arduino: ${tweetText}`);
    port.write(tweetText, (error) =&gt; {
      if(error) {
        console.error(`Error: ${error.message}`);
      }
  });
}
</code></pre><p>これでツイート情報を取得し、Arduinoに信号を送る事ができるようになりました。</p><h3 id=完成コード>完成コード</h3><p>ツイートを取得するプログラム、Arduinoを制御するプログラムを合わせた完成コードは下記のようになります。</p><pre><code>//-----------------------------------------------
// twitterからツイートを取得
//-----------------------------------------------
const twitter = require(&quot;twitter&quot;);
const client = new twitter({
  consumer_key:        '',//Dev Accountで取得したkeyを書く
  consumer_secret:     '',
  access_token_key:    '',
  access_token_secret: '',
});

let tweetText ='w';
client.stream('statuses/filter', {track:&quot;#tonpy &quot;}, (stream) =&gt; {
  stream.on('data', (tweet) =&gt; {
      tweetText = tweet.text;
      (~tweetText.indexOf('move')) ? (tweetText = 'p') : (~tweetText.indexOf('stop')) ? (tweetText = 'q') : (tweetText = 'w');
  });
  stream.on('error', (error) =&gt; {
      console.error(`Error: ${error.message}`);
      stream.destroy();
  });
});
//-----------------------------------------------
// Node.jsからArduinoに送信
//----------------------------------------------
const SerialPort = require('serialport');
const port = new SerialPort('/dev/tty.xxx',{
  baudRate: 9600
});

port.on('open', () =&gt; {
  console.log('Serial open.');
  setInterval(write, 1000);
});

port.on('data', (data) =&gt; {
  console.log(`Data from Arduino: ${data}`);
});

const write = () =&gt; {
    console.log(`Input to Arduino: ${tweetText}`);
    port.write(tweetText, (error) =&gt; {
      if(error) {
        console.error(`Error: ${error.message}`);
      }
  });
}
</code></pre><p><br></p><h4 id=node-jsを実行する>■Node.jsを実行する</h4><p>Node.jsは、ファイルのある場所で下記コマンドで実行します。</p><pre><code>$ node app.js
</code></pre><p><code>app.js</code>部分は、ご自身が作成したファイル名に置き換えてください。「Serial open」がターミナル上に表示されたら無事実行されています。</p><h2 id=動かしてみる>動かしてみる</h2><p>Node.jsを起動しながら、ツイートしてみましょう……。「<strong>#tonpy move</strong>」!!!!!
<img src=https://qiita-image-store.s3.amazonaws.com/0/309368/9c8c2611-d9b2-e7dd-3710-8d2011c2b424.gif alt=ezgif.com-video-to-gif.gif></p><p>う、動いたーーーー！！！（少々タイムラグがありますが……。）</p><p>初めてのIoTとっっても楽しかったです！電子工作やNode.jsの勉強にもなり一石二鳥ですね。</p><p>これから色々作っていきたいです！</p><style>.caution{border:1px solid #bfbfbf;padding:1em 2em;margin:2em 0;color:#474747;background:#f5f5f5;border-left:double 7px #0b0b61;font-size:90%}.caution>p{font-weight:700;margin:0 0 10px;padding:0}blockquote{font-size:80%}.accbox{margin:2em 0;padding:0;max-width:710px}.accbox label{display:block;margin:1.5px 0;padding:11px 12px;color:#fff;font-weight:700;background:#2f2f2f;cursor:pointer;transition:all .5s}.accbox label:hover{background:#a4a4a4}.accbox input{display:none}.accbox .accshow{height:0;padding:0;overflow:hidden;opacity:0;transition:.8s}.cssacc:checked+.accshow{height:auto;padding:5px;background:#eaeaea;opacity:1}</style></div><div class=share-foot><a href=https://twitter.com/share class=twitter-share-button data-size=large data-show-count=true data-hashtags=dotstudio>Tweet</a>
&nbsp;<div class=fb-share-button data-href=https://dotstud.io/blog/arduino-nodejs-twitter-connect/ data-layout=button_count data-size=large data-mobile-iframe=true><a target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdotstud.io%2Fblog%2Fmftokyo-2018-chantoku-report%2F&amp;src=sdkpreparse" class=fb-xfbml-parse-ignore>シェア</a></div>&nbsp;
<a href=https://dotstud.io/blog/arduino-nodejs-twitter-connect/ class=hatena-bookmark-button data-hatena-bookmark-layout=basic-counter data-hatena-bookmark-height=30 title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style=border:none></a>
&nbsp;<div class=line-it-button data-lang=ja data-type=share-c data-url=https://dotstud.io/blog/arduino-nodejs-twitter-connect/ style=display:none></div></div><nav class=related><h2>関連記事</h2><ul class=cards-related><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/pokio-nodered-keikyu-chien/><img class=card-related--thumbnail src=/img/blog/243/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【どんと来い、列車遅延】 勤怠メールをサクッと送れるオレオレツールを作ってみた</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/cloudflare-cache-clear-nodejs/><img class=card-related--thumbnail src=/img/blog/242/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>CloudflareのAPIをNode.js&#43;GitLab CIから実行してキャッシュクリアしてみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/update-nefrybt-to-googledrive/><img class=card-related--thumbnail src=/img/blog/241/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>NefryBTからGoogleDriveにデータをアップロードする方法</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/gitlab-vuepress-custom-domain/><img class=card-related--thumbnail src=/img/blog/239/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>VuePressのブログをカスタムドメイン&#43;SSL対応させたGitLab Pagesにデプロイする</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/face-robot-making-basic2/><img class=card-related--thumbnail src=/img/blog/240/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Let&#39;s 顔面製造！第二弾！ 歌うサンタ顔面ロボットを作ろう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/using-e-paper-module/><img class=card-related--thumbnail src=/img/blog/238/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>電池が切れても消えないディスプレイって？電子ペーパーを使ってみた！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/developed-iot-using-moddable/><img class=card-related--thumbnail src=/img/blog/237/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Moddable SDKを使ってJavaScriptでIoT開発してみた</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/gr-lychee-opencv-handson/><img class=card-related--thumbnail src=/img/blog/233/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【ハンズオン資料】GR-LYCHEEとOpenCVで画像認識やってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/halloween-gadget-witch-stick/><img class=card-related--thumbnail src=/img/blog/228/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>加速度センサとマイコン内蔵LEDで魔法の杖を作ってみた！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/trillion-node-engine-sugoi/><img class=card-related--thumbnail src=/img/blog/226/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【あのバズマイコンを最速？レポート】極小マイコンのトリリオンノード・エンジンを使ってみた！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/device-of-celebrity-dinner/><img class=card-related--thumbnail src=/img/blog/223/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>気分はセレブ！手を叩くとディナーを出してくれるデバイスを作ろう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/static-site-hosting-surge/><img class=card-related--thumbnail src=/img/blog/219/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>無料で手軽！コマンド一つで静的サイトホスティングできるSurgeを試してみた。</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefrybt-handson-pir-linebot/><img class=card-related--thumbnail src=/img/blog/215/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【ハンズオン資料】Nefry BTと人感センサで防犯LINE BOTを作ってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefry-servo-handson-takudooon/><img class=card-related--thumbnail src=/img/blog/187/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>PWM制御をマスターしよう！Node-REDでサーボモータを遠隔制御する方法＆初ハンズオンレポート</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/m5stack-toilet-smell-map/><img class=card-related--thumbnail src=/img/blog/177/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>M5Stack&#43;GPS&#43;臭気センサをつかってトイレの臭いマップをつくりたい！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/segment-display-shift-register/><img class=card-related--thumbnail src=/img/blog/169/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>7セグメントディスプレイをArduinoで光らせよう！シフトレジスタでのピンの増やし方</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/dancing-haniwa-servo-raspi/><img class=card-related--thumbnail src=/img/blog/170/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Raspberry Piとサーボモータで踊るはにわ制作</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/node-school-1-3/><img class=card-related--thumbnail src=/img/blog/157/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>NodeSchoolでNode.jsの学習を始めよう！#2 - 問題1〜3の解答と解説</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/arduino-use-rfid-reader/><img class=card-related--thumbnail src=/img/blog/162/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>非接触ICタグで遊ぼう！ArduinoでRFIDリーダRC522を使う方法</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/node-school-before-learn/><img class=card-related--thumbnail src=/img/blog/156/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>NodeSchoolでNode.jsの学習を始めよう！インストール手順から基本操作までステップ別解説</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/how-to-use-cli/><img class=card-related--thumbnail src=/img/blog/158/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【Mac向け】「黒い画面」の苦手意識を克服しよう！コマンドラインインタフェースの基本操作</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/mongoose-os-rotary-encoder/><img class=card-related--thumbnail src=/img/blog/154/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>くるくる回して値を入力！ロータリエンコーダでインプットの幅を広げよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/gmail-api-from-nodejs/><img class=card-related--thumbnail src=/img/blog/150/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Google公式ライブラリを利用してNode.jsからGmailの送受信をしてみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/raspberry-pi-case-making/><img class=card-related--thumbnail src=/img/blog/142/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>レーザーカッターで自分だけのRaspberryPiケースを作ってみよう！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-install-use-nodebrew/><img class=card-related--thumbnail src=/img/blog/136/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsを始めよう！nodebrewを使って5分で環境構築</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/google-spreadsheets-from-nodejs/><img class=card-related--thumbnail src=/img/blog/135/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsでGoogle SpreadSheetsを操作してみよう。【GAS不使用】</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/hexo-static-site-vol3/><img class=card-related--thumbnail src=/img/blog/108/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.js製の静的サイトジェネレータ「Hexo」で無料ブログ開発 vol.3</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/linedevday-report-2017-gatebox/><img class=card-related--thumbnail src=/img/blog/128/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>#linedevday 2017レポート！ Clova連携で期待のGateboxの技術話を聞いてみたよ</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/littlebits-cloudbit-ifttt-blink/><img class=card-related--thumbnail src=/img/blog/119/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>日本上陸！littleBits cloudBitモジュールでIFTTT連携してみた！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/hexo-static-site-vol2/><img class=card-related--thumbnail src=/img/blog/107/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.js製の静的サイトジェネレータ「Hexo」で無料ブログ開発 vol.2</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/pokio-esp-keikyu-chien/><img class=card-related--thumbnail src=/img/blog/099/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>ESP8266を使って京急が遅延すると光るガジェットを作ってみた</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/hexo-static-site-vol1/><img class=card-related--thumbnail src=/img/blog/105/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.js製の静的サイトジェネレータ「Hexo」で無料ブログ開発 vol.1</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/wionode-ifttt-uv-ornament/><img class=card-related--thumbnail src=/img/blog/106/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Wio NodeとIFTTTで簡単IoT！紫外線情報を取得してみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/seeed-wionode-hands-on/><img class=card-related--thumbnail src=/img/blog/095/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>「Wio Node」で半田付けなしの電子工作！温度計作りでIoTはじめの一歩</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/web-bluetooth-remote-blink/><img class=card-related--thumbnail src=/img/blog/090/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>話題のWebBluetoothでGenuino101をブラウザからリモートコントロールしてみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/dfrobot-gravity-hands-on/><img class=card-related--thumbnail src=/img/blog/087/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>ハードウェア知識ゼロでも大丈夫。「Gravity」で始める電子工作入門</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/operate-mysql-from-nodejs/><img class=card-related--thumbnail src=/img/blog/068/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsアプリケーションからMySQLにアクセスする</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-npm-chokidar-fswatch/><img class=card-related--thumbnail src=/img/blog/035/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsでファイル監視を行うchokidarを使ってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-hosting-services-2016/><img class=card-related--thumbnail src=/img/blog/061/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>2016年12月版　Node.jsをホスティング出来るPaaSまとめ</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/littlebits-arduino-analog-number/><img class=card-related--thumbnail src=/img/blog/060/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>littleBits Arduinoモジュールでより細かく値を入出力して状況を伝えよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-npm-readline-sync/><img class=card-related--thumbnail src=/img/blog/024/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsでコマンドラインツール作るときに使いやすいreadline-sync</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/pepper-pokemon-go-notice/><img class=card-related--thumbnail src=/img/blog/017/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Pokemon GOで近くにポケモンが出たらPepperが教えてくれる仕組みをNode.jsだけで作る</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodebots-kit-guide-vol1/><img class=card-related--thumbnail src=/img/blog/004/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>史上初!? NodeBotsの日本向けキットを作成しました！ #nodebots</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodebots-handson-report-vol2/><img class=card-related--thumbnail src=/img/blog/003/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>今週末はInternational NodeBots Dayですよ！( #NodeBots vol2のイベレポと次回告知 )</h3></a></article></li></ul></nav></article><footer class=footer><p class=footer-info><a class=footer-info--item href=/about>会社概要</a>
<a class=footer-info--item href=/members>メンバー</a>
<a class=footer-info--item href=/recruit>採用情報</a>
<a class=footer-info--item href=/legal#tos>利用規約</a>
<a class=footer-info--item href=/legal#sct>特定商取引</a>
<a class=footer-info--item href=/legal#pp>プライバシーポリシー</a></p><p class=footer-cr>© 2018 dotstudio inc.</p></footer><script src=/js/jquery.min.js></script><script src=/js/app.js></script><script src=/js/lib/hljs.js></script><script src=/js/lib/hljs-numbers.js></script><script>hljs.initHighlightingOnLoad();hljs.initLineNumbersOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-78080011-1','auto');ga('send','pageview');</script></body>