<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Blogs on dotstudio（ドットスタジオ）</title><link>https://dotstud.io/blog/</link><description>Recent content in Blogs on dotstudio（ドットスタジオ）</description><generator>Hugo -- gohugo.io</generator><language>ja</language><copyright>© 2018 dotstudio inc.</copyright><lastBuildDate>Wed, 18 Dec 2019 00:20:03 +0900</lastBuildDate><atom:link href="/blog/" rel="self" type="application/rss+xml"/><item><title>沖縄の観光課題にテクノロジーで向き合う4日間！ OTTOPハッカソン2019 開催レポート！ #ood2019</title><link>https://dotstud.io/blog/ottop-hackathon-report-2019/</link><pubDate>Wed, 18 Dec 2019 00:20:03 +0900</pubDate><guid>https://dotstud.io/blog/ottop-hackathon-report-2019/</guid><description>
&lt;p&gt;こんにちは、こんばんわ！ &lt;a href=&#34;https://twitter.com&#34;&gt;n0bisuke&lt;/a&gt;です。&lt;/p&gt;
&lt;p&gt;2019/12/9~12/12で開催された、OTTOPハッカソンに技術サポートやメンターをする形で参加してきたので、レポートにもまとめてみたいと思います。&lt;/p&gt;
&lt;p&gt;記念すべき第1回とのことで、地方開催にもかかわらず多くの人が参加していました。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/8b49fff285648970927e629f6d0d60d9.jpg&#34; width=&#34;500px&#34;&gt;
&amp;gt; &lt;a href=&#34;https://www.instagram.com/p/B56sovNDdhf/&#34;&gt;https://www.instagram.com/p/B56sovNDdhf/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;当日の様子はこちらにも載せておきます。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://togetter.com/li/1442347&#34;&gt;トゥギャッター&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://ottop.databed.org/event&#34;&gt;OTTOP関連のイベント一覧ページ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.okinawaopenlabs.org/single-post/2019/11/15hackathon&#34;&gt;今回のハッカソンの開催案内&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ottopハッカソンとokinawa-open-days-沖縄オープンデイズ&#34;&gt;OTTOPハッカソンとOkinawa Open Days（沖縄オープンデイズ）&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/4eb473e17015117a44f34fdee396a843.jpg&#34; width=&#34;600px&#34;&gt;&lt;/p&gt;
&lt;p&gt;今回僕が参加してきたハッカソンは、&lt;a href=&#34;https://www.okinawaopenlabs.org/&#34;&gt;一般社団法人沖縄オープンラボラトリ&lt;/a&gt;が主催しているイベントのOkinawa Open Days(沖縄オープンデイズ)の一環として行われたものになります。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[以下引用]
Okinawa Open Daysはキープコンセプトとして、“世の中を変えるオープンテクノロジーとアイデアの集結”を掲げつつ、沖縄の地に集まりデジタル時代の新たな可能性を議論する場として講演など様々な機会を提供し、技術開発とビジネス、利用者と提供・運用者、トップエンジニアと学生、日本と海外（特にアジア）など幅広い参加者が一堂に会し、より具体的でわかりやすく活発な議論ができるようなプログラムを構成していきますので、沖縄県内外の興味のある参加者のみなさまの数多くのご参加をお待ちしております。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ottopハッカソン&#34;&gt;OTTOPハッカソン&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/e7469641e19246b1b103ae2f1e738b0d.jpg&#34; width=&#34;600px&#34;&gt;&lt;/p&gt;
&lt;p&gt;今回のハッカソンは、一般社団法人沖縄オープンラボラトリが提供している &lt;strong&gt;OTTOPという沖縄の交通データなどが呼び出せるオープンなAPI&lt;/strong&gt;(観光・交通オープンデータ提供プラットフォーム)を活用して事例を創出を目指したハッカソンになります。&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.okinawaopenlabs.org/single-post/News20190822&#34;&gt;【お知らせ】観光・交通オープンデータ提供プラットフォーム「OTTOP」を開設しました！&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.ottop.databed.org/&#34;&gt;https://www.ottop.databed.org/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;正式名称: 沖縄県観光2次交通オープンデータハッカソン&lt;/li&gt;
&lt;li&gt;実施日: 2019/12/9~12&lt;/li&gt;
&lt;li&gt;開催場所: 沖縄県市町村自治会館&lt;/li&gt;
&lt;li&gt;テーマ: 観光や生活における移動を便利に楽しくする&lt;/li&gt;
&lt;li&gt;その他: あとは&lt;a href=&#34;https://www.ottop.databed.org/event-details/okinawakenkanko2jikotsuopundetahakkason&#34;&gt;詳細を見てください。&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ということで、ざっくりと「 &lt;strong&gt;オープンデータを活用して沖縄での移動体験をアップデートさせるプロジェクトの事例を作りたい&lt;/strong&gt; 」ハッカソンだと思います。&lt;/p&gt;
&lt;h2 id=&#34;ハッカソン初参加の人も多い中-和やかな雰囲気でのスタート&#34;&gt;ハッカソン初参加の人も多い中、和やかな雰囲気でのスタート&lt;/h2&gt;
&lt;p&gt;東京や他の地域で開催される多くのはハッカソンだと、初めは少しピリッとした緊張感でスタートするものが多い印象で、初参加の人が多いと尚更そういう雰囲気になりがちです。
今回のハッカソンは、 &lt;strong&gt;初参加の人が多いにも関わらず、沖縄の雰囲気だからか和やかな雰囲気&lt;/strong&gt;でスタートしていきました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;司会挨拶&lt;a href=&#34;https://twitter.com/hashtag/ottop?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ottop&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/74d2vtnwcW&#34;&gt;pic.twitter.com/74d2vtnwcW&lt;/a&gt;&lt;/p&gt; 菅原のびすけ (@n0bisuke) &lt;a href=&#34;https://twitter.com/n0bisuke/status/1204568645977833474?ref_src=twsrc%5Etfw&#34;&gt;December 11, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;沖縄オープンラボラトリの方々による緩やかな司会進行です。&lt;/p&gt;
&lt;h2 id=&#34;プレハッカソンイベントでのアイディアを元に実装を進める&#34;&gt;プレハッカソンイベントでのアイディアを元に実装を進める&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/4e718d4bb2e135fff7233af304cdd5f7.jpg&#34; width=&#34;500px&#34;&gt;&lt;/p&gt;
&lt;p&gt;実は今回は&lt;code&gt;プレハッカソンイベント&lt;/code&gt;という、事前のアイディアソンが行われていて以下のアイディアが生まれていました。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;空き時間有効活用アプリ&lt;/li&gt;
&lt;li&gt;利用者でメンテナンスするバス停情報&lt;/li&gt;
&lt;li&gt;バスクエスト&lt;/li&gt;
&lt;li&gt;マイバスマップ（地域の高齢者の方向け＠通院や井戸端会議）&lt;/li&gt;
&lt;li&gt;乗降データ　　（車両乗降人数のカウントの仕組み）&lt;/li&gt;
&lt;li&gt;空き駐車場&lt;/li&gt;
&lt;li&gt;イベント対応バスなび&lt;/li&gt;
&lt;li&gt;Voiceバスナビ&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;アイディア名は&lt;a href=&#34;https://www.ottop.databed.org/event-details/okinawakenkanko2jikotsuopundetahakkason&#34;&gt;公式サイト&lt;/a&gt;から抜粋&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ハッカソンの日程には既にアイディアソンが終わっているという、贅沢な時間の使い方で、普段二日間とかで全てやってしまうハッカソンばかりを見てきたのですごく新鮮でした。&lt;/p&gt;
&lt;p&gt;これも&lt;a href=&#34;https://ja.wikipedia.org/wiki/%E3%82%A6%E3%83%81%E3%83%8A%E3%83%BC%E3%82%BF%E3%82%A4%E3%83%A0&#34;&gt;ウチナータイム&lt;/a&gt;ですかねぇ（違）&lt;/p&gt;
&lt;h2 id=&#34;中間発表-メンタリング&#34;&gt;中間発表〜メンタリング&lt;/h2&gt;
&lt;p&gt;3日目からは中間発表とメンターによるメンタリングが入ります。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;バスコレチーム。バス利用促進あぷり&lt;a href=&#34;https://twitter.com/hashtag/ottop?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ottop&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/UVqjTcwWgY&#34;&gt;pic.twitter.com/UVqjTcwWgY&lt;/a&gt;&lt;/p&gt; 菅原のびすけ (@n0bisuke) &lt;a href=&#34;https://twitter.com/n0bisuke/status/1204571937583681536?ref_src=twsrc%5Etfw&#34;&gt;December 11, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;こんな雰囲気で各チーム現在までの進捗と現時点での企画発表を行なっていきます。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; 中間発表スタート。&lt;br&gt;旅行の目的地で思ったより早く見終わったときに、急に時間が空いてしまう問題に着目。　ナルホド &lt;a href=&#34;https://t.co/mTaTUmbD6s&#34;&gt;pic.twitter.com/mTaTUmbD6s&lt;/a&gt;&lt;/p&gt; 菅原のびすけ (@n0bisuke) &lt;a href=&#34;https://twitter.com/n0bisuke/status/1204666028162072577?ref_src=twsrc%5Etfw&#34;&gt;December 11, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;メンターにはLINE株式会社のエバンジェリスト立花さん&lt;/strong&gt;が入り、各チームの発表に対してアドバイスをしていきます。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;立花さん講評&lt;br&gt;&lt;br&gt;ばっさり機能をすてることも重要。&lt;br&gt;課題提示をしっかり。&lt;br&gt;絵をもっといれよう。&lt;br&gt; &lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/svnviFgZ6f&#34;&gt;pic.twitter.com/svnviFgZ6f&lt;/a&gt;&lt;/p&gt; 菅原のびすけ (@n0bisuke) &lt;a href=&#34;https://twitter.com/n0bisuke/status/1204681966630473728?ref_src=twsrc%5Etfw&#34;&gt;December 11, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;豪華な会ですね！！ 参加者には学生さんや若手も多かったのですが、貴重な体験になったのではないでしょうか。&lt;/p&gt;
&lt;h2 id=&#34;会場で並行して開催していた展示など&#34;&gt;会場で並行して開催していた展示など&lt;/h2&gt;
&lt;p&gt;ここで、ハッカソンから少し離れて会場全体の雰囲気の話です。&lt;/p&gt;
&lt;p&gt;冒頭でも話をしたとおり、今回はOkinawa Open Daysという大きなイベントが母体となっていて、OTTOPハッカソンはその一部で行うという関係でした。そういう背景もあり、同じ会場でOkinawa Open Daysの出し物であるプレゼンや企業展示、懇親会なども行われていて、同じ建物内でもハッカソン会場と違う階では別の盛り上がりを見せていました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;別の会場では酒盛りが！！ &lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/HCuKYDUDMY&#34;&gt;pic.twitter.com/HCuKYDUDMY&lt;/a&gt;&lt;/p&gt; 菅原のびすけ (@n0bisuke) &lt;a href=&#34;https://twitter.com/n0bisuke/status/1204698857411510274?ref_src=twsrc%5Etfw&#34;&gt;December 11, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;全体を通して &lt;strong&gt;400名程度の参加者、4日間の延べ人数だと1000人を超えた&lt;/strong&gt;とのことで、多くの人が注目しているイベントということが分かります。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;企業出展ブースもありました！&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/vRTCfnX535&#34;&gt;pic.twitter.com/vRTCfnX535&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204937990692200448?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;参加者は沖縄県外から来ている人の方が多いそうで、 &lt;strong&gt;全国からこれくらいの人が集まるという熱量の高さ&lt;/strong&gt;も窺えます。&lt;/p&gt;
&lt;p&gt;そんな中で行われた今回のハッカソンは、全国的に見て注目している人が多いハッカソンだったとも言えるのではないでしょうか。&lt;/p&gt;
&lt;h2 id=&#34;各プロダクト紹介&#34;&gt;各プロダクト紹介&lt;/h2&gt;
&lt;p&gt;それでは気になる各チームのプロダクト内容とハック中の様子を紹介です。
発表中と作業中で写真にばらつきがありますがご愛嬌。&lt;/p&gt;
&lt;h3 id=&#34;空き時間有効活用アプリ&#34;&gt;空き時間有効活用アプリ&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;空き時間有効活用アプリ&lt;/code&gt;は、観光中に &lt;strong&gt;思ったよりも早く目的地を周ってしまって次の予定までの時間が急に空いてしまった時の時間が勿体ない&lt;/strong&gt;という課題に着目したアプリです。&lt;/p&gt;
&lt;p&gt;目的地と目的地の間にちょっと寄ると楽しい場所は無いかを教えてくれます。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;一番手！&lt;br&gt;チームデスマーチwww&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/IiYNnEVRD8&#34;&gt;pic.twitter.com/IiYNnEVRD8&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204983163610529792?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;バスコレ&#34;&gt;バスコレ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;沖縄の道路は渋滞になることが多く、多くの人が渋滞に悩まされている&lt;/strong&gt;とのことです。
少しの人でも自家用車からバスに利用を切り替える人が増えれば渋滞がなくなり、観光客も現地の人も恩恵を受けられます。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;バスコレ&lt;/code&gt;はバス停のスランプラリーのようなアプリで、バスに乗りチェックインすることでバス停をアプリ上でコレクションすることが出来ます。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;バスコレチームの発表&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/aj7elGKP7l&#34;&gt;pic.twitter.com/aj7elGKP7l&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204986815834292224?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;スマート-voice-バスなび&#34;&gt;スマート（Voice）バスなび&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;観光客やバスに慣れていない人が、バス停の場所が分からない、そのバスがどこに行くのか分からないから乗って良いのか不安になる&lt;/strong&gt; などの課題に着目したのが&lt;code&gt;スマートバスなび&lt;/code&gt;チーム。&lt;/p&gt;
&lt;p&gt;LINEボットとBOTの裏に実装しているAIプログラムを使って、バスのオペレーターの肩代わりをします。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;「Voice バスなび」&lt;br&gt;&lt;br&gt;LINE ボットを使って、観光客が抱くバス停の場所が分かりずらいなどの悩みを解決。&lt;br&gt;&lt;br&gt;将来的には多言語対応も視野に開発しているんだとか&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/SGFsczqXUO&#34;&gt;pic.twitter.com/SGFsczqXUO&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204979475651289092?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;空き駐車場&#34;&gt;空き駐車場&lt;/h3&gt;
&lt;p&gt;沖縄では観光時にレンタカーを借りて移動することも多く、レンタカーを借りると駐車場をどこに停めようかという問題が発生します。この &lt;strong&gt;空き駐車場検索時に、駐車場事業者を横断的に検索して安いところに停めたいと一般的な人は思いますが、各事業者によってデータが異なるためなかなかこの仕組みが実現されてない&lt;/strong&gt;とのことです。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;空き駐車場&lt;/code&gt;はこれを横断的に検索して、安くて近場の駐車場を探しだすアプリです。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;「空き駐車場」&lt;br&gt;&lt;br&gt;「駐車場を外国人観光客に伝えるのが大変、、」という知人の悩みから生まれたアイディア。&lt;br&gt;&lt;br&gt;今はブラッシュアップをかけて、駐車場の料金比較もできるサービスにすることを想定しているんだとか&lt;br&gt;&lt;br&gt;言われてみれば、駐車場の価格ってネットからだと検索しずらいかもしれない&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/F9GIB7vFcP&#34;&gt;pic.twitter.com/F9GIB7vFcP&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204981166048104448?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;イベント対応バスなび&#34;&gt;イベント対応バスなび&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;沖縄のローカルなイベント情報は公開されるのが遅く、観光客が観光予定を組むタイミングで発見出来ないことが多い&lt;/strong&gt; とのことです。&lt;/p&gt;
&lt;p&gt;バスに乗って移動している際に、近くで開催しているイベントがあれば教えてくれて観光予定にバリエーションを加えることが出来るのが&lt;code&gt;イベント対応バスなび&lt;/code&gt;です。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;「イベント対応バスなび」&lt;br&gt;イベント軸のマップサービス。行くまでにかかる所要時間・イベントでの滞在時間などから、行けるイベントを検索することが可能。&lt;br&gt;&lt;br&gt;イベントをハシゴして参加したい旅行者に刺さりそうなサービス&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/HRcLGNs9U3&#34;&gt;pic.twitter.com/HRcLGNs9U3&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204962383208169474?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;my時刻表-わんの時刻表&#34;&gt;My時刻表(わんの時刻表)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;時刻表は基本的に色々な路線が載っているけど、人によって使う路線は様々ですし、よく使う路線の情報だけがあれば良い&lt;/strong&gt; という人は多いのでは無いでしょうか？&lt;/p&gt;
&lt;p&gt;これは観光客ではなく現地の人に向けたアプローチで、さらにお年寄り向けを想定したサービスとのことで、オリジナルの&lt;code&gt;My時刻表&lt;/code&gt;を簡単に作成し、お年寄り向けに紙に印刷して置いておけるといったサービスです。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;My時刻表チーム(?)の発表！&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/WFmG0hVORH&#34;&gt;pic.twitter.com/WFmG0hVORH&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205002230580932608?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;乗降データを使ったバスの混雑状況教えちゃうbot&#34;&gt;乗降データを使ったバスの混雑状況教えちゃうbot&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;バスが複数路線あり、どちらに乗ろうか迷った時に現在のバスの混雑具合をリアルタイムで知れて判断出来たら嬉しい&lt;/strong&gt;ですよね。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;乗降データを使ったバスの混雑状況教えちゃうbot&lt;/code&gt;は、そんな課題を解決すべくバス停の路線を入れると混雑具合を判断してオススメ路線を教えてくれるLINE BOTになります。&lt;/p&gt;
&lt;p&gt;ちなみにこのチームは、別途取得している乗降データを活用したいという裏テーマも持って挑んでいました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;「乗降データコミュニティバス」&lt;br&gt;&lt;br&gt;空いてるバスにすっと乗りたいというモチベーションから作られたアイディア。&lt;br&gt;&lt;br&gt;自分の乗るバスを入力すると席の空き状況が把握できるサービス&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/Rb7vPHyf0I&#34;&gt;pic.twitter.com/Rb7vPHyf0I&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204958454093205504?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;ハックタイムの佳境から緊張の審査会へ&#34;&gt;ハックタイムの佳境から緊張の審査会へ&lt;/h2&gt;
&lt;p&gt;最終日の前日あたりから各チーム開発の佳境に差し掛かり、会場も緊張感に包まれながらのハックタイムになっていきます。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;緊張感がヒシヒシと&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/8tZxxpkUPH&#34;&gt;pic.twitter.com/8tZxxpkUPH&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204928116872773632?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;会場でのデータ収集などもこの時間を逃すと厳しくなっていくため、参加者による会場での機材設置なども行われていました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;何かの施工作業が始まった&lt;br&gt;&lt;br&gt; &lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/lq7BCa31rE&#34;&gt;pic.twitter.com/lq7BCa31rE&lt;/a&gt;&lt;/p&gt; 菅原のびすけ (@n0bisuke) &lt;a href=&#34;https://twitter.com/n0bisuke/status/1204607777668120576?ref_src=twsrc%5Etfw&#34;&gt;December 11, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;前日は詰め込むチームもあり、空き時間有効活用アプリチームは「チームデスマーチ」と自称し、バスコレチームは「夜3時くらいまで実装していた」とのことで、寝るのを惜しむくらい開発に励む様子も見られました。&lt;/p&gt;
&lt;p&gt;いつも思うけど、ハッカソンはちゃんと寝た方が良いのか詰め込むのが良いのか悩ましいですよね。&lt;/p&gt;
&lt;h3 id=&#34;プレゼン審査&#34;&gt;プレゼン審査&lt;/h3&gt;
&lt;p&gt;そしていよいよ審査スタートです。&lt;/p&gt;
&lt;p&gt;プレゼン審査と実際のデモを確認するプレイタイムの2部構成の審査会でした。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;開発時間終了！！！！&lt;br&gt;これから成果発表です！！&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/2hHDDsLAx1&#34;&gt;pic.twitter.com/2hHDDsLAx1&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204982257095561217?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;審査員やオーディエンスも、発表を食い入る様に見守ります。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;見るほうも真剣な表情&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/YCOJ9pHMVz&#34;&gt;pic.twitter.com/YCOJ9pHMVz&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204983497166733313?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;プレイタイム&#34;&gt;プレイタイム&lt;/h3&gt;
&lt;p&gt;プレイタイムではプレゼンだけでは判断出来なかった完成度を見ていきます。&lt;/p&gt;
&lt;p&gt;実際に審査員が触ってみて、モックアップだけではなくちゃんと作ることが出来ているのかを見ていきました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;プレイタイム開始！&lt;br&gt;10分と短い時間ですが、参加者の皆さんの最後のアピールタイム！&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/Z9vZDKigMO&#34;&gt;pic.twitter.com/Z9vZDKigMO&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205013755601420288?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;審査員以外のオーディエンスや参加者同士でもお互いのプロダクトを触り合って感想を述べ合います。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;20分後にアワード発表！&lt;br&gt;さぁ、結果はどうなるのか！！？？&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/uTORdg2vzJ&#34;&gt;pic.twitter.com/uTORdg2vzJ&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205014190278111237?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;そしていよいよ結果発表&#34;&gt;そしていよいよ結果発表&lt;/h2&gt;
&lt;p&gt;各チーム、プレゼンやデモで伝えたいことを伝え切り、緊張の結果発表の時間です。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.gyazo.com/3357536f776445a43819efe481dab28f.jpg&#34; width=&#34;500px&#34;&gt;&lt;/p&gt;
&lt;p&gt;会場の盛り上がりも最高潮になるなか、司会から各賞を受賞したチームの発表です。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;表彰のための盾も準備完了&lt;br&gt;&lt;br&gt;さぁ、栄光は誰の手に？&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/dMX45yilcl&#34;&gt;pic.twitter.com/dMX45yilcl&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1204944588823117824?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;・
・
・
・
・
・
・
・
・
・
・
・&lt;/p&gt;
&lt;h3 id=&#34;すぐに使える賞&#34;&gt;すぐに使える賞&lt;/h3&gt;
&lt;p&gt;まずは、 &lt;strong&gt;すぐに使える賞&lt;/strong&gt;を受賞したのは &lt;strong&gt;My時刻表&lt;/strong&gt;チームです。&lt;/p&gt;
&lt;p&gt;今回のハッカソンのテーマと若干異なる方向だったが、即導入できそうな完成度での発表が評価されたのと、紙を使って沖縄のお年寄りにターゲットを当てた点が有用とのことでした。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;すぐに使える賞はMy時刻表！！&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/dP3oPb3MMu&#34;&gt;pic.twitter.com/dP3oPb3MMu&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205044572323115008?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;有用賞&#34;&gt;有用賞&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;有用賞&lt;/strong&gt;は2チームが受賞しました。&lt;/p&gt;
&lt;p&gt;まず1件目は &lt;strong&gt;空き時間有効活用アプリ&lt;/strong&gt;チーム。&lt;/p&gt;
&lt;p&gt;観光時に発生する、移動時の空き時間を有効活用したいという課題感が強く刺さったのが評価に繋がりました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;有用賞は２つ！&lt;br&gt;まずは空き時間有効活用アプリ！&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/iwhRePivAe&#34;&gt;pic.twitter.com/iwhRePivAe&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205043640562642944?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;もう1件は &lt;strong&gt;イベント対応バスなび&lt;/strong&gt;チームです。&lt;/p&gt;
&lt;p&gt;通常は観光客がキャッチアップすることが出来ない現地のマイナーなイベント情報を、観光客に訴求できる点にビジネス的な有用性があると評価されました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;有用賞2つめはイベント対応バスなび！！&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/lumwsvJ1Sf&#34;&gt;pic.twitter.com/lumwsvJ1Sf&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205044034860769280?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;line賞&#34;&gt;LINE賞&lt;/h3&gt;
&lt;p&gt;そして急遽、LINE株式会社の立花さんから提供された &lt;strong&gt;LINE賞&lt;/strong&gt;！&lt;/p&gt;
&lt;p&gt;こちらはLINEをプロダクトに組み込んだチームに与えられました。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;乗降データを使ったバスの混雑状況教えちゃうbot&lt;/li&gt;
&lt;li&gt;空き時間有効活用アプリ&lt;/li&gt;
&lt;li&gt;スマートバスなび&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;の3チームが受賞です。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;LINE賞は3チーム！！&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/By202GEjek&#34;&gt;pic.twitter.com/By202GEjek&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205044842713075712?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;独創賞-優秀チーム&#34;&gt;独創賞 [優秀チーム]&lt;/h3&gt;
&lt;p&gt;さて、ここから優秀チームの紹介です。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;独創賞&lt;/strong&gt;は &lt;strong&gt;バスコレ&lt;/strong&gt; チーム&lt;/p&gt;
&lt;p&gt;沖縄の渋滞問題に着目したバスコレチーム。
バスの利用者を増やすことで、現地の渋滞を無くし、観光客もスムーズに移動ができるといったことを期待したプロダクトでしたが、現地の人も観光客もどちらにとっても有用かつゲーム形式にした表現が評価されました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;独創賞はバスコレ！&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/pSnTx7Abby&#34;&gt;pic.twitter.com/pSnTx7Abby&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205041598389600256?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;将来賞-優秀チーム&#34;&gt;将来賞 [優秀チーム]&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;将来賞&lt;/strong&gt;は&lt;strong&gt;スマートバスなび&lt;/strong&gt;チームです。&lt;/p&gt;
&lt;p&gt;バス停でどのバスに乗るのが良いのか分からないという、沖縄に限らず東京でも発生する課題に着目することで、将来的な広がりが示唆される点が評価に繋がりました。&lt;/p&gt;
&lt;p&gt;QRで簡単にバス情報を知れる点はいいが、文字情報でなく音声情報にするともっとよくなるのではとのコメントもあり、ディスカッションを重ねることで実導入も検討出来そうな期待値です。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;将来賞はスマートバスなび！&lt;a href=&#34;https://twitter.com/hashtag/ood2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ood2019&lt;/a&gt; &lt;a href=&#34;https://t.co/EhQgozQu75&#34;&gt;pic.twitter.com/EhQgozQu75&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205042748467773440?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;その他の賞も&#34;&gt;その他の賞も&lt;/h3&gt;
&lt;p&gt;参加チームの賞とは別に、今回のハッカソンにおいて活躍してくれた方々にも賞の授与がありました。
参加チーム以外にも賞があるって素晴らしい会ですね。時間の都合上、賞の授与は全体では出来なかったですが、暖かさを感じました。&lt;/p&gt;
&lt;h4 id=&#34;貢献賞&#34;&gt;貢献賞&lt;/h4&gt;
&lt;p&gt;プレハッカソンから参加し、エンジニアに混って多くのアイディア、モックアップを提供、ハッカソン盛り上げに寄与し、全体を通して各チームのアウトプットに大きく貢献した&lt;code&gt;沖縄タイムスの儀武さん&lt;/code&gt;に &lt;strong&gt;貢献賞&lt;/strong&gt;が贈られました。&lt;/p&gt;
&lt;h4 id=&#34;サポート賞&#34;&gt;サポート賞&lt;/h4&gt;
&lt;p&gt;各チームが開発に苦労する中、急遽駆けつけていただき開発サポートを行っていただき、各チームのアウトプットに繋がる動きをした&lt;code&gt;琉球大学の森さん、大城さん、渡久さん、仲宗根さん&lt;/code&gt;に &lt;strong&gt;サポート賞&lt;/strong&gt;が贈られました。&lt;/p&gt;
&lt;h3 id=&#34;優秀チームは最後にプレゼンも&#34;&gt;優秀チームは最後にプレゼンも&lt;/h3&gt;
&lt;p&gt;優秀チームと評価された、バスコレチームとスマートバスなびチームは最後にハッカソン参加者以外のオーディエンスも聞く会場でピッチを行いハッカソンの成果報告を行いました。&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;優秀チームによるピッチもありました！！&lt;br&gt;大舞台でかっこいい！！&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/J4wnftgCjE&#34;&gt;pic.twitter.com/J4wnftgCjE&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205045185475858432?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;初開催の取り組みとのことでしたが、各チーム最後の発表までたどり着けて、主催側も参加者側も学びの多い会になったと思います。&lt;/p&gt;
&lt;p&gt;特に優秀チームは今後も自治体や関連する組織と一緒に実現に向けて進んでいく&lt;code&gt;かも&lt;/code&gt;とのことです！&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;皆さん本当にお疲れ様でした！！&lt;br&gt;みんな、ええ笑顔&lt;a href=&#34;https://twitter.com/hashtag/OOD2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#OOD2019&lt;/a&gt; &lt;a href=&#34;https://t.co/aeuL3r1Hi1&#34;&gt;pic.twitter.com/aeuL3r1Hi1&lt;/a&gt;&lt;/p&gt; ガストン(自給力さん) (@59Gaston) &lt;a href=&#34;https://twitter.com/59Gaston/status/1205046047493349381?ref_src=twsrc%5Etfw&#34;&gt;December 12, 2019&lt;/a&gt;&lt;/blockquote&gt; &lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;来年以降も実施していくとのことでしたので、この記事を見た人で興味がある人は情報が出てくるのをお待ちください！&lt;/p&gt;
&lt;p&gt;それでは！&lt;/p&gt;</description></item><item><title>人生初！Maker Faire Tokyo 2019に行ってきました。#MFTokyo2019</title><link>https://dotstud.io/blog/maker-faire-tokyo-2019/</link><pubDate>Fri, 27 Sep 2019 00:00:00 +0900</pubDate><guid>https://dotstud.io/blog/maker-faire-tokyo-2019/</guid><description>
&lt;p&gt;皆さん、こんにちは！！&lt;br&gt;
自給力です！イェーーーイ♬&lt;/p&gt;
&lt;p&gt;先日、モノつくりの祭典Maker Faire Tokyo 2019に&lt;strong&gt;&amp;ldquo;人生で初めて&amp;rdquo;&lt;/strong&gt;行って来ました！
今までブログでしか知らなかったディープなテックの世界をレポートして行きます！！
過去のdotstudioのメイカーフェアレポも併せて読んでくださいね♫&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;【過去のレポート】
&lt;section class=&#34;link&#34; id=&#34;231&#34;&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;a href=&#34;https://dotstud.io/blog/maker-faire-shenzhen-2018&#34;&gt;&lt;/a&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/231/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
&lt;/div&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;div class=&#34;link_detail&#34;&gt;
&lt;div class=&#34;link_date&#34;&gt;
2018-12-13
&lt;/div&gt;
&lt;div class=&#34;link_title&#34;&gt;
今年も行ってきました！　〜モノ創りの祭典 #MakerFaireShenzhen in 中国・深セン〜
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;&lt;/p&gt;
&lt;section class=&#34;link&#34; id=&#34;197&#34;&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;a href=&#34;https://dotstud.io/blog/mftokyo-2018-chantoku-report&#34;&gt;&lt;/a&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/197/00_thumbnail.png&#34; alt=&#34;サムネイル&#34; class = &#34;link2-img&#34;&gt;
&lt;/div&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;div class=&#34;link_detail&#34;&gt;
&lt;div class=&#34;link_date&#34;&gt;
2018-08-08
&lt;/div&gt;
&lt;div class=&#34;link_title&#34;&gt;
【Maker Faire Tokyo 2018レポート】ちゃんとく的MFTまとめ！吹き飛ばされたり操られたりしたおもしろ展示と衝動買いメモ #MFTokyo2018
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;p&gt;当日はIoT日和の晴れ模様！そして、アツイ！&lt;br&gt;
メイカーたちの熱が気温引き上げてるじゃないかってぐらいにアツイ！&lt;/p&gt;
&lt;p&gt;到着と同時にうこ師匠と合流。&lt;br&gt;
今日はSkyWayの協賛ブースで出展されてるそうです。。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;格好もSkyWayな青さが眩しい✨&lt;/p&gt;
&lt;p&gt;うこさんの案内で、中に入って行きました。&lt;br&gt;
それでは、さっそくメイカーたちのお祭りの中を見て行きましょう！！&lt;/p&gt;
&lt;h2 id=&#34;メイカー達の渾身の作品を紹介&#34;&gt;メイカー達の渾身の作品を紹介！&lt;/h2&gt;
&lt;h3 id=&#34;初体験-黒電話で-オッケーgoogle&#34;&gt;初体験！黒電話で「オッケーGoogle」&lt;/h3&gt;
&lt;p&gt;アナログとデジタルの共演。&lt;br&gt;
黒電話からGoogle Homeを通してレコードやテレビが制御できるデバイス！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/3a.png&#34; alt=&#34;3a&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;スマートスピーカーでレトロなデバイスを制御してるところが粋だなぁ。&lt;/p&gt;
&lt;h3 id=&#34;ロボットアームと握手&#34;&gt;ロボットアームと握手&lt;/h3&gt;
&lt;p&gt;毎年出店されてる方のブースもあります！
こちらはロボットアームをLeap Motionで制御するシステム。指の細かい動きまで再現！&lt;/p&gt;
&lt;p&gt;毎年出展する度にアップデートを重ねているんだそうです。前年と比較して、作品の成長を確認する楽しみ方もできそうですね。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;会場に響く謎の放電音&#34;&gt;会場に響く謎の放電音&lt;/h3&gt;
&lt;p&gt;奥に向かうと会場に響く「バチバチッ」という音、なんだなんだ！？事故！？事件！！？？&lt;/p&gt;
&lt;p&gt;と恐る恐る近づくと……。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;こ、これはテスラコイル！！？？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;テスラコイルからの放電で音楽を奏でてる！！&lt;/strong&gt;&lt;br&gt;
去年の記事にも書かれてたテスラコイル演奏。ホンモノだー！&lt;/p&gt;
&lt;p&gt;テスラコイルはブログより実物見た方がシビれました💡&lt;/p&gt;
&lt;p&gt;↓ここで言及している記事はこちら。&lt;/p&gt;
&lt;section class=&#34;link&#34; id=&#34;196&#34;&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;a href=&#34;https://dotstud.io/blog/mftokyo-2018-takudooon-report&#34;&gt;&lt;/a&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/196/00_thumbnail.png&#34; alt=&#34;サムネイル&#34; class = &#34;link2-img&#34;&gt;
&lt;/div&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;div class=&#34;link_detail&#34;&gt;
&lt;div class=&#34;link_date&#34;&gt;
2018-08-07
&lt;/div&gt;
&lt;div class=&#34;link_title&#34;&gt;
【Maker Faire Tokyo 2018レポート】モノ作りには生きざまが投影される。見る側から見せる側になってわかったモノ作りとの付き合い方 #MFTokyo2018
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;h3 id=&#34;若きメイカーたち&#34;&gt;若きメイカーたち&lt;/h3&gt;
&lt;p&gt;大人だけではありません！学生たちの作品もイケてます。&lt;br&gt;
入り口から入ってすぐの位置にあるのは、School Maker Faireのブース。&lt;/p&gt;
&lt;p&gt;目をキラキラさせながら作品の説明をしている姿に、こちらもウキウキしちゃいますね。&lt;/p&gt;
&lt;p&gt;いやぁ、あの夏部活の仲間たちと過ごしたアツい日々を思い出しますね（←コイツ帰宅部です）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;学生とはいえ、中身はメイカー！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;フロッピーディスクを使った音楽再生デバイス。フロッピーで千本桜や笑点のテーマまで完全再現！&lt;br&gt;
おーメカメカしくてカッケー✨&lt;/p&gt;
&lt;p&gt;今後のメイカーズライフに期待です！！！&lt;/p&gt;
&lt;h2 id=&#34;企業ブースも大盛り上がり&#34;&gt;企業ブースも大盛り上がり&lt;/h2&gt;
&lt;h3 id=&#34;iij-インターネットイニシアティブ&#34;&gt;IIJ（インターネットイニシアティブ）&lt;/h3&gt;
&lt;p&gt;ギターのストンパーをハックした作品。&lt;br&gt;
本来は足で踏んで音色を変えるんですが、これで手元のボタン等で制御できるようになります。&lt;/p&gt;
&lt;p&gt;変換はネコがやってくれるという、このかわいさは反則ですね🐱&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;任天堂&#34;&gt;任天堂&lt;/h3&gt;
&lt;p&gt;Nintendo Laboが体験できるなんて、子供たちも大興奮！！　……大人もやりたい！！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h3 id=&#34;skyway&#34;&gt;SkyWay&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;我らがうこさんの展示ももちろん見に行きましたー。&lt;br&gt;
夜通し作ってたジオラマが遂にお披露目になったとあり感無量……。　涙で前が見えない（←ウソです）&lt;/p&gt;
&lt;p&gt;と思いながら、架空の涙をこすりジオラマを見ると……。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;な、な、なんだこの白いの！？&lt;/strong&gt;
前見た時と雰囲気違う？？&lt;/p&gt;
&lt;p&gt;うこさんに聞くと前日反響があったは良いものの、&lt;strong&gt;子供たちが操作するラジコンが衝突しまくってジオラマが崩れてしまったそうです。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;いや〜　どんだけ人気だったのかが伺えますね（笑）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/14.png&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;子供達のヤンキーばりの荒い運転っぷりにも驚き（笑）&lt;br&gt;
あおり運転はしちゃダメだぞ！！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;こちらのラジコンを使った「SkyWayロボット」を作りたい方は、この記事を読んでくださいね↓&lt;/strong&gt;&lt;/p&gt;
&lt;section class=&#34;link&#34; id=&#34;251&#34;&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;a href=&#34;https://dotstud.io/blog/lets-make-webrtc-robot&#34;&gt;&lt;/a&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/00_thumbnail.png&#34; alt=&#34;サムネイル&#34; class = &#34;link2-img&#34;&gt;
&lt;/div&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;div class=&#34;link_detail&#34;&gt;
&lt;div class=&#34;link_date&#34;&gt;
2019-08-03
&lt;/div&gt;
&lt;div class=&#34;link_title&#34;&gt;
今年の夏休みは最新技術で工作しよう！　〜Webブラウザから操作できる「SkyWayロボット」の作り方〜
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;h2 id=&#34;もちろん-iotltのブースも&#34;&gt;もちろん、IoTLTのブースも&lt;/h2&gt;
&lt;p&gt;IoTLTとは、代表ののびすけが主催する国内最大規模のIoTコミュニティ。このブースではIoTLTに参加しているメンバーが有志で出展しています。&lt;br&gt;&lt;/p&gt;
&lt;p&gt;IoTLTの詳細は&lt;a href=&#34;https://iotlt.connpass.com&#34;&gt;コチラ&lt;/a&gt;！&lt;/p&gt;
&lt;p&gt;展示物はIoTケーキ、AI監視員、京急の気持ちになれる被り物までいっぱい！！&lt;br&gt;
牛丼にウナギのせて、チーズケーキ添えたみたいなごた混ぜ特盛り感（笑）　さすがです！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/16.png&#34; alt=&#34;16&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;このままケーキがしゃべります（笑）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/17.png&#34; alt=&#34;17&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;24時間監視できます！　もう悪いことはできません……。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/15.png&#34; alt=&#34;15&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;説明不要のわかりやすさ！　&lt;br&gt;
これこそ、京急への愛です！！&lt;/p&gt;
&lt;h2 id=&#34;その他-気になったものをイッキ見&#34;&gt;その他、気になったものをイッキ見！！&lt;/h2&gt;
&lt;p&gt;初めての参加なので、例年との違いはわからないのですが、会場内は個性的なモビリティやロボットが多いなぁという印象でした。（いつものことだったらすいません……。）&lt;br&gt;
今回出展された、おもしろモビリティや、おもしろロボットを一気に紹介！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;「汽車」&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/18.png&#34; alt=&#34;18&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;「魔法のホウキ」！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/19.png&#34; alt=&#34;19&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;「外骨格」！！！&lt;/strong&gt;
&lt;br&gt;見たことあるやつだ！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/20.png&#34; alt=&#34;20&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;「R2D2」！！！！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/21.png&#34; alt=&#34;21&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;これら以外にも愛情溢れるエモいロボットやモビリティが会場のあちらこちらで走り回ってました（笑）&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;
&lt;p&gt;今回、人生で初めて参加してみて心に残った&lt;strong&gt;俺的メイカーフェアの見どころ&lt;/strong&gt;は&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;学生がアツイ！&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;大人もアツイ！！&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;つまり、メイカー全員バリアツイ！！！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;この熱狂に興味ある方は来年の10月にビッグサイトでお会いしましょう！&lt;br&gt;
予習で他の記事も見てくださいね♪&lt;/p&gt;
&lt;p&gt;今日は夏よりアツイMaker Faire Tokyo 2019のレポートでした。&lt;/p&gt;
&lt;h2 id=&#34;余談-祭りのあと&#34;&gt;余談（祭りのあと）&lt;/h2&gt;
&lt;p&gt;夢と技術とアツイ想いでパンクしそうになりながらお祭りの時間は過ぎていきます。&lt;br&gt;
帰りに少しうこさんの片付け作業を手伝っていたんですが、&lt;/p&gt;
&lt;p&gt;いつも、ハッピーでテンアゲなうこさんですが、イベント終了のアナウンスが流れると……。&lt;br&gt;
&lt;strong&gt;うこさん「はぁ、終わっちゃった……。」　としんみり……。&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;なんとも寂しげに呟いてたのが印象的でした。&lt;br&gt;
「みんな本気でお祭りしてんだな」「この日のために知識と時間と抑えきれない情熱をジャバジャバ投入してるんだな」と終わりになって改めて感じました。&lt;br&gt;&lt;/p&gt;
&lt;p&gt;来年は出展者としてメイカーフェア楽しみたい！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/254/22.png&#34; alt=&#34;22&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;style&gt;
.link2-img{
width: 850px;
}
&lt;/style&gt;</description></item><item><title>【技術書典】オフィスが基板工場となった休日</title><link>https://dotstud.io/blog/techbookfest-kibanjisso-led-board/</link><pubDate>Sat, 21 Sep 2019 00:00:00 +0900</pubDate><guid>https://dotstud.io/blog/techbookfest-kibanjisso-led-board/</guid><description>
&lt;p&gt;みなさん、こんにちは。
自給力です！&lt;/p&gt;
&lt;p&gt;9月22日（日）に技術書典が開催されますね！&lt;br&gt;
出展される方は準備お疲れ様です。&lt;/p&gt;
&lt;p&gt;僕は今回の技術書典で来場者として初めて行くのですが、今からとっても楽しみです！&lt;/p&gt;
&lt;p&gt;今日は、22日の技術書典で自作開発ボードを制作・販売される野良HACKさんがドットスタジオに来て準備されていたので、その様子をレポートしていきます！&lt;br&gt;
&lt;strong&gt;僕は電子工作初心者で分んないことだらけなんですが、分かんないなりに野良HACKさんの制作のすごさを伝えられたらと思ってます！！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;技術書典の情報は&lt;a href=&#34;https://techbookfest.org&#34;&gt;コチラ&lt;/a&gt;！！&lt;/p&gt;
&lt;p&gt;*野良HACKとは、某企業の社内同好の士を中心に集まり趣味でものづくりをしているチーム。光るもの、LEDが好物なのだそうです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;基板って手作りできるの&#34;&gt;基板って手作りできるの？&lt;/h2&gt;
&lt;p&gt;今回、野良HACKさんが作成しているのは専用のWebサイトからBluetooth経由でLEDを制御するための開発ボード。（出展されてる配置は「け27D」）&lt;br&gt;
何も搭載されていない基板へモジュールやピンヘッダをはんだ付けするところから作っていくとのこと！！
（基板って手作りできるんだ…小並感……。）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;↑こちら、まだ完成ではありませんが、作成していた開発ボードです。&lt;/p&gt;
&lt;p&gt;完成物が気になる方は技術書典でチェックしてくださいね！&lt;br&gt;&lt;/p&gt;
&lt;h2 id=&#34;制作手順&#34;&gt;制作手順&lt;/h2&gt;
&lt;h3 id=&#34;基板を用意&#34;&gt;基板を用意&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;こちらが部品が何も載ってない、そのままの基板。こちらに部品をはんだ付けしていくとのこと。&lt;/p&gt;
&lt;h3 id=&#34;部品を載せる&#34;&gt;部品を載せる&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ここは0.数ミリの世界での戦い！&lt;br&gt;
ちっちゃい抵抗器とかを基板に載せていく作業です。&lt;br&gt;
&lt;br&gt;ヒェー細かい……。ルーペ必須ですね（笑）&lt;/p&gt;
&lt;h3 id=&#34;はんだを塗る&#34;&gt;はんだを塗る？&lt;/h3&gt;
&lt;p&gt;みなさん、はんだ付け作業のイメージってどうですか？
片手にこて、もう片手に針金みたいに丸まったはんだを持って、一個一個付けていくイメージですよね。僕もそうでした。&lt;/p&gt;
&lt;p&gt;しかし、この小さい基板にもっと小さい部品を一個一個付けていくのはたいへん！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ということで、今回はクリーム状のはんだを塗り、一気に取り付けていくとのことです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;はんだを塗りやすいように、↑のようなステンレス等でできた型紙を用意。型には小さな穴が空いてあり、そこにはんだを塗りこんでいくそうです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;均等に塗れるよう固いカードとかで、はんだを伸ばしていきます。
&lt;br&gt;
&lt;br&gt;
こんなやり方あるんですね。知らんかった（←そんなことばっか）&lt;/p&gt;
&lt;h3 id=&#34;リフロー炉で焼き上げる&#34;&gt;リフロー炉で焼き上げる!?&lt;/h3&gt;
&lt;p&gt;クリームはんだが均等に塗られていても、まだちゃんと付いているわけではないんです。&lt;br&gt;
ここで、リフロー炉というヒーターのような機械を使って200度まで温度を上げ、はんだを溶かしてくっ付けていくとのこと。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;これが、リフロー炉。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;オーブンみたい（笑）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;こっちは違う型のリフロー炉。何個も焼き上げることができます。&lt;/p&gt;
&lt;h3 id=&#34;プログラムを書き込み&#34;&gt;プログラムを書き込み&lt;/h3&gt;
&lt;p&gt;香ばしいにおいが立ち上がり、アラームが鳴ると出来上がり！（←パンでも焼いてるような表現（笑））&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/12.png&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;焼きたてホヤホヤの基板をクールダウンさせましたら、次に通電するかのチェックのため電圧を測ります。&lt;/p&gt;
&lt;p&gt;うまく焼けてないと、ショートしてて通電しなかったりするんだとか。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;この針がいい感じに60くらいの目盛りまで振れればOK!&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/14.png&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;そして、ちゃんとショートせずに電気が通っていることがわかったところで、プログラムを書き込みます。&lt;/p&gt;
&lt;p&gt;すげー、命を吹き込んでる感じでした！&lt;/p&gt;
&lt;h3 id=&#34;仕上げ&#34;&gt;仕上げ&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/15.png&#34; alt=&#34;15&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;仕上げにその他のピンヘッダなどを、はんだ付けしたら完成！&lt;/p&gt;
&lt;p&gt;ここは、職人らしく手で付けていく！！&lt;/p&gt;
&lt;h2 id=&#34;僕もやってみたい&#34;&gt;僕もやってみたい！！&lt;/h2&gt;
&lt;p&gt;大変そうな作業ですけど、みなさんが熱中してる姿を見てたら、僕もやりたくなってきちゃいました。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/16.png&#34; alt=&#34;16&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;後ろの方から熱い視線を送ってると……。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/17.png&#34; alt=&#34;17&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;やらせてくれました！&lt;/p&gt;
&lt;p&gt;やったー。やってみよう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/18.png&#34; alt=&#34;18&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ウキウキ。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/19.png&#34; alt=&#34;19&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/20.png&#34; alt=&#34;20&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/21.png&#34; alt=&#34;21&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;細かすぎて無理っっ！！&lt;br&gt;
と言うことで自給力さんのチャレンジは15秒で終わりました。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/21a.png&#34; alt=&#34;21a&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;本当はこうなる予定でした。
にしても細かい……。&lt;/p&gt;
&lt;p&gt;いやぁ、この作業をしっかりと分業でこなしていくのはすごいな。&lt;br&gt;
さながらオフィスが小さな工場と化してました。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/22.png&#34; alt=&#34;22&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;見事、目標枚数を作り上げたそうです。
おめでとうございます！！&lt;/p&gt;
&lt;h2 id=&#34;おわりに&#34;&gt;おわりに&lt;/h2&gt;
&lt;p&gt;今日はオフィスに遊びに来てくれた野良HACKの皆さんの基板作りを覗かせてもらいました！&lt;br&gt;
男の子心をくすぐる部活感がなんともステキです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/23.png&#34; alt=&#34;23&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;こちらが野良HACKさんの生産ラインです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/24.png&#34; alt=&#34;24&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;お昼は皆でカレーの出前を頼みました（笑）&lt;br&gt;
みんなで食べると何ともうまい。&lt;/p&gt;
&lt;p&gt;この記事では制作過程をメインにレポートしてきましたが、技術書典の会場ではデモなどもあるそうなので、ぜひ見に行ってください！&lt;br&gt;
（出展されてる配置は「け27D」）&lt;/p&gt;
&lt;h2 id=&#34;技術書典で会いましょう&#34;&gt;技術書典で会いましょう&lt;/h2&gt;
&lt;p&gt;技術書典は9月22日開催です。僕も初めての参加なので雰囲気はわかりませんが、どんな書籍や制作物があるのか、今から楽しみです！
もし見かけたら声かけてくださいねー。&lt;br&gt;
野良HACKさんの出展配置は「け27D」ですので、ぜひ寄って行ってください！
&lt;br&gt;&lt;/p&gt;
&lt;p&gt;技術書典の情報は&lt;a href=&#34;https://techbookfest.org&#34;&gt;コチラ&lt;/a&gt;！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/253/22a.png&#34; alt=&#34;22a&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;</description></item><item><title>可愛いあの子のペットになりたい！！SkyWayロボットで挑戦してみた</title><link>https://dotstud.io/blog/pet-of-cutegirl-skyway/</link><pubDate>Tue, 17 Sep 2019 00:00:00 +0900</pubDate><guid>https://dotstud.io/blog/pet-of-cutegirl-skyway/</guid><description>
&lt;p&gt;〜　ある夏の昼下がり、自給力は悩んでいた　〜&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
なれないかな……。　でも、なりたいな……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
どうしたの、自給力さん？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
あ、うこさん！　じ、実は、僕どうしてもなりたいモノがあるんだ……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
なりたいモノって？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
じ、実は僕……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
大好きなシズカちゃんのペットになりたいんだ！！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
はぁああ？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ほら、僕ってこう見えてカラダ大きいでしょ？　だからあんまり可愛がられることがないんだ。もしペットになれたら、可愛がられる夢が叶うでしょ？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（こいつは一体何を言っているんだ？　心配した自分がバカだった。何を涼しい顔で変態男発言してるんだ。）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ほら、もうすぐシズカちゃんがここに来ちゃう。何か作ってよ！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
しょうがないなぁ（マジで気乗りしねぇ……。）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;skywayロボットでペットの気持ちになれる&#34;&gt;SkyWayロボットでペットの気持ちになれる！？&lt;/h2&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
自給力さん、お待たせ！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;🎵　テレテテッテテ〜　🎵&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
SkyWayロボット〜
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
な、なんだいこれは？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
これは、カメラを搭載したハイテクロボットだよ。SkyWayのAPIを使って**ブラウザ上から操作できるんだ！**　パソコン・スマホからロボットの視点で映像も見れるんだよ！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;SkyWayロボットの作り方は↓&lt;/p&gt;
&lt;section class=&#34;link&#34; id=&#34;251&#34;&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;a href=&#34;https://dotstud.io/blog/lets-make-webrtc-robot&#34;&gt;&lt;/a&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
&lt;/div&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;div class=&#34;link_detail&#34;&gt;
&lt;div class=&#34;link_date&#34;&gt;
2019-08-03
&lt;/div&gt;
&lt;div class=&#34;link_title&#34;&gt;
今年の夏休みは最新技術で工作しよう！　〜Webブラウザから操作できる「SkyWayロボット」の作り方〜
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
おーー、すごい！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
これなら、ペット視点の気分くらいは味わえるんじゃない？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ありがとう！！　うこさん！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（まぁ、どうせ、そんなことしたらシズカちゃんにドン引されてフラれるだけだろうけど）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;実際に女の子に頼んでみよう&#34;&gt;実際に女の子に頼んでみよう！&lt;/h2&gt;
&lt;p&gt;ロボットができて数分後……　&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_sh&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/shizuka.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;しずか&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
おジャマしまーす。自給力さん、久しぶりー
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/12.png&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
久しぶりー、来てくれてありがとうー！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
シズカちゃん、いらっしゃいー
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
急でごめんなんだけど、実はお願いがあるんだ……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（マジでお願いするのか……。）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
実は、僕……。　ｺﾞﾆｮｺﾞﾆｮ
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（どんなに頼み込んでも、こんなキモいお願い受けるわけないじゃないか）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/14.png&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_sh&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/shizuka.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;しずか&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
うーん……。　（悩）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/15.png&#34; alt=&#34;15&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_sh&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/shizuka.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;しずか&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
オッケー、いいよー♪
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/16.png&#34; alt=&#34;16&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ええええええええええ！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/17.png&#34; alt=&#34;17&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_sh&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/shizuka.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;しずか&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ちょうどペット欲しかったんだよね
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko_2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
いや、そういう問題じゃない！!
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
やったー！！　じゃあ、早速セットしよう
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;h2 id=&#34;ペットになるとこんな気分になれる&#34;&gt;ペットになるとこんな気分になれる！？&lt;/h2&gt;
&lt;p&gt;①ペットとして一緒に遊んだり&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/18.png&#34; alt=&#34;18&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;②ペットとしてソファで一緒にテレビを見たり&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/19.png&#34; alt=&#34;19&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;③ペットとして抱っこされてみたり&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/20.png&#34; alt=&#34;20&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;こんな夢のような時間が過ごせるのです　
by 自給力&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;夢を叶えた男の次なる野望&#34;&gt;夢を叶えた男の次なる野望&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/21.png&#34; alt=&#34;21&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
感激だよ、うこさん。ありがとう
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
まぁ、2人が楽しそうならよかった
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/22.png&#34; alt=&#34;22&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
うん。ただ、僕もう一つなりたいモノができたんだ……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
今度はいったい何だよ？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/23.png&#34; alt=&#34;23&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ん？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;……&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/24.png&#34; alt=&#34;24&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
今度はうこさんのペットになりたいー！！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/252/uko_3.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
それは、やめてくれーーー！！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;おしまい&lt;/p&gt;
&lt;h2 id=&#34;あなたは何を作りますか&#34;&gt;あなたは何を作りますか？&lt;/h2&gt;
&lt;p&gt;SkyWayロボットを使えば、ペットになりたいという悩みだけでなく、自宅監視から茶運びマシーンまで、アイデア次第で何でも作ることができます。&lt;br /&gt;
気になった方はぜひチャレンジしてみてくださいね！&lt;/p&gt;
&lt;p&gt;SkyWayロボットの作り方は↓
&lt;section class=&#34;link&#34; id=&#34;251&#34;&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;a href=&#34;https://dotstud.io/blog/lets-make-webrtc-robot&#34;&gt;&lt;/a&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/00_thumbnail.png&#34; alt=&#34;サムネイル&#34;&gt;
&lt;/div&gt;
&lt;div class=&#34;link_content&#34;&gt;
&lt;div class=&#34;link_detail&#34;&gt;
&lt;div class=&#34;link_date&#34;&gt;
2019-08-03
&lt;/div&gt;
&lt;div class=&#34;link_title&#34;&gt;
今年の夏休みは最新技術で工作しよう！　〜Webブラウザから操作できる「SkyWayロボット」の作り方〜
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;&lt;/p&gt;
&lt;style&gt;
.dialogue {
padding: 10px;
display: table;
}
.image_s, .image_u, .image_sh {
width: 75px;
height: 75px;
margin-right: 10px;
display: table-cell;
vertical-align: middle;
}
.image_sh img {
border-radius: 50%;
border: 2px solid red;
}
.image_u img {
border-radius: 50%;
border: 2px solid blue;
}
.image_s img {
border-radius: 50%;
border: 2px solid green;
}
.name {
font-weight: bold;
text-align: center;
}
.text {
display: table-cell;
padding: 0;
vertical-align: middle;
padding-left: 20px;
}
&lt;/style&gt;</description></item><item><title>今年の夏休みは最新技術で工作しよう！　〜Webブラウザから操作できる「SkyWayロボット」の作り方〜</title><link>https://dotstud.io/blog/lets-make-webrtc-robot/</link><pubDate>Sat, 03 Aug 2019 00:00:00 +0900</pubDate><guid>https://dotstud.io/blog/lets-make-webrtc-robot/</guid><description>
&lt;p&gt;こんにちは、ものづくり担当のうこ(&lt;a href=&#34;https://twitter.com/harmoniko&#34;&gt;@harmoniko&lt;/a&gt;)です。&lt;br /&gt;
連日猛暑が続きますが、暑さに負けず、ものづくりやってますかー？&lt;br /&gt;
今回は、WebRTCを用いたサービスの1つである&lt;a href=&#34;https://webrtc.ecl.ntt.com/&#34;&gt;SkyWay&lt;/a&gt;を利用した、遠隔操作可能でカメラの映像も見れちゃうロボットの作り方を解説します。&lt;br /&gt;
また、実際のラジコンは、&lt;a href=&#34;https://makezine.jp/event/makers-mft2019/skyway/&#34;&gt;Maker Faire Tokyo 2019のSkyWayブース&lt;/a&gt;にてデモ展示されます。&lt;br /&gt;
少し難しいところもありますが、ぜひチャレンジしてみてください！&lt;/p&gt;
&lt;h2 id=&#34;必要な部品&#34;&gt;必要な部品&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;こちらのパーツ類をそれぞれ購入して揃えましょう。1〜4番はタミヤの製品です。5〜7番はホームセンター等で入手できます。右下の小さい部品は以下を参照してください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;8番の銅線の長さは、9番のラズパイ用カメラのフラットケーブルと同じくらいの長さでよいです。10番はWaveShareという会社の製品で、1500〜2000円前後で通販などでも入手できます。12番のセメント抵抗は、秋葉原のパーツ屋さんなどでないと入手しにくいかもしれません。13番のマイクロSDカードは4GB以上のものであれば何でもかまいません。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;製作に必要な工具類がこちらです。はんだごてはあってもなくても作れますが、100円ショップでも手に入るのでできるだけあったほうがいいでしょう。&lt;/p&gt;
&lt;h2 id=&#34;組み立て&#34;&gt;組み立て&lt;/h2&gt;
&lt;h3 id=&#34;車体本体&#34;&gt;車体本体&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;部品のうち、1〜3番は中に説明書が入っているため、まずそれを読みながらそれぞれ組み立てます。1番のボールキャスターは「高さ35mm」で作成、3番のツインモーターギヤボックスは「低速タイプ」で作成してください。ギヤボックスは、小さな輪っかのようなものが部品として余りますので、2つは捨てずに置いておいてください。後ほど「スペーサー」として利用します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;モーターを一度ギヤボックスから抜き、8番の銅線をそれぞれモーター端子に接続します。はんだごてがない場合は、多めに皮膜をむいてよく巻きつけるようにしましょう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;モーターをギヤボックスに戻し、タイヤをギヤボックスのシャフトに差し込みます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;4番のユニバーサルプレートセットを取り出し、一番大きな部材の短辺に近い一部分（上図参考、端から穴一つぶん空けて内側）をニッパで切り取って複数の穴を連結させます。これをスリットと呼びます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;先ほど切り取ったスリットの上あたりに、スリットを隠さないようにして、ユニバーサルプレートセット内にある「軸受け」を付属のネジとナットを使って上図のように固定してください。本来は、これはシャフトを通したりするのに使うパーツですが、今回はカメラを設置するためのパーツとして転用しています。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ユニバーサルプレートの軸受けをつけていない面に、タイヤをつけたギヤボックスとボールキャスターをネジとナットで固定します。ネジの位置は上図をよく見て同じ位置に留めてください。ボールキャスターはネジ穴が4つありますが、留めるのは2点だけで問題ありません。&lt;/p&gt;
&lt;h3 id=&#34;電源とraspberry-piの取り付け&#34;&gt;電源とRaspberry Piの取り付け&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;5〜7番をまとめて1つにして、バッテリーボックスを作ります。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;12番のセメント抵抗2本の脚部分を短めに切り、10番のMotor Driver HATの「MA1」端子と「MB1」端子にそれぞれ片方の脚ずつ挿入します（図はMA1のみ挿入しているところです）。マイナスドライバーを使って端子を締め込み、外れないよう固定します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/12.png&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;次に11番のRaspberry Pi 3 B+（以下ラズパイ）を手に持ち、マイクロSDカードスロットがある短辺をこちらに向けます。その状態で、両端にあるネジ穴にギヤボックスの余り部品であるネジと、あらかじめ確保しておいたスペーサーを図のように差し込みます。固い場合があるので、その際はドライバーで回しながら差し込んでください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;車体本体に、ネジ2つがついたラズパイを設置します。図を参考にして、ユニバーサルプレート先端部分が穴2つぶんのスペースが空くようにラズパイを置き、ネジをプレートの穴にはめ込んでください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/14.png&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;9番のラズパイ用カメラのケーブルを、ユニバーサルプレートの下からスリットに入れて上に通し、そのままラズパイ本体のカメラコネクタに接続します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/15.png&#34; alt=&#34;15&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;セメント抵抗をつけたMotor Driver HATを、ラズパイの上に設置します。GPIOピンがずれないようにうまくドッキングしてください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/16.png&#34; alt=&#34;16&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;左右のモーターからそれぞれ銅線を1本ずつ、ユニバーサルプレートの穴を通してオモテ側に2本引っ張って持ってきます。その2本をそれぞれ、Motor Driver HATの「MA2」端子と「MB2」端子に挿入し、マイナスドライバーでネジを締めて固定してください。なお、1つのモーターからは2本の銅線が出ていますが、ここではどちらを使ってもかまいません。左右各々から1本ずつ接続してください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/17.png&#34; alt=&#34;17&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;左右の各モーターの残りの銅線2本をユニバーサルプレート下から上に通し、今度はセメント抵抗の脚部分に接続します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/18.png&#34; alt=&#34;18&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ここも、基本的にははんだづけしたほうがよいですが、しない場合は銅線をよく巻きつけてください。金属用ボンドなどをあとで上から塗り保護するのもよいです。&lt;/p&gt;
&lt;h3 id=&#34;マイクロsdカードのセットアップ&#34;&gt;マイクロSDカードのセットアップ&lt;/h3&gt;
&lt;h4 id=&#34;osインストール&#34;&gt;OSインストール&lt;/h4&gt;
&lt;p&gt;まず、以下のURLからセットアップ済みのRaspberry Pi用OSイメージをダウンロードしてください。&lt;br /&gt;
およそ3GBありますので、ディスク容量と通信量にこ注意ください。&lt;br /&gt;
&lt;a href=&#34;https://drive.google.com/file/d/1O6UqWZHVknEJ0g2E5wjEJZhn59DFqfsU/view?usp=sharing&#34;&gt;SkyWayRobot.iso&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;こちらのイメージは、ユーザー名が「pi」、パスワードが「raspverry」となっています。&lt;br /&gt;
SSH接続される際の参考にしてください。&lt;/p&gt;
&lt;p&gt;ダウンロードができたら、以下のサイトを参考にしてマイクロSDカードにダウンロードしたOSイメージをインストールしてください。&lt;br /&gt;
Windowsの場合：&lt;a href=&#34;https://www.1ft-seabass.jp/memo/2018/07/23/raspbian-install-201807-memo/&#34;&gt;最近のRaspberry Piイメージ（Raspbian）をインストールするメモ - 1ft-seabass.jp.MEMO&lt;/a&gt; の「SDカードのフォーマット」から「初期設定」直前まで&lt;br /&gt;
Macの場合：&lt;a href=&#34;https://qiita.com/shippokun/items/9070fc58f69d8c063e44&#34;&gt;MacでRaspberryPi入門 - Qiita&lt;/a&gt; の「2.microSDカードに書き込み」の部分&lt;/p&gt;
&lt;p&gt;OSをインストールしているあいだ、次のSkyWayセットアップを行なっておいてください。&lt;/p&gt;
&lt;h4 id=&#34;skywayのセットアップ&#34;&gt;SkyWayのセットアップ&lt;/h4&gt;
&lt;p&gt;次に、SkyWayにユーザー登録をして、APIキーを発行します。&lt;br /&gt;
&lt;a href=&#34;https://webrtc.ecl.ntt.com/signup.html&#34;&gt;新規登録 - SkyWay - Enterprise Cloud WebRTC Platform&lt;/a&gt;&lt;br /&gt;
上記のページの「Community Edition」にある「無料で新規登録」のボタンから、アカウントを新規に作成しましょう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/19.png&#34; alt=&#34;19&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;アカウントを作成したらログインして、上段の “Create new application” をクリックします。するとアプリケーション作成ページに飛びますので、以下のように入力します。　　&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Application description: My WebRTC Robot（一例。任意の名前でよいです）
Available domains: localhost, 127.0.0.1, ukkz.github.io
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;“ukkz.github.io” は、後ほどWeb上のロボットコントローラーからアクセスする際に必要なので、最初は必ず入れておいてください。&lt;br /&gt;
入力完了したら緑色のCreateボタンをクリックして作成します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/20.png&#34; alt=&#34;20&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;作成後のページはこのように表示されているかと思います。&lt;br /&gt;
API Keyの欄に表示されている文字列をコピーしてどこかに控えておきましょう。&lt;/p&gt;
&lt;h4 id=&#34;環境設定&#34;&gt;環境設定&lt;/h4&gt;
&lt;p&gt;OSのインストールが完了すると、「boot」という外付けディスクがPCに認識されていると思います。そのディスクを開くと色々なファイルが入っていますが、その中から「wifi_passwd_list.conf」と、「robot.json」があることを確認してください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/21.png&#34; alt=&#34;21&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;まず最初に「wifi_passwd_list.conf」を開き、自宅などのWiFiのSSIDとパスワードを入力します。こうすることでWiFiに自動で接続することができます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/22.png&#34; alt=&#34;22&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;次に「robot.json」を開きます。この中の&lt;code&gt;&amp;quot;YOUR_SKYWAY_APIKEY&amp;quot;&lt;/code&gt;となっている部分に、先ほど取得したご自身のAPIキーをペーストしてください。また、&lt;code&gt;&amp;quot;robot-NEW&amp;quot;&lt;/code&gt;となっているところはこのロボットを識別するための「ピアID」となります。ここは好きな名前をいれましょう。&lt;/p&gt;
&lt;p&gt;今回は必要ありませんが、このラズパイと同じLAN内でもしSSH接続をする場合は、&lt;br /&gt;
&lt;code&gt;ssh pi@ピアID.local&lt;/code&gt;&lt;br /&gt;
とするとそのままアクセスすることができます。&lt;br /&gt;
また上述したとおり、パスワードは「raspverry」に設定しています。&lt;/p&gt;
&lt;p&gt;この「robot.json」の他の項目として&lt;code&gt;&amp;quot;reverse&amp;quot;&lt;/code&gt;と書かれた部分があります。ここを&lt;code&gt;false&lt;/code&gt;から&lt;code&gt;true&lt;/code&gt;にすると、モーターの回転方向が逆転します。銅線の接続方法によっては最初から逆回転をするようになっている場合があるので、完成後にコントローラからロボットを操作した際に操作と逆方向に進んでしまったりする場合は、こちらのパラメータを変更してみてください。&lt;/p&gt;
&lt;p&gt;以上まで終了したら、マイクロSDカードをPCから取り外します。&lt;/p&gt;
&lt;h3 id=&#34;仕上げ&#34;&gt;仕上げ&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/23.png&#34; alt=&#34;23&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ペンチやピンセットなどを使って、マイクロSDカードをラズパイのスロットに挿入します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/24.png&#34; alt=&#34;24&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;カメラがだらんと垂れた状態になっているので、厚めの両面テープを使い、ユニバーサルプレート先端の「軸受けパーツ」に上図のように固定します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/25.png&#34; alt=&#34;25&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;電池ボックスをロボット後部の空いた部分に載せ、輪ゴムや髪留め用のゴムなどで落ちないよう簡単に固定します。最後に電池スナップから伸びる赤と黒の線を、それぞれ「VIN」端子と「GND」端子に接続すれば完成です！&lt;/p&gt;
&lt;h2 id=&#34;試してみよう&#34;&gt;試してみよう&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/26.png&#34; alt=&#34;26&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;電源スイッチを入れて、30秒ほど待ってみましょう。モーターが動き、ロボットが軽く前後に移動するような「シグナリング動作」を行うのが確認できたら、SkyWayへの接続が完了しています。何も起こらない場合は、環境設定のところで入力したWiFiの情報が間違っていないか、APIキーがちゃんと入力されているか確認しましょう。&lt;/p&gt;
&lt;p&gt;SkyWayへの接続ができているようであれば、以下のURLをまずコピーして、お使いのブラウザのアドレスバーにペーストしてください。&lt;br /&gt;
&lt;code&gt;https://ukkz.github.io/skyway-robot/?apikey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ペーストできたら、ページを表示する前に、このアドレスの「?apikey=」に続く文字列をご自身で取得したAPIキーに書き換えてからこのURLにアクセスしてください。すると次のような画面が出ます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/27.png&#34; alt=&#34;27&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;この画面では、各ロボットごとに設定した「ピアID」の文字列のボタンが複数表示されています。このように、うまく接続できている場合は環境設定のところで書いたロボットの「ピアID」が画面上部に表示されます。同じAPIキーで複数台接続している場合は、その台数分だけボタンが出現します。この時点ではまだロボットとP2P接続していません。ボタンをクリックしてみると……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/251/28.png&#34; alt=&#34;28&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;問題なく接続されていれば、このようにカメラからの画像がブラウザの画面に表示され、十字キーでロボットを操作することができます。他にもゲーミング用のWASDキーでの操作や、LeapMotionでの操作に加え、スマホなどからは画面をなぞることでバーチャルジョイスティックによる操作をすることもできます。&lt;/p&gt;
&lt;h2 id=&#34;トラブルシューティング&#34;&gt;トラブルシューティング&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ラズパイが起動しない&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ISOの書き込みがきちんとできているか確認&lt;/li&gt;
&lt;li&gt;電池を満充電のものと交換してみる&lt;/li&gt;
&lt;li&gt;SDカードが壊れてしまっていないか&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;起動したようだが「シグナリング動作」が行われない&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WiFiのアクセスポイント名とパスワードの確認&lt;/li&gt;
&lt;li&gt;SkyWayのAPIキーの確認&lt;/li&gt;
&lt;li&gt;モーターとモータードライバの物理的な接触不良はないか&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ブラウザでボタンを押しても接続後すぐに切れて「シグナリング動作」を繰り返す&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;カメラモジュールの故障または接触不良&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;操作に大幅な遅延がある&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ロボットとコントローラを同一のLAN内で動かしてみる&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ロボットがキー操作と逆の動作をする&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;前後逆になってしまう場合は、&lt;code&gt;/boot/robot.json&lt;/code&gt;の中にあるreverseをtrueにする&lt;/li&gt;
&lt;li&gt;左右逆になってしまう場合は、&lt;code&gt;/boot/robot.json&lt;/code&gt;の中にあるab_swapをtrueにする&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;最初からロボットとの接続が確立できず起動後すぐに暴走してしまう&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;セメント抵抗の値を大きくしてみる&lt;/li&gt;
&lt;li&gt;どこかで端子がショートしていないか確認&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;接続後しばらくして操作に反応しなくなり暴走してしまう&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;電池を新品に交換する&lt;/li&gt;
&lt;li&gt;電源用USB接続を併用する&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;その他、うまく動かない……&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Twitter &lt;a href=&#34;https://twitter.com/harmoniko&#34;&gt;@harmoniko&lt;/a&gt; 宛にDM、もしくは&lt;br /&gt;
メールで ukok(at_mark)dotstud.io までお気軽にご質問ください。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;いかがでしたでしょうか？&lt;br /&gt;
今回は、最初からプログラムを書くとやはり難易度が高くなってしまうので、ロボットをOSイメージとして配布してみました。もし余力のある方は、ホームフォルダにある&lt;code&gt;app.js&lt;/code&gt;がロボットの本体ですので、ぜひご自身で色々とさわってみてくださいね。&lt;/p&gt;</description></item><item><title>【シンセ魔改造】仕事サボってバンド演奏しながら会社のミーティングに無理やり参加してみた【作り方編】</title><link>https://dotstud.io/blog/howto-make-webrtc-piano/</link><pubDate>Tue, 14 May 2019 00:00:00 +1800</pubDate><guid>https://dotstud.io/blog/howto-make-webrtc-piano/</guid><description>
&lt;p&gt;こんにちは、ものづくり担当うこです。&lt;br /&gt;
&lt;a href=&#34;https://dotstud.io/blog/meeting-via-webrtc-piano/&#34;&gt;前回&lt;/a&gt;は、スタジオからなんとかオンラインミーティングに参加したのですが、当然ながらバレちゃいましたね……&lt;br /&gt;
しかし、新社会人も多いこの季節、同じような境遇に陥る若人も少なくないでしょう！！&lt;br /&gt;
というわけで、今回は市販のMIDIキーボードを使って、簡単にこの仕組みを自作する方法を解説します！&lt;/p&gt;
&lt;h2 id=&#34;ハードウェア部分&#34;&gt;ハードウェア部分&lt;/h2&gt;
&lt;h3 id=&#34;必要なもの&#34;&gt;必要なもの&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Raspberry Pi 3B+&lt;/li&gt;
&lt;li&gt;マイクロSDカード（8GB以上）&lt;/li&gt;
&lt;li&gt;USB-MIDIキーボード&lt;br /&gt;
今回はKORG社のnanoKey2を使っていきますが、基本的には何でもOKです。&lt;/li&gt;
&lt;li&gt;Raspberry Pi Camera Module&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ハードウェアは特に作成する必要がなく、カメラモジュールを基板にとりつけ、USB-MIDIキーボードを接続するだけでOKです！&lt;br /&gt;
スタジオ編では、実際にYAMAHAのMIDIキーボードを分解して内部にRaspberry Piを組み込んだものを使用しました。余力がある方は試してみてください♪&lt;/p&gt;
&lt;h2 id=&#34;ソフトウェアのインストールと設定&#34;&gt;ソフトウェアのインストールと設定&lt;/h2&gt;
&lt;p&gt;ここからは、すでにRaspberry PiへのOSインストールが完了していて、SSHなどを経由してターミナル操作ができる前提で解説してゆきます。&lt;br /&gt;
よくわからない、という方は、以下の記事の「2. ソフトウェアのインストールと設定」あたりを参照しながら、OSのインストールから始めてみてください。&lt;br /&gt;
&lt;a href=&#34;https://dotstud.io/blog/howto-make-webrtc-pokeberu/&#34;&gt;【114106→ｱｲｼﾃﾙ】平成の最後に最新のWebRTCでポケベルをつくってみた【作り方編】 | dotstudio&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;映像のストリーミング&#34;&gt;映像のストリーミング&lt;/h3&gt;
&lt;p&gt;まず映像ストリーミングに必要なソフトウェアをインストールします。&lt;br /&gt;
gstreamerというストリーミングソフトウェアを使いますが、Raspberry Piへのインストールは少々複雑になります。
以下をそのままコピペしてターミナルで実行してください。&lt;br /&gt;
&lt;code&gt;$ sudo apt-get install libgstreamer1.0-0 gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-doc gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio libgstreamer-plugins-base1.0-dev&lt;/code&gt;&lt;br /&gt;
（参考：&lt;a href=&#34;https://gstreamer.freedesktop.org/documentation/installing/on-linux.html&#34;&gt;GStreamer Installing on Linux&lt;/a&gt;）&lt;/p&gt;
&lt;p&gt;上記のインストールが完了したら、次はラズパイカメラでgstreamerを扱うライブラリをインストールします。以下のコマンドを順番に実行してください。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ cd ~/Documents
$ git clone https://github.com/thaytan/gst-rpicamsrc.git
$ cd gst-rpicamsrc/
$ ./autogen.sh --prefix=/usr --libdir=/usr/lib/arm-linux-gnueabihf/
$ make
$ sudo make install
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;midiキーボードをpythonから扱う&#34;&gt;MIDIキーボードをPythonから扱う&lt;/h3&gt;
&lt;p&gt;MIDIキーボードからの入力を取得できるPythonライブラリをインストールします。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ sudo apt-get install libasound2-dev libjack-jackd2-dev&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;$ pip3 install mido python-rtmidi&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;プログラム部分の制作&#34;&gt;プログラム部分の制作&lt;/h2&gt;
&lt;h3 id=&#34;midiキーボードの確認&#34;&gt;MIDIキーボードの確認&lt;/h3&gt;
&lt;p&gt;必要なライブラリがインストールできたところで、まずはMIDIキーボードで2タッチ入力ができるか試してみましょう！&lt;br /&gt;
今回は、ソースコードが少し長いので、gitリポジトリからクローンします。&lt;br /&gt;
ディレクトリはあらかじめ適当なものを作成して移動するなどしておいてください。&lt;br /&gt;
&lt;code&gt;$ git clone https://github.com/ukkz/skygate.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;このリポジトリには、今回使う「SkyWay」に関するモジュールが含まれていますので、開発者モードでインストールします。&lt;br /&gt;
&lt;code&gt;$ pip3 install -e skygate/&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;$ sudo python3 skygate/setup.py develop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;クローンとモジュールのインストールができたら、MIDIキーボードから2タッチ入力ができるサンプルを、Python3で実行してみましょう。&lt;br /&gt;
このサンプルでは、外部MIDIインターフェースからのMIDIメッセージを解析して押されている鍵盤を特定し、鍵盤に割り当てられた数字をもとにして2タッチ入力変換をするものになっています。&lt;br /&gt;
&lt;code&gt;$ python3 skygate/2touch-input-by-midi.py&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;実行すると入力待ちになります。&lt;br /&gt;
上図を参考にして、&amp;rdquo;41128122##&amp;rdquo; と打ち込んでみてください。すると……&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;pi@raspberrypi:~ $ python3 skygate/2touch-input-by-midi.py
たいやき
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;このように表示されましたでしょうか？&lt;br /&gt;
&amp;ldquo;41128122&amp;rdquo; が、2タッチ入力では「たいやき」となり、また &amp;ldquo;##&amp;rdquo; が、ここでは「入力確定」の意味合いで使用するコマンドのようなものになっています。今回は、デバイス側からのメッセージ送信はこれを使って行いますのでぜひ覚えておいてください。&lt;/p&gt;
&lt;h3 id=&#34;skywayを使ってラズパイとブラウザ間でビデオチャット&#34;&gt;SkyWayを使ってラズパイとブラウザ間でビデオチャット&lt;/h3&gt;
&lt;p&gt;今回も、&lt;a href=&#34;https://dotstud.io/blog/howto-make-webrtc-pokeberu/&#34;&gt;以前にポケベルを作成した記事&lt;/a&gt;と同様に、通信部分で&lt;a href=&#34;https://webrtc.ecl.ntt.com&#34;&gt;SkyWay&lt;/a&gt;というWebRTCプラットホームを利用します。&lt;br /&gt;
本来WebRTCはP2P通信なので、サーバーは必要ありません。ただし、最初のノード間の情報交換（シグナリング）がかなり大変なので、このSkyWayのシステムを使って実現します。&lt;br /&gt;
また、WebRTCはもともとリッチなWebブラウザでしか動作しないものでしたが、ブラウザを介さずに動作させることのできる &lt;strong&gt;WebRTC Gateway&lt;/strong&gt; というものが開発されていて、無償で利用することができます。&lt;br /&gt;
詳細は以下をご覧ください。&lt;br /&gt;
&lt;a href=&#34;https://github.com/skyway/skyway-webrtc-gateway&#34;&gt;skyway/skyway-webrtc-gateway: &lt;em&gt;Experimental&lt;/em&gt; WebRTC Gateway for SkyWay&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;skywayのアカウント作成とapiキーの取得&#34;&gt;SkyWayのアカウント作成とAPIキーの取得&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://webrtc.ecl.ntt.com/signup.html&#34;&gt;新規登録 - SkyWay - Enterprise Cloud WebRTC Platform&lt;/a&gt;&lt;br /&gt;
上記のページの「Community Edition」にある「無料で新規登録」のボタンから、アカウントを新規に作成しましょう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;アカウントを作成したらログインして、上段の &amp;ldquo;Create new application&amp;rdquo; をクリックします。するとアプリケーション作成ページに飛びますので、以下のように入力します。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Application description: my midi chat client&lt;/code&gt;（一例。任意の名前でよいです）&lt;br /&gt;
&lt;code&gt;Available domains: localhost, 127.0.0.1, ukkz.github.io&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;ukkz.github.io&amp;rdquo; は、後ほどブラウザ上からビデオチャットを利用するときのための設定なので、一通り終わったら削除しておいて構いません。&lt;br /&gt;
入力完了したら緑色のCreateボタンをクリックして作成します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;作成後のページはこのように表示されているかと思います。&lt;br /&gt;
API Keyの欄に表示されている文字列をコピーしてどこかに控えておきましょう。&lt;/p&gt;
&lt;h4 id=&#34;webrtc-gatewayの取得と起動&#34;&gt;WebRTC Gatewayの取得と起動&lt;/h4&gt;
&lt;p&gt;Raspberry Piに戻り、以下のコマンドを実行して &amp;ldquo;WebRTC Gateway&amp;rdquo; をダウンロードします。&lt;br /&gt;
&lt;code&gt;$ wget https://github.com/skyway/skyway-webrtc-gateway/releases/download/0.0.4/gateway_linux_arm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;実行権限を付与してから、バックエンドで起動させます。&lt;br /&gt;
&lt;code&gt;$ chmod +x gateway_linux_arm ; sudo ./gateway_linux_arm &amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;raspberry-pi-とブラウザ間で接続&#34;&gt;Raspberry Pi とブラウザ間で接続&lt;/h4&gt;
&lt;p&gt;以下のコマンドでサンプルスクリプトを実行します。&lt;br /&gt;
&lt;code&gt;$ python3 skygate/sample.py keyboard xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;第1引数は「ピアID」といい、接続するデバイスに固有に割り振られるIDを自分で指定します。&lt;br /&gt;
今回は &amp;ldquo;keyboard&amp;rdquo; という値を使いましょう。&lt;br /&gt;
第2引数は「APIキー」です。先ほど取得した、ご自身のアプリのAPIキーを入力しましょう。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Peer created as keyboard: pt-529579b6-1b69-4f81-b213-3400d039a3da&lt;/code&gt;&lt;br /&gt;
以上のような結果が返ってきていれば、SkyWayと正常に接続しピアとして認識されています。&lt;/p&gt;
&lt;p&gt;では次に、このRaspberry Piと通信したいPCのブラウザなどから、以下のURLを開きましょう。&lt;br /&gt;
&lt;a href=&#34;https://ukkz.github.io/skygate/web/?apikey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;&gt;SkyWay P2P Video &amp;amp; Text Chat&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;こちらはWeb側のチャット画面となるページですが、URLは以下のようになっています。&lt;br /&gt;
&lt;code&gt;https://ukkz.github.io/skygate/web/?apikey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;このうち、&lt;code&gt;apikey=&lt;/code&gt;より右の部分を、ご自身で発行されたSkyWayのAPIキーに置き換えてもう一度アクセスしてみてください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;このような感じになっているかと思います。&lt;br /&gt;
このとき、Raspberry Pi側が正常にSkyWayに認識されていれば、左下のドロップダウンメニューに「keyboard」と表示が出ますので、その右横のcallボタンを押すと……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;Raspberry Pi側からの映像が大きく映し出されていれば、問題なく接続されています！&lt;/p&gt;
&lt;h3 id=&#34;ビデオチャットにmidiメッセージングを組み込もう&#34;&gt;ビデオチャットにMIDIメッセージングを組み込もう&lt;/h3&gt;
&lt;p&gt;ここまでくれば、あとはビデオチャットとテキストチャットを結合し、さらにMIDIキーボードの2タッチ入力でテキスト入力ができるようにすれば、「キーボードを弾きながらオンラインミーティングに参加できるマシン」のできあがりです！&lt;br /&gt;
こちらも、ソースコードが少し長くなるのでリポジトリの中にサンプルを置いておきました。これをそのまま利用してください。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ python3 skygate/video-and-text-by-midi.py keyboard xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;こちらのコードでは先ほどのMIDIキーボードの2タッチ入力に加え、WebRTCで着信した相手に対してその入力テキストを送り返すようになっています。&lt;br /&gt;
これを実行すると、以下のようになります。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;2タッチ入力で「おつかれさまです！」と入力したのですが、最後だけ間違えて「おつかれさまですW」になってしまいました……　慣れないと難しいですね。&lt;br /&gt;
このまま送信すると、ブラウザ側では以下のようになります。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/250/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ブラウザ側からも文字列が表示されました！&lt;br /&gt;
もちろん、返事をすることもできます。ここでは「進捗どう？」とブラウザ側から送りましたが、すでに表示されているとおり、Raspberry Pi側にもちゃんと送られていることが確認できます。&lt;/p&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;WebRTCを使うと、映像・音声のようなメディアストリームのほか、バイナリにすることができるデータならなんでも送ることができます！　また、本来はWebブラウザ同士でしか使えなかったこの技術が、SkyWayのGatewayによってRaspberry PiのようなIoTデバイスでも実現できるようになったため、さらにものづくりの幅が広がります。少し難しいところもありますが、ぜひともWebRTCによる新しい可能性を感じていただければと思います。&lt;/p&gt;</description></item><item><title>【シンセ魔改造】仕事サボってバンド演奏しながら会社のミーティングに無理やり参加してみた【スタジオ編】</title><link>https://dotstud.io/blog/meeting-via-webrtc-piano/</link><pubDate>Mon, 13 May 2019 00:00:00 +0700</pubDate><guid>https://dotstud.io/blog/meeting-via-webrtc-piano/</guid><description>
&lt;p&gt;こんにちは、ものづくり担当うこです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;最近、趣味でバンドを始めました。&lt;br /&gt;
なんとなくキーボードを担当しています。&lt;br /&gt;
いやー、音楽っていいものですね。&lt;br /&gt;
仕事のことを忘れてノリノリになっちゃいますね！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;こちらはギター担当の自給力さんです。&lt;br /&gt;
彼はパワー自慢なので、とても力強い演奏をしてくれるんですよ。&lt;br /&gt;
練習中でも、ヒートアップしてくると周りが見えなくなるぐらい熱いプレイを見せてくれる、素敵なメンバーです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;さて、セッティングも終わったし、そろそろ合わせ練習を始めますか！&lt;br /&gt;
3、2、1、ハイ！！&lt;/p&gt;
&lt;p&gt;………&lt;br /&gt;
……&lt;br /&gt;
…&lt;/p&gt;
&lt;h2 id=&#34;何か忘れているような&#34;&gt;何か忘れているような&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;あれ、スマホが鳴ってるな……&lt;br /&gt;
せっかくノッてきたのに。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;あ！！！！！そういえば！！！！！&lt;br /&gt;
今日ミーティング入ってた気がするぞ……！！&lt;br /&gt;
やばいやばい、完全に忘れてスタジオに来てしまった……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;そういえば、この前もミーティングすっぽかしちゃって、次やらかしたらクビだぞ！！　って社長のびすけに言われたばかりなんだった……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ああ、自給力さん、完全にスイッチ入ったな。&lt;br /&gt;
彼はこうなると、少なくとも1時間はもう戻ってこれなくなっちゃうんだよな。&lt;br /&gt;
どうしたものか……&lt;/p&gt;
&lt;p&gt;………&lt;br /&gt;
……&lt;br /&gt;
…&lt;/p&gt;
&lt;h2 id=&#34;ミーティングをサボらずにバンド練習を続けたい&#34;&gt;ミーティングをサボらずにバンド練習を続けたい&lt;/h2&gt;
&lt;p&gt;＼ｶﾗﾝｶﾗﾝ／&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;しまった、社会人なら必ずポケットに1人1セットは入っていると言われるラズベリーパイと専用カメラを、焦った拍子に落としてしまった。踏まなくてよかった。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;（ハッ！　まてよ、このスタジオはWiFi完備だったはず……　そして今日のミーティングはオンラインで、まだもう少し時間あるじゃないか！　これは、いける！）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;（さらにノってきた自給力さん）&lt;/p&gt;
&lt;p&gt;〜　30分後　〜&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/12.png&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;できたぞ！！！！&lt;/strong&gt;&lt;br /&gt;
予備で持ってきていたシンセを改造して……&lt;br /&gt;
&lt;strong&gt;バンドをプレイしつつオンラインでミーティングにコミットできるソリューション……ッ！！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;これは、ラズパイにつないだカメラの映像を、Webブラウザの画面にWebRTCの&lt;a href=&#34;https://webrtc.ecl.ntt.com&#34;&gt;SkyWay&lt;/a&gt;を使って送信できる機能がついたシンセなのだ！&lt;br /&gt;
なに？　バンド演奏してたら、音がうるさすぎてマトモに会話できないって？　いーや問題ない！&lt;br /&gt;
このシンセは、打鍵のたびに &lt;strong&gt;「MIDI信号」&lt;/strong&gt; を発することができるのだけど、これをテキストに変換して映像と同時に送信できるような仕組みにしたのだ！　つまり、 &lt;strong&gt;音を出しながらもテキストデータを送信することができる！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;さて、マイクは壊れている、ということにして、映像とテキストチャットだけを送り、あとは自給力さんが映らないようにすれば、まさか仕事をすっぽかしてるなんてバレないでしょう。僕ってば天才！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/14.png&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;そうこうしてるうちにミーティング時間だ！&lt;br /&gt;
演奏しつつ参加するぞ〜〜&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/15.png&#34; alt=&#34;15&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;カメラがキーボードの端にあるので、身体の中心を少しずらして目線を合わせて……&lt;br /&gt;
文字列の送信は、キーボードの1オクターブ・12鍵を、「ポケベルの2タッチ入力」のようにして扱うことで行います。&lt;br /&gt;
向こうからの映像は見えないけど、スマホからラズベリーパイにSSH接続することで、向こうから送られたテキストなら確認可能！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/16.png&#34; alt=&#34;16&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
お疲れ様です！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
お疲れ。あれ、音聞こえてないけど。なんでテキストメッセージ？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
マイクの調子が悪いんです。すいませんがテキストで送りますんで……
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
あっそう。無理せずに電話かけてくれてもいいよ
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（そっちのが楽だけどかけたらバレる……汗）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/17.png&#34; alt=&#34;17&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
おいおい〜〜さっきから音が変だぞ？　大丈夫か？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ﾍｱｯすみません！！　ちょっとここのフレーズが難しくて！（自給力さんの自己陶酔タイムが切れた！　まずいまずい、しかもなんか近い！）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ああ、ここは俺の超絶技巧が光るところだから、お前はそんなに頑張らなくていいぞ。でももう少し真剣に頼むよ
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
はいぃ……（危なかった、バレてないバレてない）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/18.png&#34; alt=&#34;18&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
〜〜ということで、次回イベントを企画したいんだけど……　聞こえてる？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
だっ大丈夫です！（大丈夫じゃない）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
うおおおーッノッてきたぜッッッ！！！（ｼﾞｬｶｼﾞｬｶｼﾞｬｰﾝ）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（ﾋｯ……ここは演奏とチャットを同時に頑張って耐えるんだ……！）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;………&lt;br /&gt;
……&lt;br /&gt;
…&lt;/p&gt;
&lt;h2 id=&#34;なんとか乗り越えられそうだ&#34;&gt;なんとか乗り越えられそうだ&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/19.png&#34; alt=&#34;19&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
……じゃ、今度のイベントはそういう感じになるから。お願いできるね？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
もちろんです！（よし、終わりが見えてきたぞ）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（黙々とロックンロールしている）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（自給力さんも気づいてないな……　でもさらに近づいてきててなんか怖い）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
あ、そういえばさ、別件で……
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ｱｯﾊｲ！！（まだあるんかーい！）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/20.png&#34; alt=&#34;20&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/sugaya.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
♪♪♪♪（激しく頭を振りながらプレイ）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_u&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/uko2.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;うこ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（あっ自給力さんそんなに近寄らないで……ちょ、ちょっ…… &lt;b&gt;アッ、アーッ！！！！！！&lt;/b&gt;　ｺﾞﾝｯ）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/21.png&#34; alt=&#34;21&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/249/22.png&#34; alt=&#34;22&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;結局バレてしまいましたが&#34;&gt;結局バレてしまいましたが&lt;/h2&gt;
&lt;p&gt;次回は、今回作った「演奏と同時にWebRTCでビデオ・テキストチャットができるシンセ」の作り方を紹介していきます！&lt;br /&gt;
ミーティングをサボるため以外にも、映像・歌・演奏MIDIデータを同時にリアルタイム配信するなどの（まともな）用途にも使えますので、気になった方はぜひ続きもご覧くださいね！&lt;/p&gt;
&lt;style&gt;
.dialogue {
padding: 10px;
display: table;
}
.image_s, .image_n, .image_u {
width: 75px;
height: 75px;
margin-right: 10px;
display: table-cell;
vertical-align: middle;
}
.image_s img {
border-radius: 50%;
border: 2px solid red;
}
.image_n img {
border-radius: 50%;
border: 2px solid blue;
}
.image_u img {
border-radius: 50%;
border: 2px solid green;
}
.name {
font-weight: bold;
text-align: center;
}
.text {
display: table-cell;
padding: 0;
vertical-align: middle;
padding-left: 20px;
}
&lt;/style&gt;</description></item><item><title>光るサンドバッグ作って◯-monsterの気分を感じたい！</title><link>https://dotstud.io/blog/shining-sandbag-like-bmonster/</link><pubDate>Sun, 14 Apr 2019 00:00:00 +0000</pubDate><guid>https://dotstud.io/blog/shining-sandbag-like-bmonster/</guid><description>
&lt;p&gt;プログラミングをしていると運動不足になりがちです。&lt;/p&gt;
&lt;p&gt;何か作っている時のストレスもあります。（なんで動かないんだーってw）&lt;/p&gt;
&lt;p&gt;ストレス発散したい！&lt;/p&gt;
&lt;p&gt;手っ取り早くストレス発散して運動ができるのは何でしょう、、サンドバック殴ることですよね！&lt;br /&gt;
（この辺りから、B-◯onsterっぽくしたい欲が出てきます笑）&lt;/p&gt;
&lt;p&gt;サンドバックを買って、叩く毎に光ったり音鳴ったりしたら良い気晴らしになるんじゃないかと。&lt;/p&gt;
&lt;p&gt;ということで、&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;光るサンドバッグを作ってB-Mons◯erに行った感じを味わいたい！！！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ではでは、作っていきましょう&lt;/p&gt;
&lt;h2 id=&#34;完成物のイメージ&#34;&gt;完成物のイメージ&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;パンチしたら全体が光る。&lt;/em&gt;&lt;/strong&gt;
→この記事では、加速度センサを使って音を鳴らすまで作ってみます。仕様としては以下のことができたら達成とします。&lt;/p&gt;
&lt;p&gt;・サンドバックを叩いたら、音が出る&lt;br /&gt;
・５回叩いたら、音が変わる。&lt;br /&gt;
・10回叩いたら、音楽が鳴る。&lt;/p&gt;
&lt;h2 id=&#34;必要な物&#34;&gt;必要な物&lt;/h2&gt;
&lt;p&gt;・サンドバック&lt;br /&gt;
・microbit&lt;br /&gt;
・電子ブザー&lt;br /&gt;
・Micro USB Micro-B&lt;br /&gt;
・ワニ口クリップ&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;サンドバックを作ってみる&#34;&gt;サンドバックを作ってみる&lt;/h2&gt;
&lt;p&gt;まずは、サンドバックを作っていきましょう。&lt;br /&gt;
これを買ってみました（&lt;a href=&#34;http://urx.space/U1ry）&#34;&gt;http://urx.space/U1ry）&lt;/a&gt;&lt;br /&gt;
開けけてみて思ったのですが、なかなかしっかりしてて良い感じのサンドバックです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;中身を確認して、作っていきましょう！！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;水を使って土台を作るタイプなので、屋外でやりましょう（じゃないと母ちゃんに怒られますよ笑）&lt;br /&gt;
＊ペットボトルたちは猫避けではなく、土台に使う水です。&lt;br /&gt;
凝固剤も入っていて、なかなか本格的！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;土台ができたら、膨らましていきましょう！&lt;br /&gt;
（なんか、いかがわしい形と動きをしますが、、下ネタご了承ください）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;良い感じに膨らんだらサンドバックは完成です&lt;br /&gt;
センサに移りましょう&lt;/p&gt;
&lt;h2 id=&#34;センサを作ってみる&#34;&gt;センサを作ってみる&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;・micro softアカウントを作ってサインイン&lt;/strong&gt;
microbitはBBCが作ってる教育用のマイコンでして、&lt;br /&gt;
マイクロソフトアカウントが必要なので、持ってない人は作りましょう。&lt;br /&gt;
ここから作れます。&lt;a href=&#34;https://microbit.org/ja/guide/&#34;&gt;https://microbit.org/ja/guide/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;・make code エディターでコードを編集します。&lt;/strong&gt;
microbitにコードを書き込むには３つの方法があります。&lt;/p&gt;
&lt;p&gt;JSやPythonで書くこともできますが、一番簡単なのはmake code エディターのブロックで入力することです。&lt;br /&gt;
このエディターを使えば、こんな感じで簡単にコードを書くことができます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ブロックの意味はJSを書いたことなくてもわかるかも。&lt;/p&gt;
&lt;p&gt;マイプロジェクトから新しいプロジェクトを開いて作っていきます。&lt;/p&gt;
&lt;p&gt;「ずっと」のブロックをここでは2つ作ります。&lt;br /&gt;
　・カウントする「ずっと」&lt;br /&gt;
　・音を鳴らすための「ずっと」&lt;br /&gt;
＊１つにまとめるのもできると思いますが、わかり安かったので分けました。&lt;/p&gt;
&lt;p&gt;カウントする「ずっと」の方に、accXという変数を作り、加速度Xという入力ブロックを追加します。&lt;br /&gt;
そして、「もし」ブロックで、accXが500未満であればLEDが点灯し、音楽が鳴るブロックにしていきます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;音を鳴らすための「ずっと」ブロックを作っていきます。&lt;br /&gt;
まず、「最初だけ」ブロックに変数カウントを0にして置いておきます。&lt;br /&gt;
そして、カウントする「ずっと」の方に「もし」ブロックを入れて5回いった時と10回いった時にLEDの点灯と音楽が鳴るようにします。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;・microbitとブザーを繋げます&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/12.png&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;おお、っぽくなってきました！&lt;/p&gt;
&lt;p&gt;そして、サンドバックに貼り付ければ、、、&lt;/p&gt;
&lt;h2 id=&#34;できました&#34;&gt;できました！！&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/248/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;・デモ動画&lt;/strong&gt;
&lt;a href=&#34;http://www.youtube.com/watch?v=it0159iWUrQ&#34;&gt;&lt;img src=&#34;http://img.youtube.com/vi/it0159iWUrQ/0.jpg&#34; alt=&#34;IMAGE ALT TEXT HERE&#34; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;あとがき-挫折の数々&#34;&gt;[あとがき] 挫折の数々&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;・最初のイメージを捨てました&lt;/strong&gt;
最初は単純に光るだけのサンドバックデバイスを作ろうと思っていました。でも、プロトタイプを作る際にLEDが光るだけだと、サンドバックを叩いた時にLEDの光を確認できないんですよねww&lt;/p&gt;
&lt;p&gt;なので、一緒に音も出るように変更しました。&lt;br /&gt;
そのおかげで、ゲーム性が高くなって良い感じになりました。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;・使う物を変えました&lt;/strong&gt;
最初、microbitではなくwio nodeとグローブで作ろうとしてました。&lt;br /&gt;
でも、「加速度センサ使ってプロトタイプ作るだけならmicrobitで良いんじゃね？」とのびすけしゃちょーにアドバイスもらい試しに使うことにしました。&lt;/p&gt;
&lt;p&gt;結局、変えてみてよかったです！&lt;br /&gt;
microbitはものすごく使いやすい。デプロイの仕方も編集したブロックのhexファイル（microbit用のファイル）をmicrobitのフォルダに入れるだけでできます。&lt;br /&gt;
全部のプログラミングがこうなれば良いのに、、って思うぐらいプログラミングしやすかったです。&lt;/p&gt;</description></item><item><title>【114106→ｱｲｼﾃﾙ】平成の最後に最新のWebRTCでポケベルをつくってみた【作り方編】</title><link>https://dotstud.io/blog/howto-make-webrtc-pokeberu/</link><pubDate>Fri, 29 Mar 2019 00:00:00 +0700</pubDate><guid>https://dotstud.io/blog/howto-make-webrtc-pokeberu/</guid><description>
&lt;p&gt;こんにちは、ものづくり担当うこです。
&lt;a href=&#34;https://dotstud.io/blog/latest-webrtc-pokeberu-end-of-heisei/&#34;&gt;前回の記事&lt;/a&gt;では、最新技術でポケベルを作ってみた！　というお話と、Webから2タッチ入力ができる公衆電話アプリの紹介をさせていただきました。&lt;/p&gt;
&lt;p&gt;2回目の今回は「制作編」ということで、パーツさえ用意できれば誰でも作れてしまうポケベルの作り方を紹介したいと思います！&lt;/p&gt;
&lt;h2 id=&#34;ハードウェア部分の制作&#34;&gt;ハードウェア部分の制作&lt;/h2&gt;
&lt;h3 id=&#34;必要なもの&#34;&gt;必要なもの&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Raspberry Pi 3B+&lt;/li&gt;
&lt;li&gt;マイクロUSBケーブル&lt;/li&gt;
&lt;li&gt;マイクロSDカード（8GB以上）&lt;/li&gt;
&lt;li&gt;GrovePi+&lt;/li&gt;
&lt;li&gt;Grove Buzzer&lt;/li&gt;
&lt;li&gt;Grove LCD RGB Backlight&lt;/li&gt;
&lt;li&gt;有線LANで作業用PCと接続できる環境（セットアップに使います）&lt;/li&gt;
&lt;li&gt;テープ（ガムテープやセロハンテープ、マスキングできれば何でも可）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;前提として、最低限のCLI（ターミナル）操作ができる方を対象として記事を書いています。予めご了承ください。&lt;/p&gt;
&lt;h3 id=&#34;組み立て&#34;&gt;組み立て&lt;/h3&gt;
&lt;h4 id=&#34;grovepi-をraspberry-piとドッキングする&#34;&gt;GrovePi+をRaspberry Piとドッキングする&lt;/h4&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ガムテープやセロテープなどで、Raspberry PiのUSB端子の上部を図のように「マスキング」します。&lt;br /&gt;
これは、上に乗せるGrovePi+の基板が直接触れることによるショートを防止するためです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;Raspberry Piの端子にGrovePi+のソケットを上から挿し込みます。&lt;br /&gt;
このとき互いの端子の長さが異なりますが、写真のようにカド部分にあわせるようにしてください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;斜め上から見るとこのようになります。&lt;/p&gt;
&lt;h4 id=&#34;groveのrgb-lcdとブザーを接続する&#34;&gt;GroveのRGB LCDとブザーを接続する&lt;/h4&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;Groveのブザーを「D8」と書かれている端子にGroveケーブルで接続します。&lt;br /&gt;
また、Grove LCD RGB BacklightをI2Cと書かれている端子に接続します。こちらはI2C接続なので、I2Cと記述がある端子ならどこでもかまいませんが、写真ではI2C-1という端子に接続しています。&lt;/p&gt;
&lt;h2 id=&#34;ソフトウェアのインストールと設定&#34;&gt;ソフトウェアのインストールと設定&lt;/h2&gt;
&lt;h3 id=&#34;grovepi-向けos-raspbian-for-robots&#34;&gt;GrovePi+向けOS「Raspbian For Robots」&lt;/h3&gt;
&lt;p&gt;このパートは以下のチュートリアルの概略になります。&lt;br /&gt;
&lt;a href=&#34;https://www.dexterindustries.com/GrovePi/get-started-with-the-grovepi/&#34;&gt;Get Started with GrovePi&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;マイクロsdカードへのインストール&#34;&gt;マイクロSDカードへのインストール&lt;/h4&gt;
&lt;p&gt;GrovePi+を動作させられるソフトウェアがプリインストールされたOSが格納されたマイクロSDカードを作成します。&lt;/p&gt;
&lt;p&gt;公式サイトによると、すでにインストール済みのRaspbianも後から追加でGrovePi+用のソフトウェアがインストールできるとのことですが、記事執筆時点の最新ソフトウェアではうまく動作しませんでした。&lt;br /&gt;
すでにRaspbianを使われている方も、お手数ではありますが新しいマイクロSDカードを入手してお試しください。&lt;/p&gt;
&lt;p&gt;まず、以下のページからOSイメージファイルを入手します。&lt;br /&gt;
&lt;a href=&#34;https://sourceforge.net/projects/dexterindustriesraspbianflavor/&#34;&gt;Raspbian For Robots by Dexter Industries download | SourceForge.net&lt;/a&gt;&lt;br /&gt;
圧縮ファイルになっていますので、ダウンロード完了後に解凍しておきましょう。&lt;/p&gt;
&lt;p&gt;このイメージファイルをマイクロSDカードに書き込みます。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;作業PCがWindowsの方は以下を参考に進めてください。&lt;br /&gt;
&lt;a href=&#34;https://www.1ft-seabass.jp/memo/2018/07/23/raspbian-install-201807-memo/&#34;&gt;最近のRaspberry Piイメージ（Raspbian）をインストールするメモ - 1ft-seabass.jp.MEMO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;作業PCがMacの方は以下を参考に進めてください。&lt;br /&gt;
&lt;a href=&#34;https://qiita.com/py_iK/items/9070fc58f69d8c063e44&#34;&gt;MacでRaspberryPi入門 - Qiita&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;インストールが完了したら、RaspberryPiに挿入して電源を接続し起動させます。&lt;br /&gt;
LANケーブルを使い、Raspberry Piと作業用PCを接続します。最近の小型PCはLANポートがついていないことも多いため、その際はUSBイーサネットアダプタなどを使うとよいでしょう。&lt;/p&gt;
&lt;p&gt;接続が完了し、Raspberry PiとGrovePi+のPWR LEDが点灯していることを確認したら、作業用PCブラウザのURL入力欄に&lt;br /&gt;
&lt;code&gt;http://dex.local/&lt;/code&gt;&lt;br /&gt;
と入力して移動します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ここまででうまくインストールと接続が完了していれば、このような画面が表示されます。&lt;br /&gt;
ブラウザ中段左側の、&amp;rdquo;VNC&amp;rdquo; をクリックすると、ブラウザからRaspberry Piのデスクトップ画面へと直接アクセスすることができます。&lt;/p&gt;
&lt;h4 id=&#34;設定とシステムのアップデート&#34;&gt;設定とシステムのアップデート&lt;/h4&gt;
&lt;p&gt;&amp;ldquo;VNC&amp;rdquo; をクリックします。もしもパスワードが求められたら、&amp;rdquo;robots1234&amp;rdquo; と入力しましょう。&lt;br /&gt;
Raspberry Piの本体にWiFiが内蔵されているモデル以外をお使いの場合は、WiFiドングル（USB接続の子機）を接続します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;右上に上下の矢印2つのアイコンをクリックして、WiFiに接続しましょう。&lt;br /&gt;
有線LANによる接続と別でWiFiに接続していないと、アップデートやSkyWayへの接続などができません。&lt;/p&gt;
&lt;p&gt;次にソフトウェアのアップデートを行います。&lt;br /&gt;
&amp;ldquo;DI Software Update&amp;rdquo; というアイコンをダブルクリックして開き、しばらく待つと以下の画面になります。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;以下の作業でダイアログが何回か出ますがすべてOKをクリックしてください。&lt;br /&gt;
ドロップダウンメニューから &amp;ldquo;GrovePi&amp;rdquo; を選択し、&amp;rdquo;Update Firmware&amp;rdquo; をクリックします。&lt;br /&gt;
それが完了したら、&amp;rdquo;Update Dexter Software&amp;rdquo; のボタンもクリックしてアップデートを行います。&lt;/p&gt;
&lt;p&gt;ターミナルウインドウが出てアップデートが進行していきますので、少し時間がかかりますが終わるまで気長に待ちましょう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ターミナルがこのような画面になったら閉じて、Raspberry Piを再起動します。&lt;br /&gt;
再起動後は同様の手順でブラウザからデスクトップが表示できるところまで進めて、このデスクトップからターミナルを開きましょう。&lt;br /&gt;
あるいは、SSHが使い慣れている方であれば、作業用PCから&lt;br /&gt;
&lt;code&gt;$ ssh pi@dex.local&lt;/code&gt;&lt;br /&gt;
で直接CLI操作をすることも可能ですので、使いやすいほうをお試しください。&lt;/p&gt;
&lt;h2 id=&#34;ポケベルのプログラム部分の制作&#34;&gt;ポケベルのプログラム部分の制作&lt;/h2&gt;
&lt;h3 id=&#34;groveのlcdとブザーを扱う&#34;&gt;GroveのLCDとブザーを扱う&lt;/h3&gt;
&lt;p&gt;さて、ここからはポケベルを実際に動作させるためのプログラムを作成していきます！&lt;br /&gt;
といっても、全てコピー&amp;amp;ペーストで作成していただけますのでご安心を。&lt;/p&gt;
&lt;p&gt;まずは適当なディレクトリを作成して移動します。&lt;br /&gt;
&lt;code&gt;$ mkdir ~/pocketbell; cd ~/pocketbell&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;LCDディスプレイを簡単に扱えるようにしてくれるモジュールをコピーします。&lt;br /&gt;
&lt;code&gt;$ cp ~/Desktop/GrovePi/Software/Python/grove_rgb_lcd/grove_rgb_lcd.py ./&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;同じディレクトリに、テスト用スクリプトを作成しましょう。&lt;br /&gt;
&lt;code&gt;$ vi grove_test.py&lt;/code&gt;&lt;br /&gt;
ここではviエディタを使っていますが、vimやemacsなど、編集のできるものであれば何でもかまいません。&lt;br /&gt;
編集画面になったら、以下のソースコードをコピー&amp;amp;ペーストして保存してください。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ファイル:grove_test.py&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;import time, grovepi
from grove_rgb_lcd import *
buzzer = 8
grovepi.pinMode(buzzer, &amp;quot;OUTPUT&amp;quot;)
try:
setRGB(200, 200, 200)
setText(&amp;quot;Hello PocketBell&amp;quot;)
grovepi.digitalWrite(buzzer, 1)
time.sleep(1)
grovepi.digitalWrite(buzzer, 0)
except KeyboardInterrupt:
grovepi.digitalWrite(buzzer, 0)
except IOError:
print (&amp;quot;Error&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;保存したら、python3で実行してみましょう。&lt;br /&gt;
&lt;code&gt;$ python3 grove_test.py&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ブザーからビープ音が鳴ると同時に、LCDに &amp;ldquo;Hello PocketBell&amp;rdquo; と表示されていれば、GroveがRaspberry PiのPythonから正しく扱えていることがわかります。&lt;/p&gt;
&lt;h3 id=&#34;skywayと接続する&#34;&gt;SkyWayと接続する&lt;/h3&gt;
&lt;p&gt;今回のポケベル制作における通信部分は、&lt;a href=&#34;https://webrtc.ecl.ntt.com&#34;&gt;SkyWay&lt;/a&gt;というWebRTCプラットホームを利用します。&lt;br /&gt;
本来WebRTCはP2P通信なので、サーバーは必要ありません。ただし、最初のノード間の情報交換（シグナリング）がかなり大変なので、このSkyWayのシステムを使って実現します。&lt;br /&gt;
また、WebRTCはもともとリッチなWebブラウザでしか動作しないものでしたが、ブラウザを介さずに動作させることのできる &lt;strong&gt;WebRTC Gateway&lt;/strong&gt; というものが開発されていて、無償で利用することができます。&lt;br /&gt;
詳細は以下をご覧ください。&lt;br /&gt;
&lt;a href=&#34;https://github.com/skyway/skyway-webrtc-gateway&#34;&gt;skyway/skyway-webrtc-gateway: &lt;em&gt;Experimental&lt;/em&gt; WebRTC Gateway for SkyWay&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;skywayのアカウント作成とapiキーの取得&#34;&gt;SkyWayのアカウント作成とAPIキーの取得&lt;/h4&gt;
&lt;p&gt;&lt;a href=&#34;https://webrtc.ecl.ntt.com/signup.html&#34;&gt;新規登録 - SkyWay - Enterprise Cloud WebRTC Platform&lt;/a&gt;&lt;br /&gt;
上記のページの「Community Edition」にある「無料で新規登録」のボタンから、アカウントを新規に作成しましょう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;アカウントを作成したらログインして、上段の &amp;ldquo;Create new application&amp;rdquo; をクリックします。するとアプリケーション作成ページに飛びますので、以下のように入力します。　　&lt;/p&gt;
&lt;p&gt;Application description: my pocketbell（一例。任意の名前でよいです）&lt;br /&gt;
Available domains: localhost, 127.0.0.1, ukkz.github.io&lt;/p&gt;
&lt;p&gt;&amp;ldquo;ukkz.github.io&amp;rdquo; は、後ほど公衆電話アプリからこのアプリケーションを利用するときのための設定なので、一通り終わったら削除しておいて構いません。&lt;br /&gt;
入力完了したら緑色のCreateボタンをクリックして作成します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/12.png&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;作成後のページはこのように表示されているかと思います。&lt;br /&gt;
API Keyの欄に表示されている文字列をコピーしてどこかに控えておきましょう。&lt;/p&gt;
&lt;h4 id=&#34;webrtc-gatewayの取得と起動&#34;&gt;WebRTC Gatewayの取得と起動&lt;/h4&gt;
&lt;p&gt;Raspberry Piに戻り、以下のコマンドを実行して &amp;ldquo;WebRTC Gateway&amp;rdquo; をダウンロードします。&lt;br /&gt;
&lt;code&gt;$ wget https://github.com/skyway/skyway-webrtc-gateway/releases/download/0.0.4/gateway_linux_arm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;実行権限を付与してから、バックエンドで起動させます。&lt;br /&gt;
&lt;code&gt;$ chmod +x gateway_linux_arm ; sudo ./gateway_linux_arm &amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;gatewayをpythonで扱えるようにするモジュールの取得&#34;&gt;GatewayをPythonで扱えるようにするモジュールの取得&lt;/h4&gt;
&lt;p&gt;今回、WebRTC Gatewayを扱うにあたり、簡単なモジュールを作成しました。&lt;br /&gt;
Gitリポジトリをローカルにクローンします。&lt;br /&gt;
&lt;code&gt;$ git clone https://github.com/ukkz/skygate.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;未完成のモジュールですので、今回は開発者モードでインストールします。&lt;br /&gt;
&lt;code&gt;$ pip3 install -e skygate/&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;$ sudo python3 skygate/setup.py develop&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;skywayへの接続テスト&#34;&gt;SkyWayへの接続テスト&lt;/h4&gt;
&lt;p&gt;以下のコマンドでサンプルスクリプトを実行します。&lt;br /&gt;
&lt;code&gt;$ python3 skygate/sample.py bell-0000 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;第1引数は「ピアID」といい、接続するデバイスに固有に割り振られるIDを自分で指定します。&lt;br /&gt;
今回は &amp;ldquo;bell-0000&amp;rdquo; という値を使いましょう。&lt;br /&gt;
第2引数は「APIキー」です。先ほど取得した、ご自身のアプリのAPIキーを入力しましょう。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Peer created as bell-0000: pt-829aa04e-449d-44a1-94f8-03481741cc5c&lt;/code&gt;&lt;br /&gt;
以上のような結果が返ってきていれば、SkyWayと正常に接続しピアとして認識されています。&lt;br /&gt;
Ctrl+C でサンプルスクリプトを終了させましょう。&lt;/p&gt;
&lt;h3 id=&#34;skyway接続とgroveを組み合わせる&#34;&gt;SkyWay接続とGroveを組み合わせる&lt;/h3&gt;
&lt;p&gt;以下のソースコードをコピー&amp;amp;ペーストし &amp;ldquo;pocketbell.py&amp;rdquo; という名前のファイルに保存してください。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ファイル:pocketbell.py&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python
import time, sys, skygate, grovepi
from grove_rgb_lcd import *
buzzer = 8
grovepi.pinMode(buzzer, &amp;quot;OUTPUT&amp;quot;)
if len(sys.argv) &amp;gt;= 3:
peer_id = str(sys.argv[1])
api_key = str(sys.argv[2])
try:
peer = skygate.Peer(peer_id, api_key)
except Exception as e:
print(e)
setRGB(100, 0, 0)
quit()
else:
print(&#39;Peer created as &#39;+peer.id+&#39;: &#39;+peer.token)
setRGB(0, 100, 0)
try:
while True:
for data in peer.getDataConnections():
if not data.getQueue().empty():
mes = data.getQueue().get().decode()
setText(mes)
setRGB(200, 200, 200)
print(mes)
grovepi.digitalWrite(buzzer, 1)
time.sleep(.1)
grovepi.digitalWrite(buzzer, 0)
time.sleep(2)
setRGB(0, 100, 0)
except KeyboardInterrupt:
try:
peer.close()
except Exception as e:
print(e)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;接続テストのときと同様、ピアIDとAPIキーを指定して実行します。&lt;br /&gt;
ただし、ここではピアIDは &amp;ldquo;bell-0001&amp;rdquo; にしましょう。&lt;br /&gt;
&lt;code&gt;$ python3 pocketbell.py bell-0001 xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;さて、ここまででポケベルは完成で、上記のプログラムを実行することで待ち受け状態となります。&lt;br /&gt;
ではさっそく、公衆電話からデータを送ってみましょう！&lt;/p&gt;
&lt;h2 id=&#34;web上の公衆電話から数字を送信しよう&#34;&gt;Web上の公衆電話から数字を送信しよう&lt;/h2&gt;
&lt;p&gt;前回の記事で紹介した、Webから使えて自作ポケベルと通信ができる公衆電話を使います。&lt;br /&gt;
&lt;a href=&#34;https://ukkz.github.io/skyway-payphone/?apikey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&#34;&gt;PayPhone for SkyWay PocketBell&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;この公衆電話のURLは以下のようになっています。&lt;br /&gt;
&lt;code&gt;https://ukkz.github.io/skyway-payphone/?apikey=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;このうち、&lt;code&gt;apikey=&lt;/code&gt;より右の部分を、ご自身で発行されたSkyWayのAPIキーに置き換えてもう一度アクセスしてみてください。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/13.png&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;コインの投入口付近をクリックして、画面上の電話機のディスプレイが &amp;ldquo;CALL&amp;rdquo; になれば問題なくSkyWayに接続されています。&lt;br /&gt;
これが確認できたら、以下の順番で操作を進めてみてください。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;ldquo;0001&amp;rdquo;（ポケベルのピアIDであるbell-xxxxのxxxxに相当する4桁の数字）&lt;/li&gt;
&lt;li&gt;電話機ディスプレイが &amp;ldquo;0001&amp;rdquo; 表示に変化&lt;/li&gt;
&lt;li&gt;好きな数字を2〜3文字ほど打ち込んでみる&lt;/li&gt;
&lt;li&gt;受話器を置く部分をクリックして終話する&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/247/14.gif&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ポケベルを確認してみましょう。&lt;br /&gt;
ビープ音とともに、自分で打ち込んだ数字がGrove LCDの画面上に表示されましたでしょうか？&lt;br /&gt;
今回は簡略版ですので、2タッチ入力で送ったカタカナ文字は表示できないという点がありますが、通信の難しさを意識することなくP2Pでのデータ送受信を体験いただけたかと思います。&lt;/p&gt;
&lt;p&gt;ちなみに、前半の紹介記事で作っていたポケベルの動作のようすは以下のようになります。&lt;/p&gt;
&lt;div style=&#34;margin:auto&#34;&gt;
&lt;blockquote class=&#34;twitter-tweet tw-align-center&#34; data-conversation=&#34;none&#34; data-lang=&#34;ja&#34;&gt;&lt;p lang=&#34;ja&#34; dir=&#34;ltr&#34;&gt;着信音作っただけでまだ通信してなかった &lt;a href=&#34;https://twitter.com/hashtag/%E3%83%9D%E3%82%B1%E3%83%99%E3%83%AB?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#ポケベル&lt;/a&gt; ちゃんとメッセージ受信できるようにしました📟送信側の公衆電話はWebで動きます☎️ 2タッチ入力対応・WebAudioでDTMF発音・WebRTCでデータ送信してますよん &lt;a href=&#34;https://t.co/NKauF6wd6E&#34;&gt;https://t.co/NKauF6wd6E&lt;/a&gt; &lt;a href=&#34;https://t.co/e4eOLBYbU1&#34;&gt;pic.twitter.com/e4eOLBYbU1&lt;/a&gt;&lt;/p&gt; うこ (@harmoniko) &lt;a href=&#34;https://twitter.com/harmoniko/status/1100371782152773633?ref_src=twsrc%5Etfw&#34;&gt;2019年2月26日&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;WebRTCはWebブラウザ間でリアルタイムなデータの送受信を扱える最新の規格として普及していますが、ブラウザ以外のIoTデバイスでもこんなに簡単に扱えてしまう技術が登場しています。&lt;br /&gt;
今回利用したSkyWayというサービスはJavaScriptのSDKが無償配布されていて、Webブラウザ上で動作するWebRTCアプリケーションを誰でも気軽に作成することができます。また、Raspberry Piから利用したGatewayも、WindowsやLinux上からブラウザを介さずに利用できるようになっています。&lt;br /&gt;
あまり複雑なコードを書かなくてもこのようなP2P送受信ができますので、この機会にWebRTCを活用したものづくりにぜひともチャレンジしてみてくださいね！&lt;/p&gt;</description></item><item><title>【114106→ｱｲｼﾃﾙ】平成の最後に最新のWebRTCでポケベルをつくってみた【体験編】</title><link>https://dotstud.io/blog/latest-webrtc-pokeberu-end-of-heisei/</link><pubDate>Fri, 22 Mar 2019 00:00:00 +0000</pubDate><guid>https://dotstud.io/blog/latest-webrtc-pokeberu-end-of-heisei/</guid><description>
&lt;p&gt;こんにちは、ものづくり担当うこです。&lt;br/&gt;
ここ最近は次の元号が気になって、改元まで眠れません！&lt;/p&gt;
&lt;p&gt;そんな平成の終了を追うように、平成初期に一世を風靡した「ポケベル」が、今年9月末で終了してしまうようですね。&lt;br/&gt;
&lt;a href=&#34;http://www.teleme.co.jp/service/magicmail/index.html&#34;&gt;東京テレメッセージ株式会社｜ページャー（マジックメール）サービス終了のお知らせ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;平成生まれの僕としては、聞いたことはあるけれど、使ったことはないポケベル。&lt;br/&gt;
これは無くなってしまう前に体験しなくては！&lt;br/&gt;
でも、もうポケベル本体は生産されておらず、新規契約もできません。&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;ならば…… 作ってしまいましょう！&lt;/b&gt;&lt;/p&gt;
&lt;h2 id=&#34;ポケベルのしくみ&#34;&gt;ポケベルのしくみ&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ガラケー世代、スマホ世代からすれば衝撃なのですが、 &lt;strong&gt;ポケベルは受信専用&lt;/strong&gt;です。&lt;br/&gt;
基本は「無線呼び出し」という、小型の受信機に対し遠隔から合図を送る汎用的な仕組みであったものが発達し、報知局から受信専用の携帯機器のベルを鳴らすことができるようになりました。これがいわゆる「ポケベル」のはじまりです。その後、公衆電話から数字を送ったり、2つの数字の組み合わせで文字を表現する「2タッチ入力」で文字列を送ることができるようになったりして、今の30代〜40代が記憶に残すところのポケベルとなりました。&lt;/p&gt;
&lt;p&gt;参考：&lt;a href=&#34;https://ja.wikipedia.org/wiki/無線呼び出し&#34;&gt;無線呼び出し - Wikipedia&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;さて、仕組みはわかったものの、現代で手軽に扱える技術で、ハードウェア・ソフトウェア・通信方法をどのようにしたらうまく作れるでしょうか。&lt;/p&gt;
&lt;h2 id=&#34;作ってみた&#34;&gt;作ってみた&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;説明が複雑になりそうなので先に作りました（結論）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;送信側である公衆電話も作りました。こちらはWeb上で動作します。&lt;/p&gt;
&lt;h3 id=&#34;ポケベル側&#34;&gt;ポケベル側&lt;/h3&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;ポケベル側は、&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;レトロ感のあるディスプレイ&lt;/li&gt;
&lt;li&gt;安っぽい音のするブザー&lt;/li&gt;
&lt;li&gt;速いけど確実に届くかは無保証な通信プロトコル&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;の3点が課題でした。&lt;/p&gt;
&lt;p&gt;まず最初に、ハードウェア上でLinuxが動作するなら開発も比較的やりやすいので、Raspberry Pi 3 B+ を製作のベースに選択しました。&lt;br/&gt;
次に、1.については、秋葉原でよく売られているのを見かける「16文字×2行」のディスプレイ（1580円）を使いました。しかしながら時代に即して、液晶ではなく有機ELであるところがちょっとナウいですね（死語）。&lt;br/&gt;
2.も、秋葉原でよく見る圧電ブザー（50円）を採用して音のチープ感を重視しました。&lt;br/&gt;
3.は、P2PでUDP伝送を行えばそれっぽくなりそうですが、そのままだと難しいので、NTTコミュニケーションズの提供する&lt;a href=&#34;https://webrtc.ecl.ntt.com&#34;&gt;SkyWay&lt;/a&gt;を利用したWebRTC通信を採用することにしました。これについては後述します。&lt;br/&gt;&lt;/p&gt;
&lt;h3 id=&#34;公衆電話側&#34;&gt;公衆電話側&lt;/h3&gt;
&lt;p&gt;公衆電話は、実機を使おうとすると設置場所を探さなければいけないのと、ハードウェアを作るのが大変そうだったので、Webで実装しました。&lt;br/&gt;
以下より誰でも利用することができます。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ukkz.github.io/skyway-payphone/?apikey=YOUR_API_KEY&#34;&gt;PayPhone for SkyWay PocketBell&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;往年のプッシュホンのDTMF音も再現しています。&lt;br/&gt;
これ単体でも2タッチ入力（ポケベル打ち）が体験できますので、ぜひ触ってみてください。&lt;/p&gt;
&lt;h2 id=&#34;ポケベルがさわれそうな世代を探そう&#34;&gt;ポケベルがさわれそうな世代を探そう&lt;/h2&gt;
&lt;p&gt;ネットから情報をできるだけ収集してとりあえず作ってみたものの、同じように作っている事例がまず存在せず、かつてのポケベルをどれだけ再現できているのかまったく自信がありません。&lt;br/&gt;
そこで、実際にポケベルを所持していた世代の方に見ていただくべく、&lt;a href=&#34;https://iotlt.connpass.com/event/118404/&#34;&gt;IoTLT大阪(Vol.10)&lt;/a&gt;でこのポケベルについて発表しました。&lt;/p&gt;
&lt;script async class=&#34;speakerdeck-embed&#34; data-id=&#34;5c62585978ca428f83d0581efb6ae50a&#34; data-ratio=&#34;1.33333333333333&#34; src=&#34;//speakerdeck.com/assets/embed.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;当日の参加者は50人前後。&lt;br/&gt;
ここで「実際にポケベルを使っていた方はどれぐらいいらっしゃいますか？」と聞いてみたところ……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;写真幅に収まりきらなかったのですが、およそ5人〜10人の方に挙手いただきました！&lt;br/&gt;
IoTLTは勉強会としては年齢層が若めの部類ではないかと考えているのですが、1割ほどの方が実際にご使用されていたとのこと。今回はポケベル初出のため、できれば今後の勉強会でも調査していきたいと思っております！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;発表の最後に、「実際に利用されていた方、触ってみたい方は懇親会で僕のところにお越しください」と申し上げたところ、多くの人が見に来てくださいました。 &lt;del&gt;おっさんホイホイとはこのことか&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;「公衆電話のデザインが地味にリアル！」&lt;/strong&gt;　と、ツボにはまっている方が多かったです。&lt;/p&gt;
&lt;p&gt;「これ（公衆電話）触ってもいいんですか？」「どうぞどうぞ」と、実際に触っていただいたところ、「もう忘れたよ〜〜」と言いつつも「2タッチ入力」を軽々こなせた方が3名ほどいらっしゃいました。&lt;br/&gt;
いまだにブラインドでポケベル打てる（人生の）先輩方、おそるべしです……。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;メッセージ、ちゃんと当時と同じように打てますね！！　と絶賛いただけたので見てみると……&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;これはリア充しとったやつやな……&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;「アイシテル」は、2タッチ入力では「1112324493」と打ちますが、当時はド定番のメッセージだったそうです。文字が送れるようになる前の数字送信だけだったときには、語呂合わせで「114106」などとも送っていたんだとか。&lt;br/&gt;
その他、お話を伺ったところによると&lt;br/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;公衆電話は時間課金なので、10円でメッセージを送るには、時間内に早打ちをする必要があった。&lt;/li&gt;
&lt;li&gt;いつも20円使ってたけど、10円で打てる人がいて、神のように崇められていた。&lt;/li&gt;
&lt;li&gt;「88」と打てばハートの絵文字が出るのは当たり前（ドコモのポケベルがそうなっていたらしいです）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;などの思い出があったそうです。&lt;/p&gt;
&lt;p&gt;今も「LINEの既読無視」のように、通信手段の特性に基づいた独特の「あるある」が存在しますが、それは四半世紀前でも変わらなかったんですねえ……。&lt;/p&gt;
&lt;h2 id=&#34;みなさんもポケベル体験してみよう&#34;&gt;みなさんもポケベル体験してみよう！&lt;/h2&gt;
&lt;p&gt;さてそんな手作りのポケベルですが、送信側の公衆電話はWebで実装されているため、 &lt;strong&gt;ブラウザで実際にポケベル打ちを試していただくことが可能&lt;/strong&gt;です！&lt;br/&gt;
先ほど紹介させていただいたページにぜひアクセスしてみてください。&lt;br/&gt;
Google Chromeでの動作のみ確認しています。&lt;br/&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ukkz.github.io/skyway-payphone/?apikey=YOUR_API_KEY&#34;&gt;PayPhone for SkyWay PocketBell&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/10.png&#34; alt=&#34;10&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;まずコイン投入口をクリックすると、液晶部分に「TEST」という表示が出ることを確認してください。これで、実際の受信端末がなくても、打ったメッセージをブラウザで確認することができるようになります。&lt;br/&gt;
次に、数字ボタンで「*2*2」と打ち込みます。これはフリーメッセージの入力を開始するコマンドのようなものです。これが打てたら、以下のページで紹介されているフリーワードの表を見ながら、数字2つずつ打ち込んでゆきます。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.kerokero.net/makosuke/pbcode/docomo.htm&#34;&gt;Tele-Call page / DoCoMo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;表の縦列数字が1つめ、横列数字が2つめです。例えば「うに」と入力するときは、まず「13」次に「52」のように2つずつ打ちます。&lt;br/&gt;
定番メッセージ「アイシテル」は「1112324493」と打つと表現することができます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/246/11.png&#34; alt=&#34;11&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;メッセージが打ち込めたら、最後に「##」と入力し、受話器置きの部分をクリックして「終話」すると、ポップアップでメッセージが表示されます。
うまく入力できたでしょうか？&lt;/p&gt;
&lt;h3 id=&#34;公衆電話の通信について&#34;&gt;公衆電話の通信について&lt;/h3&gt;
&lt;p&gt;このWeb公衆電話は、このままだと通信をしない「テストモード」で動作しますが、実際には&lt;a href=&#34;https://webrtc.ecl.ntt.com&#34;&gt;SkyWay&lt;/a&gt;を利用したWebRTC通信に対応しています。執筆時点で、WebとRaspberry Piのような組み込み機器をP2Pでリアルタイムに、かつ簡単に繋ぐことのできるサービスはこれがほぼ唯一です。しかもSkyWayのコミュニティ版は完全無料で使うことができます。&lt;br/&gt;
Webと組み込み機器を繋ぐのなら、以前まではWebSocketやMQTTを使うのが主でしたが、こちらは2者とも「サーバー対クライアント」の通信であり、バックエンドを準備するのが大変でした。&lt;br/&gt;
このSkyWayが組み込みに対応したWebRTCエンジン「&lt;a href=&#34;https://support.skyway.io/hc/ja/articles/360008586334--SkyWay-WebRTC-Gateway-試験提供開始&#34;&gt;WebRTC Gateway&lt;/a&gt;」を提供開始したことで、本来はWeb環境同士でしか成立しなかったWebRTC通信を、Raspberry Piのような低レベルのデバイスから直接的に接続させることが可能になりました。&lt;br/&gt;
この記事で作ったポケベルは、実際にこれで文字列をWeb公衆電話からRaspberry Pi製のポケベルへと送信しています。&lt;/p&gt;
&lt;h2 id=&#34;ポケベル本体も-はんだづけなしで作れます&#34;&gt;ポケベル本体も、はんだづけなしで作れます&lt;/h2&gt;
&lt;p&gt;さて、ここまでモノが揃っているのなら、実際のハードウェアに文字列を送信してみたいな、と思われたことではないでしょうか。そこで、今回のポケベルは全てはんだづけを行っていますが、「Grove」と呼ばれる規格に対応したディスプレイやブザーを使うことで、一切はんだづけをせずに同じポケベルを作っていただける方法を準備しました！&lt;br/&gt;
その詳細は次回の記事に書かせていただきますので、ご興味を持たれたかたはぜひ当ブログをチェックしておいてくださいね！&lt;/p&gt;</description></item><item><title>MPU9250で回転角度を検知する</title><link>https://dotstud.io/blog/detect-rotation-angle-with-mpu9250/</link><pubDate>Thu, 21 Mar 2019 00:00:00 +0000</pubDate><guid>https://dotstud.io/blog/detect-rotation-angle-with-mpu9250/</guid><description>
&lt;p&gt;はじめまして。ライターとして起用していただきました、ありか(&lt;a href=&#34;https://twitter.com/hakase0617&#34;&gt;@hakase0617&lt;/a&gt;)です。&lt;/p&gt;
&lt;p&gt;秋田高専で高専ロボコンを5年間やっていました。
ロボコン界隈には卒業後も関わり続けているため、そういった若きエンジニアの手助けができたらと思っています！&lt;/p&gt;
&lt;p&gt;マネジメントや教育に興味があり、その一環でIoT、AIの勉強をしています。
将来的にはエンジニアを育成したり、一緒にお仕事ができたりしたら楽しそうだなって思います。&lt;/p&gt;
&lt;h2 id=&#34;9軸センサとは&#34;&gt;9軸センサとは&lt;/h2&gt;
&lt;p&gt;早速ですが、今日はMPU9250というセンサを紹介します。
これは「9軸センサ」と呼ばれるものです。&lt;/p&gt;
&lt;p&gt;え、9軸ってx,y,zとあとは何！？&lt;/p&gt;
&lt;p&gt;これは&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;加速度センサ　x,y,z&lt;/li&gt;
&lt;li&gt;角速度センサ　x,y,z&lt;/li&gt;
&lt;li&gt;地磁気センサ　x,y,z&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;の3軸ずつ、合わせて9軸というものです。
まずは各センサの紹介からいきます。&lt;/p&gt;
&lt;h2 id=&#34;加速度センサとは&#34;&gt;加速度センサとは&lt;/h2&gt;
&lt;p&gt;加速度とは、&lt;u&gt;「どのくらいの速度が変化しているか」という指標です。&lt;/u&gt;
車を運転しているイメージをしてください。
アクセルを思いっきり踏んで、時速20km/hで走っていた車を時速60km/hまで加速させたとします。
この時、体は後ろに引っ張られる感じがします。
あの感じが加速度です。&lt;/p&gt;
&lt;p&gt;加速度センサでは、物が動いているかどうかということも検出できます。
加速度センサの応用例としてはカメラの手ぶれ補正やスマホの画面回転、ハードディスクの揺れ検知などが該当します。
ロボットの姿勢制御には欠かせない技術でもあります。&lt;/p&gt;
&lt;h2 id=&#34;角速度センサとは&#34;&gt;角速度センサとは&lt;/h2&gt;
&lt;p&gt;角速度とは読んで字のごとく、回転角の速度です。
ものが回っている時の速さの単位に「回転数」（rpmなど）や周波数（Hzなど）がありますが、これらは「何回回ったか」を示す指標です。
&lt;u&gt;回っているものの「角度」に注目して速さを表す指標が角速度です。&lt;/u&gt;&lt;/p&gt;
&lt;h2 id=&#34;地磁気センサとは&#34;&gt;地磁気センサとは&lt;/h2&gt;
&lt;p&gt;地磁気センサでは、磁力の強さを検知出来ます。
地球は大きな磁石ですが丸いので、地球上のどの位置にいるかで地磁気の強さは異なります。
そのため、&lt;u&gt;地磁気の強さやら向きやらを測定すると自分がいる位置が分かり、自分が向いている方角も分かるというものです。&lt;/u&gt;&lt;/p&gt;
&lt;h2 id=&#34;9軸センサで何が出来るか&#34;&gt;9軸センサで何が出来るか&lt;/h2&gt;
&lt;p&gt;さて、これら3つのセンサが合体した9軸センサで、何ができるのでしょうか？&lt;/p&gt;
&lt;p&gt;&lt;u&gt;角速度センサで「自分がどれだけ回ったのか」が分かります。&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;しかし弱点があります。
角速度センサだけでは、今「動いている」のか「止まっている」のかは分かりません。
そこで加速度センサの出番です。加速度センサは上記状態を把握できます。
これらを合わせて「6軸センサ」と呼ぶのですが、&lt;u&gt;この6軸センサを使うと「回転角度」が分かります。&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;じゃあ6軸でいいじゃん、と思ってしまいますが、6軸センサには弱点があります。
ずばり、「ドリフト」です。&lt;/p&gt;
&lt;p&gt;角速度センサは「積分方式」で回転角度を検出します。
どういうことかというと、「15度動いた」「20度動いた」「10度動いた」を合わせて「45度動いた」といった風に、足し算で算出します。
しかし、みんなの敵である「誤差」という概念がここで登場します。&lt;/p&gt;
&lt;p&gt;さっきの例で、毎回+1度の誤差が生じてしまうとします。
すると　16度+21度+11度＝48度　となり、誤差がどんどん大きくなっていきます。
つまり、試行回数（時間経過）とともに誤差が大きくなっていくではありませんか。&lt;/p&gt;
&lt;p&gt;これを解決するためには、別の方法で校正を行う必要があります。
そこで「地磁気センサ」を使います。&lt;/p&gt;
&lt;p&gt;地磁気センサは、簡単に言うと「方位磁針」です。そのため、北を向いたまま10分経とうが1時間経とうが、&lt;u&gt;地磁気センサは「北を向いている」という状態を教えてくれます。&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;まとめると、
　角速度センサ→何度回ったかが分かる
　加速度センサ→回ったかが分かる
　地磁気センサ→ドリフトを打ち消す
といった役割を持ち、回転を検知するセンサとなります。&lt;/p&gt;
&lt;h2 id=&#34;実際に使ってみよう&#34;&gt;実際に使ってみよう&lt;/h2&gt;
&lt;p&gt;MPU9250を使って、実際に回転角度を測定してみましょう。
今回は開発環境にArduinoを選定しました。
ライブラリが公開されており、初心者である僕でもサクッと動作確認が可能な点に魅力を感じました。&lt;/p&gt;
&lt;p&gt;今回は入門として、角速度センサのみで回転角度を検出してみます。&lt;/p&gt;
&lt;h2 id=&#34;開発環境&#34;&gt;開発環境&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;OS:Windows10&lt;/li&gt;
&lt;li&gt;ArduinoIDE&lt;/li&gt;
&lt;li&gt;Arduino UNO&lt;/li&gt;
&lt;li&gt;MPU9250&lt;/li&gt;
&lt;li&gt;ジャンパワイヤ5本&lt;/li&gt;
&lt;li&gt;ブレッドボード&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;スケッチ&#34;&gt;スケッチ&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-C:Gyro&#34;&gt;#include &amp;lt;Wire.h&amp;gt;
#define FIL 0.9 //フィルタ
#define AVE 100 //測定回数
#define GYRO 30 //ドリフト許容値
int emp[6] = {};
int data = 0; //生データ格納 1から順に加速度xyz角速度xyz
long datasum = 0; //合計データ格納　平均算出用
int th = 0; //閾値
long integral = 0; //積分値
int degree; //回転角度
int rock; //ロック機構により導かれた初期値
char input;
void setup() {
Wire.begin(); Serial.begin(115200); Wire.begin(0x68);
Wire.beginTransmission(0x68); Wire.write(0x6B); Wire.write(0x00); Wire.endTransmission();
Wire.beginTransmission(0x68); Wire.write(0x1C); Wire.write(0x10); Wire.endTransmission();
Wire.beginTransmission(0x68); Wire.write(0x1B); Wire.write(0x08); Wire.endTransmission();
Wire.beginTransmission(0x68); Wire.write(0x1A); Wire.write(0x05); Wire.endTransmission();
Serial.print(&amp;quot;*****************\nCalibrating now\nplease turn once and press &#39;f&#39;\n&amp;quot;);
while (1) {
reading();
datasum = 0;
input = Serial.read();
if (input == &#39;f&#39;) {
rock = integral / 360;
Serial.print(&amp;quot;Ready!&amp;quot;);
Serial.print(&amp;quot;\n*******\n&amp;quot;);
integral = 0;
delay(500);
break;
}
}
}
void loop() {
reading();
degree = abs(integral / rock);
Serial.println(degree);
datasum = 0;
}
void reading() {
for (int i = 0; i &amp;lt; AVE; i++) {
Wire.beginTransmission(0x68); Wire.write(0x3B); Wire.endTransmission(); Wire.requestFrom(0x68, 14);
while (Wire.available() &amp;lt; 14);
emp[0] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[1] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[2] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[3] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[4] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[5] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
data = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
datasum += data;
}
datasum /= AVE;
if (th == 0) {
th = datasum;
}
if (abs(datasum - th) &amp;gt; GYRO) { //誤差が小さい場合はスルー ドリフト対策
integral += datasum - th;
}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;arduinoとの接続&#34;&gt;Arduinoとの接続&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;left&#34;&gt;Arduino&lt;/th&gt;
&lt;th align=&#34;right&#34;&gt;MPU9250&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;5V&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;VCC&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;GND&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;GND&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;A2&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;INT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;A4&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;SDA&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align=&#34;left&#34;&gt;A5&lt;/td&gt;
&lt;td align=&#34;right&#34;&gt;SCL&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;実物&#34;&gt;実物&lt;/h2&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/245/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;スケッチ簡易解説&#34;&gt;スケッチ簡易解説&lt;/h2&gt;
&lt;p&gt;今回は角速度センサのｚ軸のみを使用します。
ｚ軸、つまり地面と鉛直な方向の回転が分かる、早い話が自分がどれだけ回ったかが分かります。&lt;/p&gt;
&lt;p&gt;まず、角速度センサを使うにあたって、センサから返ってくる値を調べる必要があります。
センサは「何度回ったよ」とは教えてくれません。
「4253」「71469」みたいな無機質な値を教えてくれます。
そのため、その値がいくつで360度に相当するのかを確認する必要があります。&lt;/p&gt;
&lt;p&gt;どうすればいいのか、答えは「360度回せばいい」のです。そのままです。&lt;/p&gt;
&lt;p&gt;今回はArduinoを起動した際に、まず1回転して値を取得して、それから角度検出をする、というスケッチを作りました。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C:while&#34;&gt; while (1) {
reading();
datasum = 0;
input = Serial.read();
if (input == &#39;f&#39;) {
rock = integral / 360;
Serial.print(&amp;quot;Ready!&amp;quot;);
Serial.print(&amp;quot;\n*******\n&amp;quot;);
integral = 0;
delay(500);
break;
}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;reading()関数の中で実際に値を取得するのですが、1回転した合図として「Arduinoのシリアル通信で&amp;rsquo;f&amp;rsquo;を送ってあげた時にwhile()から抜けて角度検出モードに移行します。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-C:reading&#34;&gt;void reading() {
for (int i = 0; i &amp;lt; AVE; i++) {
Wire.beginTransmission(0x68); Wire.write(0x3B); Wire.endTransmission(); Wire.requestFrom(0x68, 14);
while (Wire.available() &amp;lt; 14);
emp[0] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[1] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[2] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[3] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[4] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
emp[5] = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
data = Wire.read() &amp;lt;&amp;lt; 8 | Wire.read();
datasum += data;
}
datasum /= AVE;
if (th == 0) {
th = datasum;
}
if (abs(datasum - th) &amp;gt; GYRO) { //誤差が小さい場合はスルー ドリフト対策
integral += datasum - th;
}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;そのreading()の中では、平均を取るためにAVEで指定された回数値を格納し続けています。
emp[]で色々格納していますが、上から
加速度ｘ軸、ｙ軸、ｚ軸
温度
角速度ｘ軸、ｙ軸、ｚ軸
という風に格納されていきます。そのため今回は角速度ｚ軸のみを取り出すためこういった書き方です。&lt;/p&gt;
&lt;h2 id=&#34;動かしてみよう&#34;&gt;動かしてみよう&lt;/h2&gt;
&lt;p&gt;リード線を数本接続しただけで動作確認が出来るなんて、とっても楽ですね！
早速動かしてみます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/245/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;できました！
角度が表示されています。&lt;/p&gt;
&lt;h2 id=&#34;何に使えるの&#34;&gt;何に使えるの？&lt;/h2&gt;
&lt;p&gt;今回注目したのは、自律移動ロボットの位置制御です。
ロボットコンテストなどでは、コントローラなどを用いず自動でロボットが移動することを求められるケースが多々あります。
その自動ロボットの位置制御には、どのような方法が用いられているのでしょうか。&lt;/p&gt;
&lt;p&gt;おそらく一般的なものは、モータにロータリエンコーダなどを取り付けて
「モータがどのくらい回ったか」
を検出し、位置を割り出す方法だと思います。&lt;/p&gt;
&lt;p&gt;ですが、この方法には弱点があります。
例えば、移動するフィールドが平らではなかったり、滑りやすい障害物（落ち葉など）があったり、タイヤが走行中に滑ったりといった「タイヤとフィールドの関係」で誤差が生じてしまいます。&lt;/p&gt;
&lt;p&gt;この誤差をなんとかしたい！
そんな時に便利なのがこの9軸センサです。&lt;/p&gt;
&lt;p&gt;自身がどれくらい動いたか、どれくらい回ったかが分かるこのセンサがあれば、たとえタイヤが空回りしてしまっても、「今いる位置」を知ることが可能なのです！&lt;/p&gt;
&lt;h2 id=&#34;最後に&#34;&gt;最後に&lt;/h2&gt;
&lt;p&gt;今回は9軸センサのうちたった1軸しか使っていませんが、回転を検出することができました。
より高度なスケッチを作ることでより高度な測定が可能になるため、これからも勉強を続けていきたいです。&lt;/p&gt;
&lt;style&gt;
.dialogue {
padding: 10px;
display: table;
}
.image_n, .image_s {
width: 75px;
height: 75px;
margin-right: 10px;
display: table-cell;
vertical-align: middle;
}
.image_n img {
border-radius: 50%;
border: 2px solid blue;
}
.image_s img {
border-radius: 50%;
border: 2px solid green;
}
.name {
font-weight: bold;
text-align: center;
}
.text {
display: table-cell;
padding: 0;
vertical-align: middle;
padding-left: 20px;
}
&lt;/style&gt;</description></item><item><title>初めてのArduino〜トレーニングマシンを作る編〜</title><link>https://dotstud.io/blog/jikyuryoku-aruduino-training-machine/</link><pubDate>Mon, 11 Mar 2019 23:00:00 +0900</pubDate><guid>https://dotstud.io/blog/jikyuryoku-aruduino-training-machine/</guid><description>
&lt;p&gt;初めまして、今月からdotstudioでお世話になる&lt;a href=&#34;https://dotstud.io/members/jikyuryoku&#34;&gt;自給力&lt;/a&gt;です。&lt;/p&gt;
&lt;p&gt;プログラミングスクール卒業後でフラフラしてたところを、のびすけしゃちょーから「記事を書いてみない？」と誘っていただきました。これから、バシバシ記事を書いていきますのでよろしくお願いします。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;コードの書き方や手順で変なところあるかもしれませんが、許してください……！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;僕はフィットネス業界での事業を考えています！せっかくなので、フィットネスに絡めて何か作って、記事にしていきたいと思います。プログラミングはかじってはいるのですが、IoTのコーディングや電子工作は初めてなので、&lt;u&gt;初心者さん向けに自分の失敗の工程も含めてお伝えできればと思ってます。&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;そして、まず作ろうと決意したモノは……&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;font size=&#34;3&#34;&gt;&lt;strong&gt;「自宅でのトレーニングで回数を数えてくれるサービス」&lt;/strong&gt;です！！パチパチ〜〜！！&lt;/font&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;意外とスクワットとかダンベルのトレーニングしている時って回数数えるの面倒なんですよね。&lt;/p&gt;
&lt;p&gt;そこで、勝手に回数数えてくれるサービスがあればテレビ見ながらでも回数に気を取られずにトレーニングができる！そんな思いから、サービス作ってみようと思ったわけです。&lt;/p&gt;
&lt;h2 id=&#34;のびすけしゃちょーに相談してみる&#34;&gt;のびすけしゃちょーに相談してみる&lt;/h2&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
というわけで、ダンベルを上げ下げしてる時に回数数える物作りたいっす！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
いいね。じゃあどうやって数えるか考えよう。カウントの仕方としては、&lt;u&gt;赤外線センサ使うとか、腕の動きで変わる気圧を計測する&lt;/u&gt;ってやりかたもあるよ、加速度センサでy軸方向に動いた回数を、、、（etc）&lt;/b&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（おお、なんか凄そうなのが作れそうだ）&lt;br&gt;
なるほど！！面白そうですね！！！！じゃあ加速度センサ使ってみたいです！！！&lt;br&gt;
（理由:かっこいいから）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ま、それは難しいから最初はスイッチだな（バッサリ）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
（え、なんで他の紹介したん……）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;そんなこんなで、iot初心者の僕は&lt;strong&gt;「磁気スイッチ」を使ったカウントマシン&lt;/strong&gt;を作ることに決まりました！！&lt;/p&gt;
&lt;h2 id=&#34;まずは準備&#34;&gt;まずは準備&lt;/h2&gt;
&lt;p&gt;今回使うのはArduino（写真左）と磁気スイッチ（写真真ん中と右）&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;まず、Arduinoにコードを書き込むためにArduino IDEをインストールしましょう。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://dotstud.io/docs/arduinoide-setup/?fbclid=IwAR3BB5HrFh-K6cMGcnGl4rjHIA4u2OJYDDlNjLmN5IrprOn8n3zY6g-Kp8s&#34;&gt;こちらのドキュメント&lt;/a&gt;の通りにやれば簡単にインストールできます。&lt;/p&gt;
&lt;p&gt;そして、磁気スイッチの使い方は&lt;a href=&#34;http://wiki.seeedstudio.com/Grove-Magnetic_Switch/&#34;&gt;こちら&lt;/a&gt;を参考にしました！&lt;/p&gt;
&lt;p&gt;サイト内は英語で書かれていますが、ここでやることしては&lt;strong&gt;ArduinoのD２のピンに刺し、写真のように組み立てる&lt;/strong&gt;のだそうです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;さぁ-数を数えよう&#34;&gt;さぁ、数を数えよう&lt;/h2&gt;
&lt;p&gt;「数なんてすぐに数えられるわい」っと思ったのも束の間……。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;「あれ？何を数えるんだ？？？」&lt;/strong&gt;と、なんとも初歩的な壁にぶつかりました。&lt;/p&gt;
&lt;p&gt;ダンベルを動かした回数を頭の中で数えるのは簡単ですが、機械に数えさせるのは訳が違う。まずは何を数えるか考えなければならないのです。&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
のびさん、オレは何を数えるんですか？（語彙力）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
まずは、センサが反応してる時にフラグを立ててみたら？&lt;br&gt;
フラグが立った状態からフラグが無くなったときにカウントできるようにしてみる方法があるよ。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
なるほど！それですね！（フラグって何……？）
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;「フラグ」が何を指しているのかが分からなかったので、&lt;strong&gt;「Arduino フラグ」&lt;/strong&gt;でググってみました。どうやらセンサの状態を変数に入れて管理することだということが分かりました。&lt;/p&gt;
&lt;p&gt;（参考１）&lt;a href=&#34;http://monoist.atmarkit.co.jp/mn/articles/1308/09/news001_3.html&#34;&gt;アイデア・ハック!! Arduinoで遊ぼう（2）&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;次に、「Arduino 数える」でググり、「変数でどう数えるのか」について、以下の記事を参考にしました。&lt;/p&gt;
&lt;p&gt;（参考２）&lt;a href=&#34;https://n.mtng.org/ele/arduino/samples/variable2.html&#34;&gt;変数で回数を数える&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;やることとしては、&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;センサの状態をフラグ（変数）として認識させる&lt;/li&gt;
&lt;li&gt;フラグがついてる状態から、なくなった状態に「+１」していく&lt;/li&gt;
&lt;li&gt;1と2を繰り返す&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;なるほどなるほど。だいたい道筋が見えてきたので、作っていきます！&lt;/p&gt;
&lt;h2 id=&#34;よし-作ろう&#34;&gt;よし、作ろう&lt;/h2&gt;
&lt;p&gt;（参考１）&lt;a href=&#34;http://monoist.atmarkit.co.jp/mn/articles/1308/09/news001_3.html&#34;&gt;アイデア・ハック!! Arduinoで遊ぼう（2）&lt;/a&gt;からスイッチのon/offで数を数えるためコードがあり、アレンジをしてみました。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;必要なのは&lt;strong&gt;「グローバル変数の定義」「フラグの定義」「フラグからカウントする際のコード」の３つ&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;まずは&lt;strong&gt;「グローバル変数の定義」&lt;/strong&gt;です。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;int G_state = FLG_OFF;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;簡単ですね。&lt;/p&gt;
&lt;p&gt;次に&lt;strong&gt;「フラグの定義」&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;フラグ立っている時は「1」、立っていない時は「0」と教えてあげます。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;const int FLG_ON = 1;
const int FLG_OFF = 0;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;楽勝！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;それでは、最後に&lt;strong&gt;「フラグからカウントする際のコード」&lt;/strong&gt;を書いてみましょう。&lt;/p&gt;
&lt;p&gt;Void setup()の中に、&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Serial.begin(115200);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;を書き、
void loop()の中に、&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; int val = digitalRead(MAGNECTIC_SWITCH);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;を書きます。&lt;/p&gt;
&lt;p&gt;これはつまり、&lt;strong&gt;センサで取得した値を変数valに入れている&lt;/strong&gt;わけです。&lt;/p&gt;
&lt;p&gt;そして&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;if(G_state == FLG_OFF){
count += 1;
}
Serial.println(count);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;と書き、コンパイルして、書き込みをしていきます。&lt;/p&gt;
&lt;p&gt;ちょっとここでケアレスミスがあり、書き込みの際にエラーが何回か出ましたが、難なく解消。&lt;/p&gt;
&lt;p&gt;よし！これで動く！&lt;/p&gt;
&lt;p&gt;ツールの中のシリアルモニタを見てみましょう。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;な、なにーーー！！&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;なんか勝手に数が増えてる！！！！このままじゃ数字が止まらなくなる！！！（パニック状態）&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
助けて！のびさんんんんんんんん！！
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ん？？これ、&lt;u&gt;if( G_state == FLG_OFF )で+1&lt;/u&gt;で書かないと、めっちゃ数えるよ。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
あ、そうか……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;つまり、コードを日本語訳にすると、&lt;strong&gt;「G_stateの中のフラグがないときは、足していく」&lt;/strong&gt;という意味。フラグが無い状態では+1され続けてしまうんです。そりゃうまくイカンわ！！！&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
&lt;u&gt;if(G_state == FLG_OFF)の一文を消して、elseの中でフラグの判定&lt;/u&gt;した方がいいよ。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;のびさんのご指摘の通り、&lt;strong&gt;elseの中にif文を書いてフラグがonだったら1カウントをするコード&lt;/strong&gt;に書き換えました。&lt;/p&gt;
&lt;p&gt;よし！これでどうだ！！！書き込み開始！！&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
あれ？？？なんで58から始まるんだ？わけわからん数字だ……。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_n&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/nobi.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;のびすけ&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
&lt;u&gt;デフォルトの数字は、setupで数字初期化されるから、setupの定義内でcount=０&lt;/u&gt;にすればいいんじゃない？
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;parent&#34;&gt;
&lt;div class=&#34;dialogue&#34;&gt;
&lt;div class=&#34;image_s&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/suga.png&#34; /&gt;
&lt;section class=&#34;name&#34;&gt;自給力&lt;/section&gt;
&lt;/div&gt;
&lt;div class=&#34;text&#34;&gt;
ほうほう。
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;center&gt;
&lt;font size=&#34;3&#34;&gt;実際に書き換えてみると、見事解決！&lt;/font&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;ちゃんと数えてくれるか検証&#34;&gt;ちゃんと数えてくれるか検証&lt;/h2&gt;
&lt;p&gt;磁石をセンサに近づけて、、&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;離すと、、&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;そしてシリアルモニタを見ると&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/244/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;center&gt;
&lt;font size=&#34;3&#34;&gt;カウント「１」！！！！&lt;/font&gt;
&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;見事成功です。&lt;/p&gt;
&lt;p&gt;いやぁ、一口に数を数えるとは言っても奥が深いですね！今日のところはこの辺で終わりたいと思います。&lt;/p&gt;
&lt;p&gt;続編をお楽しみに……！&lt;/p&gt;
&lt;style&gt;
.dialogue {
padding: 10px;
display: table;
}
.image_n, .image_s {
width: 75px;
height: 75px;
margin-right: 10px;
display: table-cell;
vertical-align: middle;
}
.image_n img {
border-radius: 50%;
border: 2px solid blue;
}
.image_s img {
border-radius: 50%;
border: 2px solid green;
}
.name {
font-weight: bold;
text-align: center;
}
.text {
display: table-cell;
padding: 0;
vertical-align: middle;
padding-left: 20px;
}
&lt;/style&gt;</description></item><item><title>【どんと来い、列車遅延】 勤怠メールをサクッと送れるオレオレツールを作ってみた</title><link>https://dotstud.io/blog/pokio-nodered-keikyu-chien/</link><pubDate>Wed, 13 Feb 2019 12:50:00 +0900</pubDate><guid>https://dotstud.io/blog/pokio-nodered-keikyu-chien/</guid><description>
&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/pokio&#34;&gt;ポキオ&lt;/a&gt;です。&lt;/p&gt;
&lt;p&gt;急いでるときに限って、いつも使ってる通勤列車が遅延してたりして、あたふたすることってありますよね？&lt;/p&gt;
&lt;p&gt;そんなときに、勤務先などにサクッとメールを送れるオレオレツールを作ってみました。&lt;/p&gt;
&lt;h2 id=&#34;node-redで簡単に作ってみる&#34;&gt;Node-REDで簡単に作ってみる&lt;/h2&gt;
&lt;p&gt;「ツールを作る」と聞くと、なんだか難しそうな雰囲気がしますよね？&lt;/p&gt;
&lt;p&gt;でも、&lt;strong&gt;Node-RED&lt;/strong&gt;を使うとちょっとのコーディングで簡単にツールが作れてしまいます！&lt;a href=&#34;https://dotstud.io/blog/nefry-servo-handson-takudooon/#node-red-mqtt%E3%81%A7%E3%82%B5%E3%83%BC%E3%83%9C%E3%83%A2%E3%83%BC%E3%82%BF%E3%82%92%E9%81%A0%E9%9A%94%E5%88%B6%E5%BE%A1&#34;&gt;たくろーどんさんの記事&lt;/a&gt;でもNode-REDが使われていましたが、&lt;strong&gt;実行したい処理をフローチャートのように、ノードとノードをつなぐことによって設計できるツール&lt;/strong&gt;になっています。&lt;/p&gt;
&lt;p&gt;Node-REDはその名の通り、&lt;strong&gt;Node.js&lt;/strong&gt;上で動作するツールです。普段使っているPCなどNode.jsが動作している環境であればNode−REDを動かすことができますが、今回は外出先からでもアクセスできるツールを簡単に作成したかったので、&lt;u&gt;Node-REDをサービスとして提供している&lt;strong&gt;enebular&lt;/strong&gt;&lt;/u&gt;を使ってみようと思います。&lt;/p&gt;
&lt;h2 id=&#34;node-redでツールを作ってみる&#34;&gt;Node-REDでツールを作ってみる&lt;/h2&gt;
&lt;p&gt;はじめに、今回作ったツールがこちら。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/1.png&#34; alt=&#34;1&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;このツールの機能は、以下の3つです。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;外出先からでもアクセスできるWebページを作る（念の為、BASIC認証を設けておく）&lt;/li&gt;
&lt;li&gt;そのページ上で勤怠メールの文言をプリセットから選べるようにして、特定の宛先にメール送信できるようにする&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;「本当に電車遅延が原因で遅刻するの？」&lt;/strong&gt;と言われないように、京急の遅延証明書ページで発行されている遅延証明書を表示して、メールに遅延証明書へのリンクを貼れるようにする&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;遅延状況は例によって&lt;strong&gt;京浜急行&lt;/strong&gt;のWebページ上の情報を取得しています。また、不特定多数の人が勝手にこのツールを使ってしまわないように、BASIC認証を設けてアクセスを制限しています。&lt;/p&gt;
&lt;h2 id=&#34;node-redでwebページを作る&#34;&gt;Node-REDでWebページを作る&lt;/h2&gt;
&lt;p&gt;Node-REDで用意されているノードのなかに、HTTPリクエストを受ける&lt;strong&gt;&lt;code&gt;HTTP In&lt;/code&gt;&lt;/strong&gt;ノードと、それに対するレスポンスを返す&lt;strong&gt;&lt;code&gt;HTTP Response&lt;/code&gt;&lt;/strong&gt;ノードがあります。&lt;/p&gt;
&lt;p&gt;この&lt;code&gt;HTTP In&lt;/code&gt;ノードを作るとHTTPのエンドポイントができます。このノードと&lt;code&gt;HTTP Response&lt;/code&gt;ノードを下の絵のようにつなぎ、レスポンスとなるソースを返すようにすれば、Webページができます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/2.png&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;上の例では、静的な&lt;code&gt;Hello, world!&lt;/code&gt;という文字列を返すだけですが、&lt;strong&gt;&lt;code&gt;HTTP Response&lt;/code&gt;&lt;/strong&gt;ノードで返す情報を動的に変化させたり、Webページ上で動作させるスクリプトを記述してレスポンスとして返せば、よりリッチなWebページをNode-REDで作成することができます。
&lt;/p&gt;
&lt;p&gt;次にBASIC認証ですが、Node-REDに対して追加でモジュールをインストールすることで、簡単に機能を追加することができます。&lt;/p&gt;
&lt;p&gt;Node-REDの設定メニューから、[Settings] &amp;gt; [Palette] &amp;gt; [Install]と進み、&lt;strong&gt;&lt;code&gt;node-red-contrib-httpauth&lt;/code&gt;&lt;/strong&gt;を探します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/3.png&#34; alt=&#34;3&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;これをインストールすることで、BASIC認証が行えるノードを追加できます。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/4.png&#34; alt=&#34;4&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;使い方は至ってシンプルで、先程の&lt;code&gt;HTTP In&lt;/code&gt;ノードの後ろにBASIC認証のノードをつけて、BASIC認証で使うユーザー名とパスワードをノードの設定で指定するだけです。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/5.png&#34; alt=&#34;5&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;実際に、この状態でエンドポイントにアクセスすると、確かにBASIC認証がワークしています。&lt;/p&gt;
&lt;h2 id=&#34;勤怠メールを送れるようにする&#34;&gt;勤怠メールを送れるようにする&lt;/h2&gt;
&lt;p&gt;ここまでで、&lt;code&gt;Hello, world!&lt;/code&gt;が表示できるWebページができました。ここからは&lt;u&gt;&lt;code&gt;HTTP Response&lt;/code&gt;ノードで返すHTMLをよしなに編集して、勤怠メールを作成できるようにします。&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;具体的には、次のような機能をHTMLやJavaScriptで記述して、それをレスポンスで返すようにしました。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;プルダウンメニューで遅刻する理由を選択できるようにする&lt;/li&gt;
&lt;li&gt;選択した理由に応じて、メールの本文を変更する&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mailtoスキーム&lt;/strong&gt;を使って、メーラーを起動してメールを送れるようにする&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;遅刻の理由も、必ずしも電車遅延だけではないので、体調不良や保育園関係の理由も選択できるようにしました。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/6.png&#34; alt=&#34;6&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;遅刻の理由を選択すると、メール本文が変わるようになっています。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/7.png&#34; alt=&#34;7&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;勤怠メールを送る&lt;/code&gt;&lt;/strong&gt;を押すとメーラーが起動し、ツールで指定した文言をそのままメールとして送ることができます。&lt;/p&gt;
&lt;h2 id=&#34;遅延証明書情報を取得する&#34;&gt;遅延証明書情報を取得する&lt;/h2&gt;
&lt;p&gt;ツール上で表示する京浜急行の運行情報は、&lt;a href=&#34;https://delay.keikyu.co.jp/delay/&#34;&gt;京急線遅延証明書の発行&lt;/a&gt;のページから取得します。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/8.png&#34; alt=&#34;8&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;p&gt;その日に発行されている遅延証明書のリスト化し、その遅延証明書ページへのリンクをメール本文に貼り付けるか選択できるようになっています。&lt;/p&gt;
&lt;p&gt;ただし、下記のような問題があるため、泥臭いワークアラウンドを入れています。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;遅延証明書ページへのリンクのアドレスに、mailtoスキームでは扱えない文字が含まれているため、&lt;a href=&#34;https://is.gd/&#34;&gt;外部のURL短縮サービス「is.gd」&lt;/a&gt;を使ってアドレスを短く変換している&lt;/li&gt;
&lt;li&gt;URL短縮のWebAPIを叩こうとするとCORSポリシーに引っかかったため、URL短縮のために同じドメインでエンドポイントを作成し、それ経由でアドレスの変換を行う&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;実際のフローはこちら&#34;&gt;実際のフローはこちら&lt;/h2&gt;
&lt;p&gt;Node-REDで作成したフローを、エクスポートしたものはこちらです。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-JSON&#34;&gt;[{&amp;quot;id&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;tab&amp;quot;,&amp;quot;label&amp;quot;:&amp;quot;Flow 1&amp;quot;,&amp;quot;disabled&amp;quot;:false,&amp;quot;info&amp;quot;:&amp;quot;&amp;quot;},{&amp;quot;id&amp;quot;:&amp;quot;a45bf2b.b54621&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;http request&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;遅延証明書ページ取得&amp;quot;,&amp;quot;method&amp;quot;:&amp;quot;GET&amp;quot;,&amp;quot;ret&amp;quot;:&amp;quot;txt&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;https://delay.keikyu.co.jp/delay/&amp;quot;,&amp;quot;tls&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:360,&amp;quot;y&amp;quot;:180,&amp;quot;wires&amp;quot;:[[&amp;quot;89f0f7a0.a8bda8&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;3a7ae4dc.fc9f5c&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;debug&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;active&amp;quot;:true,&amp;quot;tosidebar&amp;quot;:true,&amp;quot;console&amp;quot;:false,&amp;quot;tostatus&amp;quot;:false,&amp;quot;complete&amp;quot;:&amp;quot;delayData&amp;quot;,&amp;quot;x&amp;quot;:600,&amp;quot;y&amp;quot;:220,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;89f0f7a0.a8bda8&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;情報をパース&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;let table = msg.payload.split(&#39;&amp;lt;tbody&amp;gt;&#39;)[1];\ntable = table.split(&#39;&amp;lt;/tbody&amp;gt;&#39;)[0];\n\nlet rows = table.split(&#39;\\n&#39;).join(&#39;&#39;);\nrows = rows.split(&#39;&amp;lt;tr&amp;gt;&#39;).join(&#39;&#39;).split(&#39;&amp;lt;/tr&amp;gt;&#39;);\n\nlet data = {};\nlet dateOffset = 0;\ndata.date = rows[0 + 3 * dateOffset].split(&#39;&amp;lt;/td&amp;gt;&#39;)[0].replace(&#39;&amp;lt;tr style=\&amp;quot;background-color:#ADD8E6;\&amp;quot;&amp;gt;&#39;,&#39;&#39;).replace(&#39;&amp;lt;td rowspan=3&amp;gt;&#39;,&#39;&#39;).replace(&#39;&amp;lt;br/&amp;gt;&#39;,&#39;&#39;);\n\nlet morningData = rows[0 + 3 * dateOffset].split(&#39;&amp;lt;/td&amp;gt;&#39;).join(&#39;&#39;).split(&#39;&amp;lt;td&amp;gt;&#39;).slice(1);\nlet dayData = rows[1 + 3 * dateOffset].split(&#39;&amp;lt;/td&amp;gt;&#39;).join(&#39;&#39;).split(&#39;&amp;lt;td&amp;gt;&#39;).slice(1);\nlet nightData = rows[2 + 3 * dateOffset].split(&#39;&amp;lt;/td&amp;gt;&#39;).join(&#39;&#39;).split(&#39;&amp;lt;td&amp;gt;&#39;).slice(1);\nlet dataTitles = [&#39;品川～横浜：上り&#39;,&#39;品川～横浜：下り&#39;,&#39;横浜以南：上り&#39;,&#39;横浜以南：下り&#39;,&#39;空港線内：上り&#39;,&#39;空港線内：下り&#39;];\n\ndata.morningTitle = morningData[0];\ndata.dayTitle = dayData[0];\ndata.nightTitle = nightData[0];\n\nmorningData = morningData.slice(1);\ndayData = dayData.slice(1);\nnightData = nightData.slice(1);\n\ndata.morningData = [];\ndata.dayData = [];\ndata.nightData = [];\ndata.allData = [];\n\nfor(let i = 0; i &amp;lt; 6; i++){\n if(morningData[i] !== &#39;-&#39;){\n let detail = morningData[i].split(&#39;&amp;gt;&#39;)[1].split(&#39;&amp;lt;&#39;)[0];\n let link = &#39;https://delay.keikyu.co.jp&#39; + morningData[i].split(&#39;\&amp;quot;&#39;)[1];\n data.morningData.push({zone : dataTitles[i], detail : detail, link : link});\n data.allData.push({title : data.morningTitle + &#39; - &#39; + dataTitles[i] + &#39; - &#39; + detail, link : link});\n }\n \n if(dayData[i] !== &#39;-&#39;){\n let detail = dayData[i].split(&#39;&amp;gt;&#39;)[1].split(&#39;&amp;lt;&#39;)[0];\n let link = &#39;https://delay.keikyu.co.jp&#39; + dayData[i].split(&#39;\&amp;quot;&#39;)[1];\n data.dayData.push({zone : dataTitles[i], detail : detail, link : link});\n data.allData.push({title : data.dayTitle + &#39; - &#39; + dataTitles[i] + &#39; - &#39; + detail, link : link});\n }\n \n if(nightData[i] !== &#39;-&#39;){\n let detail = nightData[i].split(&#39;&amp;gt;&#39;)[1].split(&#39;&amp;lt;&#39;)[0];\n let link = &#39;https://delay.keikyu.co.jp&#39; + nightData[i].split(&#39;\&amp;quot;&#39;)[1];\n data.nightData.push({zone : dataTitles[i], detail : detail, link : link});\n data.allData.push({title : data.nightTitle + &#39; - &#39; + dataTitles[i] + &#39; - &#39; + detail, link : link});\n }\n}\n\nmsg.delayData = data;\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:340,&amp;quot;y&amp;quot;:220,&amp;quot;wires&amp;quot;:[[&amp;quot;e0512d8a.0fe7f&amp;quot;,&amp;quot;3a7ae4dc.fc9f5c&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;5c37249e.aecf1c&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;http in&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;HTTPリクエスト&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;/&amp;quot;,&amp;quot;method&amp;quot;:&amp;quot;get&amp;quot;,&amp;quot;upload&amp;quot;:false,&amp;quot;swaggerDoc&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:120,&amp;quot;y&amp;quot;:180,&amp;quot;wires&amp;quot;:[[&amp;quot;b83cd390.27959&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;bbc86a41.f453e8&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;http response&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;HTTPレスポンス&amp;quot;,&amp;quot;statusCode&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;headers&amp;quot;:{},&amp;quot;x&amp;quot;:610,&amp;quot;y&amp;quot;:180,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;e0512d8a.0fe7f&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;パースした情報を整形&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;let delayBody = &#39;&#39;;\n\ndelayBody += &#39;&amp;lt;h1&amp;gt;&#39; + msg.delayData.date + &#39;&amp;lt;/h1&amp;gt;\\n&#39;;\n\ndelayBody += &#39;&amp;lt;h2&amp;gt;&#39; + msg.delayData.morningTitle + &#39;&amp;lt;/h2&amp;gt;\\n&#39;;\ndelayBody += &#39;&amp;lt;ul&amp;gt;&#39;;\n\nif(msg.delayData.morningData.length === 0){\n delayBody += &#39;&amp;lt;li&amp;gt;&#39;;\n delayBody += &#39;遅延情報なし&#39;;\n delayBody += &#39;&amp;lt;/li&amp;gt;&#39;;\n}else{\n msg.delayData.morningData.forEach(function(data){\n delayBody += &#39;&amp;lt;li&amp;gt;&#39;;\n delayBody += &#39;&amp;lt;a href=\&amp;quot;&#39; + data.link + &#39;\&amp;quot; target=\&amp;quot;_blank\&amp;quot;&amp;gt;&#39;;\n delayBody += data.zone + &#39; (&#39; + data.detail + &#39;)&#39;; \n delayBody += &#39;&amp;lt;/a&amp;gt;&#39;;\n delayBody += &#39;&amp;lt;/li&amp;gt;&#39;;\n });\n}\n\ndelayBody += &#39;&amp;lt;/ul&amp;gt;&#39;;\ndelayBody += &#39;&amp;lt;h2&amp;gt;&#39; + msg.delayData.dayTitle + &#39;&amp;lt;/h2&amp;gt;\\n&#39;;\ndelayBody += &#39;&amp;lt;ul&amp;gt;&#39;;\n\nif(msg.delayData.dayData.length === 0){\n delayBody += &#39;&amp;lt;li&amp;gt;&#39;;\n delayBody += &#39;遅延情報なし&#39;;\n delayBody += &#39;&amp;lt;/li&amp;gt;&#39;;\n}else{\n msg.delayData.dayData.forEach(function(data){\n delayBody += &#39;&amp;lt;li&amp;gt;&#39;;\n delayBody += &#39;&amp;lt;a href=\&amp;quot;&#39; + data.link + &#39;\&amp;quot; target=\&amp;quot;_blank\&amp;quot;&amp;gt;&#39;;\n delayBody += data.zone + &#39; (&#39; + data.detail + &#39;)&#39;; \n delayBody += &#39;&amp;lt;/a&amp;gt;&#39;;\n delayBody += &#39;&amp;lt;/li&amp;gt;&#39;;\n });\n}\n\ndelayBody += &#39;&amp;lt;/ul&amp;gt;&#39;;\ndelayBody += &#39;&amp;lt;h2&amp;gt;&#39; + msg.delayData.nightTitle + &#39;&amp;lt;/h2&amp;gt;\\n&#39;;\ndelayBody += &#39;&amp;lt;ul&amp;gt;&#39;;\n\nif(msg.delayData.nightData.length === 0){\n delayBody += &#39;&amp;lt;li&amp;gt;&#39;;\n delayBody += &#39;遅延情報なし&#39;;\n delayBody += &#39;&amp;lt;/li&amp;gt;&#39;;\n}else{\n msg.delayData.nightData.forEach(function(data){\n delayBody += &#39;&amp;lt;li&amp;gt;&#39;;\n delayBody += &#39;&amp;lt;a href=\&amp;quot;&#39; + data.link + &#39;\&amp;quot; target=\&amp;quot;_blank\&amp;quot;&amp;gt;&#39;;\n delayBody += data.zone + &#39; (&#39; + data.detail + &#39;)&#39;; \n delayBody += &#39;&amp;lt;/a&amp;gt;&#39;;\n delayBody += &#39;&amp;lt;/li&amp;gt;&#39;;\n });\n}\n\ndelayBody += &#39;&amp;lt;/ul&amp;gt;&#39;;\nmsg.delayBody = delayBody;\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:360,&amp;quot;y&amp;quot;:260,&amp;quot;wires&amp;quot;:[[&amp;quot;5f89b7b8.249788&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;6e8b7f2.3c2238&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;ページの要素を結合&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;let bodyHeader = &#39;&amp;lt;html&amp;gt;&amp;lt;header&amp;gt;&amp;lt;meta name=\&amp;quot;viewport\&amp;quot; content=\&amp;quot;width=device-width, initial-scale=1, shrink-to-fit=no\&amp;quot;&amp;gt;&amp;lt;link rel=\&amp;quot;stylesheet\&amp;quot; href=\&amp;quot;https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\&amp;quot; integrity=\&amp;quot;sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS\&amp;quot; crossorigin=\&amp;quot;anonymous\&amp;quot;&amp;gt;&amp;lt;/header&amp;gt;&amp;lt;body&amp;gt;&amp;lt;div class=\&amp;quot;container\&amp;quot;&amp;gt;&amp;lt;div class=\&amp;quot;row\&amp;quot;&amp;gt;&amp;lt;div class=\&amp;quot;col-sm my-2\&amp;quot;&amp;gt;&#39;;\nlet bootstrap = &#39;&amp;lt;script src=\&amp;quot;https://code.jquery.com/jquery-3.3.1.slim.min.js\&amp;quot; integrity=\&amp;quot;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\&amp;quot; crossorigin=\&amp;quot;anonymous\&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;script src=\&amp;quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js\&amp;quot; integrity=\&amp;quot;sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut\&amp;quot; crossorigin=\&amp;quot;anonymous\&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;script src=\&amp;quot;https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js\&amp;quot; integrity=\&amp;quot;sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k\&amp;quot; crossorigin=\&amp;quot;anonymous\&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&#39;;\nlet bodyFooter = &#39;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&#39;;\n\nmsg.payload = bodyHeader + msg.delayBody + msg.mailBody + msg.scriptBody + bootstrap + bodyFooter;\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:360,&amp;quot;y&amp;quot;:380,&amp;quot;wires&amp;quot;:[[&amp;quot;bbc86a41.f453e8&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;5f89b7b8.249788&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;メール送信部分&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;let mailBody = &#39;&#39;;\n\nmailBody += &#39;&amp;lt;h1&amp;gt;勤怠メールを作成&amp;lt;/h1&amp;gt;&#39;;\n\nmailBody += &#39;&amp;lt;label for=\&amp;quot;reason\&amp;quot;&amp;gt;遅延理由を選択する&amp;lt;/label&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;select class=\&amp;quot;custom-select\&amp;quot; name=\&amp;quot;reason\&amp;quot; id=\&amp;quot;reason\&amp;quot; onchange=\&amp;quot;updateMessage()\&amp;quot;&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;電車遅延のため\&amp;quot; selected&amp;gt;電車遅延&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;腹痛のため\&amp;quot;&amp;gt;体調不良（腹痛）&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;頭痛のため\&amp;quot;&amp;gt;体調不良（頭痛）&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;体調不良のため\&amp;quot;&amp;gt;体調不良（理由なし）&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;保育園登園に時間がかかったため\&amp;quot;&amp;gt;保育園関係&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;家事都合のため\&amp;quot;&amp;gt;家事都合&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;私用のため\&amp;quot;&amp;gt;私用&amp;lt;/option&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;/select&amp;gt;&#39;;\n\nmailBody += &#39;&amp;lt;label for=\&amp;quot;chien\&amp;quot;&amp;gt;遅延証明書へのリンクを貼る&amp;lt;/label&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;select class=\&amp;quot;custom-select\&amp;quot; name=\&amp;quot;chien\&amp;quot; id=\&amp;quot;chien\&amp;quot; onchange=\&amp;quot;updateMessage()\&amp;quot;&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;option value=\&amp;quot;\&amp;quot; selected&amp;gt;なし&amp;lt;/option&amp;gt;&#39;;\n\nmsg.delayData.allData.forEach(function(value){\n mailBody += &#39;&amp;lt;option value=\&amp;quot;&#39; + value.link + &#39;\&amp;quot;&amp;gt;&#39; + value.title + &#39;&amp;lt;/option&amp;gt;&#39;;\n});\n\nmailBody += &#39;&amp;lt;/select&amp;gt;&#39;;\n\nmailBody += &#39;&amp;lt;label for=\&amp;quot;message\&amp;quot;&amp;gt;メール本文&amp;lt;/label&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;textarea class=\&amp;quot;form-control\&amp;quot; id=\&amp;quot;message\&amp;quot; rows=\&amp;quot;5\&amp;quot;&amp;gt;&amp;lt;/textarea&amp;gt;&#39;;\nmailBody += &#39;&amp;lt;br&amp;gt;&amp;lt;button type=\&amp;quot;button\&amp;quot; class=\&amp;quot;btn btn-primary btn-block\&amp;quot; onclick=\&amp;quot;sendMessage()\&amp;quot;&amp;gt;勤怠メールを送る&amp;lt;/button&amp;gt;&#39;;\n\nmsg.mailBody = mailBody;\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:340,&amp;quot;y&amp;quot;:300,&amp;quot;wires&amp;quot;:[[&amp;quot;a41aa11e.86e04&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;a41aa11e.86e04&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;スクリプト部分&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;let name = global.get(&#39;name&#39;);\nlet address = global.get(&#39;address&#39;);\n\nlet scriptBody = &#39;&amp;lt;script&amp;gt;&#39;;\nscriptBody += &#39;let reasonSelect = document.getElementById(\&amp;quot;reason\&amp;quot;); let chienSelect = document.getElementById(\&amp;quot;chien\&amp;quot;); let textArea = document.getElementById(\&amp;quot;message\&amp;quot;); function updateMessage() { let reasonIndex = reasonSelect.selectedIndex; let chienIndex = chienSelect.selectedIndex; let message = \&amp;quot;\&amp;quot;; message += \&amp;quot;&#39; + name + &#39;です。\\\\n\\\\n\&amp;quot;; message += \&amp;quot;大変申し訳ありませんが、\&amp;quot;; message += reasonSelect.options[reasonIndex].value; message += \&amp;quot;出社が遅れます。\\\\n\&amp;quot;; message += \&amp;quot;何卒宜しくお願いします。\&amp;quot;; if (!chienSelect.options[chienIndex].value) { textArea.value = message; return; } let request = new XMLHttpRequest(); request.onload = function () { message += \&amp;quot;\\\\n\\\\n遅延証明書はこちらです。\\\\n\&amp;quot;; message += request.responseText; textArea.value = message; }; request.open(\&amp;quot;GET\&amp;quot;, \&amp;quot;./encode/\&amp;quot; + encodeURIComponent(chienSelect.options[chienIndex].value.trim()), false, \&amp;quot;USER_NAME\&amp;quot;, \&amp;quot;PASSWORD\&amp;quot;); request.send(); } function sendMessage() { window.open(\&amp;quot;mailto:&#39; + address + &#39;?body=\&amp;quot; + encodeURIComponent(textArea.value)); } updateMessage();&#39;;\nscriptBody += &#39;&amp;lt;/script&amp;gt;&#39;;\n\nmsg.scriptBody = scriptBody;\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:340,&amp;quot;y&amp;quot;:340,&amp;quot;wires&amp;quot;:[[&amp;quot;6e8b7f2.3c2238&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;867b9e9b.bb5b8&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;http in&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;HTTPリクエスト&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;/encode/:url&amp;quot;,&amp;quot;method&amp;quot;:&amp;quot;get&amp;quot;,&amp;quot;upload&amp;quot;:false,&amp;quot;swaggerDoc&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:120,&amp;quot;y&amp;quot;:480,&amp;quot;wires&amp;quot;:[[&amp;quot;eb246d76.1afeb&amp;quot;,&amp;quot;fdb9da8c.f0ebf8&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;55421d41.0dc1b4&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;http response&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;HTTPレスポンス&amp;quot;,&amp;quot;statusCode&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;headers&amp;quot;:{},&amp;quot;x&amp;quot;:610,&amp;quot;y&amp;quot;:480,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;303db0f1.b72bf&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;http request&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;APIを叩く&amp;quot;,&amp;quot;method&amp;quot;:&amp;quot;GET&amp;quot;,&amp;quot;ret&amp;quot;:&amp;quot;txt&amp;quot;,&amp;quot;url&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;tls&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:330,&amp;quot;y&amp;quot;:520,&amp;quot;wires&amp;quot;:[[&amp;quot;55421d41.0dc1b4&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;808e61ff.edc38&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;URL変換&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;msg.url = &#39;https://is.gd/create.php?format=simple&amp;amp;url=&#39; + encodeURIComponent(msg.req.params.url);\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:320,&amp;quot;y&amp;quot;:480,&amp;quot;wires&amp;quot;:[[&amp;quot;303db0f1.b72bf&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;eb246d76.1afeb&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;debug&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;active&amp;quot;:true,&amp;quot;tosidebar&amp;quot;:true,&amp;quot;console&amp;quot;:false,&amp;quot;tostatus&amp;quot;:false,&amp;quot;complete&amp;quot;:&amp;quot;true&amp;quot;,&amp;quot;x&amp;quot;:310,&amp;quot;y&amp;quot;:560,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;b475750f.2c9468&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;comment&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;ページへのアクセス&amp;quot;,&amp;quot;info&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:130,&amp;quot;y&amp;quot;:140,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;b61cb0ab.67446&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;comment&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;URL短縮&amp;quot;,&amp;quot;info&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:100,&amp;quot;y&amp;quot;:440,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;892cd0e6.0c4ae&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;comment&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;定数の宣言&amp;quot;,&amp;quot;info&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;x&amp;quot;:100,&amp;quot;y&amp;quot;:40,&amp;quot;wires&amp;quot;:[]},{&amp;quot;id&amp;quot;:&amp;quot;92da441f.e87958&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;inject&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;起動時&amp;quot;,&amp;quot;topic&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;payload&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;payloadType&amp;quot;:&amp;quot;date&amp;quot;,&amp;quot;repeat&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;crontab&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;once&amp;quot;:true,&amp;quot;onceDelay&amp;quot;:0.1,&amp;quot;x&amp;quot;:100,&amp;quot;y&amp;quot;:80,&amp;quot;wires&amp;quot;:[[&amp;quot;7e9e582f.c0d258&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;7e9e582f.c0d258&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;function&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;差出人、宛先の設定&amp;quot;,&amp;quot;func&amp;quot;:&amp;quot;global.set(&#39;name&#39;, &#39;ポキオ&#39;);\nglobal.set(&#39;address&#39;, &#39;example@example.com&#39;);\nreturn msg;&amp;quot;,&amp;quot;outputs&amp;quot;:1,&amp;quot;noerr&amp;quot;:0,&amp;quot;x&amp;quot;:360,&amp;quot;y&amp;quot;:80,&amp;quot;wires&amp;quot;:[[]]},{&amp;quot;id&amp;quot;:&amp;quot;b83cd390.27959&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;node-red-contrib-httpauth&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;BASIC認証&amp;quot;,&amp;quot;file&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;cred&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;authType&amp;quot;:&amp;quot;Basic&amp;quot;,&amp;quot;realm&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;username&amp;quot;:&amp;quot;USER_NAME&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;PASSWORD&amp;quot;,&amp;quot;hashed&amp;quot;:false,&amp;quot;x&amp;quot;:110,&amp;quot;y&amp;quot;:220,&amp;quot;wires&amp;quot;:[[&amp;quot;a45bf2b.b54621&amp;quot;]]},{&amp;quot;id&amp;quot;:&amp;quot;fdb9da8c.f0ebf8&amp;quot;,&amp;quot;type&amp;quot;:&amp;quot;node-red-contrib-httpauth&amp;quot;,&amp;quot;z&amp;quot;:&amp;quot;7cbe5b40.a0b054&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;BASIC認証&amp;quot;,&amp;quot;file&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;cred&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;authType&amp;quot;:&amp;quot;Basic&amp;quot;,&amp;quot;realm&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;username&amp;quot;:&amp;quot;USER_NAME&amp;quot;,&amp;quot;password&amp;quot;:&amp;quot;PASSWORD&amp;quot;,&amp;quot;hashed&amp;quot;:false,&amp;quot;x&amp;quot;:110,&amp;quot;y&amp;quot;:520,&amp;quot;wires&amp;quot;:[[&amp;quot;808e61ff.edc38&amp;quot;]]}]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;フローエディターは、こんな感じになっています。&lt;/p&gt;
&lt;p&gt;&lt;center style=&#34;color: #585858; font-size: 95%; padding-bottom: 10px;&#34;&gt;
&lt;img src=&#34;https://dotstud.io/img/blog/243/9.png&#34; alt=&#34;9&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;/center&gt;&lt;/p&gt;
&lt;h2 id=&#34;herokuにデプロイして本格運用&#34;&gt;Herokuにデプロイして本格運用&lt;/h2&gt;
&lt;p&gt;今回は、enebularが提供してるNode-REDの仕組みを利用して、フローを設計してみました。&lt;/p&gt;
&lt;p&gt;フロー設計時にはテンポラリのエンドポイントURLが付与されるので、作りながら実際のWebページの挙動を試すことができます。&lt;/p&gt;
&lt;p&gt;また、実際に本格運用しようと思ったときも、enebularからHerokuやAWS Lambdaにフローをデプロイ可能なので、簡単に日々の業務改善ツールとして導入可能です。&lt;u&gt;enebularも無料で始められますし、HerokuやAWSも無料枠で運用することが可能です。&lt;/u&gt;&lt;/p&gt;
&lt;p&gt;サクッと業務改善ツールが作れる環境が揃っているので、みなさんもぜひ作ってみてください！&lt;/p&gt;</description></item><item><title>CloudflareのAPIをNode.js&#43;GitLab CIから実行してキャッシュクリアしてみよう</title><link>https://dotstud.io/blog/cloudflare-cache-clear-nodejs/</link><pubDate>Tue, 12 Feb 2019 12:20:03 +0900</pubDate><guid>https://dotstud.io/blog/cloudflare-cache-clear-nodejs/</guid><description>
&lt;p&gt;こんにちは、&lt;a href=&#34;https://dotstud.io/members/n0bisuke&#34;&gt;n0bisuke&lt;/a&gt;です。&lt;/p&gt;
&lt;p&gt;過去にも書いているように、dotstudioでは&lt;a href=&#34;https://cloudflare.com&#34;&gt;Cloudflare&lt;/a&gt;を使っています。&lt;/p&gt;
&lt;section class=&#34;link&#34; id=&#34;239&#34;&gt;
&lt;/section&gt;
&lt;p&gt;無料で使えて便利なのですが、&lt;u&gt;キャッシュが強くて中々更新されないといった現象&lt;/u&gt;があります。&lt;/p&gt;
&lt;p&gt;調べてみるとCloudflareのAPIでキャッシュクリアが出来るみたいだったのでNode.jsで叩きつつデプロイ時のCIタスクに乗せてみました。&lt;/p&gt;
&lt;h2 id=&#34;今回の環境&#34;&gt;今回の環境&lt;/h2&gt;
&lt;p&gt;参考までに今回の筆者の環境です。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;macOS 10.14 Mojave&lt;/li&gt;
&lt;li&gt;Node.js v11.9.0&lt;/li&gt;
&lt;li&gt;npm 6.7.0&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cloudflareでのキャッシュクリア方法&#34;&gt;Cloudflareでのキャッシュクリア方法&lt;/h2&gt;
&lt;p&gt;APIを使わない場合は、ページから直接削除できます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Custom Purgeのボタンを押すと、モーダルウィンドウが出てくるのでキャッシュクリアしたいドメインやページを指定しましょう。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/2.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;こんな感じの指定が出来ます。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;https://dotstud.io&lt;/code&gt;のようにメインドメイン指定が出来ます。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://hogehoge.dotstud.io&lt;/code&gt;のようにサブドメインでも大丈夫です。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;https://hogehoge.dotstud.io/hoge.html&lt;/code&gt;のようにファイル指定も可能です。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;記述したら&lt;code&gt;Purge&lt;/code&gt;ボタンを押してキャッシュクリアです。&lt;/p&gt;
&lt;p&gt;確認する際ですが、ブラウザ側のキャッシュが残ってしまってる可能性もあるので、ブラウザのシークレットモードなどでページを開いてあげると確実だと思います。&lt;/p&gt;
&lt;h2 id=&#34;api経由でcloudflareのキャッシュをクリア&#34;&gt;API経由でCloudflareのキャッシュをクリア&lt;/h2&gt;
&lt;p&gt;デプロイ時にキャッシュクリアをしたいので、API経由でキャッシュクリアをしてみましょう。&lt;/p&gt;
&lt;h3 id=&#34;cloudflareのapi-キーの取得&#34;&gt;CloudflareのAPI キーの取得&lt;/h3&gt;
&lt;p&gt;まずはAPIキーを取得します。右上のユーザーアイコンから&lt;code&gt;My Profile&lt;/code&gt;を選択し、ページ下部のAPI Keysの箇所を確認します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/3.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Global API KeyのViewボタンを押すとパスワード入力を求められるので、パスワードを入力するとAPIキーが表示されます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/4.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;apiキーを使ってcurlでキャッシュクリアをしてみる&#34;&gt;APIキーを使ってcurlでキャッシュクリアをしてみる&lt;/h3&gt;
&lt;p&gt;参考記事を元に試してみます。最初からNode.jsでやりたい人はスキップでOKです。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;参考: &lt;a href=&#34;https://blog.mosuke.tech/entry/2017/05/29/how_to_use_cloudflare_api/&#34;&gt;CloudFlare APIを使ってキャッシュを削除する&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;CloudflareのAPIの呼び出しはヘッダーには&lt;code&gt;X-Auth-Email&lt;/code&gt;と&lt;code&gt;X-Auth-Key&lt;/code&gt;の指定、&lt;code&gt;Content-Type: application/json&lt;/code&gt;の指定をする必要があります。&lt;/p&gt;
&lt;p&gt;手順としては大きく分けて2つSTEPです。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;STEP1. ZONE IDと呼ばれるIDを取得&lt;/li&gt;
&lt;li&gt;STEP2. ZONE IDを使ってキャッシュクリア&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以下のコマンドをターミナルなどで実行してみましょう。&lt;/p&gt;
&lt;h4 id=&#34;step1-zone-idと呼ばれるidを取得&#34;&gt;STEP1. ZONE IDと呼ばれるIDを取得&lt;/h4&gt;
&lt;p&gt;まずはZONE　IDの取得です。以下のコマンドで取得できます。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;curl -s -X GET &amp;quot;https://api.cloudflare.com/client/v4/zones?name=&amp;lt;MY DOMAIN&amp;gt;&amp;quot; -H &amp;quot;X-Auth-Email: &amp;lt;MY EMAIL&amp;gt;&amp;quot; -H &amp;quot;X-Auth-Key: &amp;lt;MY API KEY&amp;gt;&amp;quot; -H &amp;quot;Content-Type: application/json&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;&amp;lt;MY DOMAIN&amp;gt;&lt;/code&gt;、&lt;code&gt;&amp;lt;MY EMAIL&amp;gt;&lt;/code&gt;、&lt;code&gt;&amp;lt;MY API KEY&amp;gt;&lt;/code&gt;の箇所を適宜変更して実行して下さい。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;それぞれ、自分が管理しているドメイン、登録しているメールアドレス、先ほど取得したAPIキーです。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;実行例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -s -X GET &amp;quot;https://api.cloudflare.com/client/v4/zones?name=dotstud.io&amp;quot; \
-H &amp;quot;X-Auth-Email: hogehoge@gmail.com&amp;quot; \
-H &amp;quot;X-Auth-Key: xxxxxxxxxxxxxxxx&amp;quot; \
-H &amp;quot;Content-Type: application/json&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ZONE ID&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;コマンドを実行してエラーがなければ、JSONがかえってきます。ここのidの値がZONE IDになります。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{&amp;quot;result&amp;quot;:[{&amp;quot;id&amp;quot;:&amp;quot;yyyyyyyyyyyyyyyyyyyy&amp;quot;,&amp;quot;name&amp;quot;:&amp;quot;dotstud.io&amp;quot;,&amp;quot;status&amp;quot;:&amp;quot;active&amp;quot;,&amp;quot;paused&amp;quot;:false,&amp;quot;type&amp;quot;:&amp;quot;full&amp;quot;, (......以下省略)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/5.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h4 id=&#34;step2-zone-idを使ってキャッシュクリア&#34;&gt;STEP2. ZONE IDを使ってキャッシュクリア&lt;/h4&gt;
&lt;p&gt;次にZONE IDを使ってキャッシュクリアです。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;curl -X DELETE &amp;quot;https://api.cloudflare.com/client/v4/zones/&amp;lt;ZONE ID&amp;gt;/purge_cache&amp;quot; -H &amp;quot;Content-Type:application/json&amp;quot; -H &amp;quot;X-Auth-Key: &amp;lt;MY EMAIL&amp;gt;&amp;quot; -H &amp;quot;X-Auth-Email: &amp;lt;MY API KEY&amp;gt;&amp;quot; --data &#39;{&amp;quot;files&amp;quot;:[&amp;quot;&amp;lt;TARGET&amp;gt;&amp;quot;]}&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;先ほどと同様に適宜変更します。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;&amp;lt;ZONE ID&amp;gt;&lt;/code&gt;、&lt;code&gt;&amp;lt;MY EMAIL&amp;gt;&lt;/code&gt;、&lt;code&gt;&amp;lt;MY API KEY&amp;gt;&lt;/code&gt;、&lt;code&gt;&amp;lt;TARGET&amp;gt;&lt;/code&gt;の箇所を適宜変更して実行して下さい。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;ZONE ID&amp;gt;&lt;/code&gt;はSTEP1で取得したZONE IDで、&lt;code&gt;&amp;lt;TARGET&amp;gt;&lt;/code&gt;はキャッシュクリアさせたいドメインやファイル名の指定です。最初にAPI利用なしでCloudflareのサイト上でキャッシュクリアをした時に指定したときと同様の指定ができます。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;実行例&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;curl -X DELETE &amp;quot;https://api.cloudflare.com/client/v4/zones/yyyyyyyyyyyyyyyyyyyy/purge_cache&amp;quot; \
-H &amp;quot;Content-Type:application/json&amp;quot; \
-H &amp;quot;X-Auth-Key: xxxxxxxxxxxxxxxx&amp;quot; \
-H &amp;quot;X-Auth-Email: hogehoge@gmail.com&amp;quot; \
--data &#39;{&amp;quot;files&amp;quot;:[&amp;quot;https://hogehoge.dotstud.io/&amp;quot;]}&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;成功すると以下のようなレスポンスがあり、キャッシュがクリアされます。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{&amp;quot;result&amp;quot;:{&amp;quot;id&amp;quot;:&amp;quot;yyyyyyyyyyyyyyyyyyyy&amp;quot;},&amp;quot;success&amp;quot;:true,&amp;quot;errors&amp;quot;:[],&amp;quot;messages&amp;quot;:[]}%
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;node-jsでapiを叩いてみる&#34;&gt;Node.jsでAPIを叩いてみる&lt;/h3&gt;
&lt;p&gt;まずはフォルダやファイルの準備をしましょう。
mycfフォルダ内に&lt;code&gt;purge_cache.js&lt;/code&gt;というファイルを作成します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkdir mycf
cd mycf
touch purge_cache.js
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;HTTPリクエストを利用する為に&lt;a href=&#34;https://www.npmjs.com/package/axios&#34;&gt;axios&lt;/a&gt;をインストールします。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm init -y
npm i axios
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;purge_cache.js&lt;/code&gt;に以下の内容をコピペして、&lt;code&gt;YOUREMAIL&lt;/code&gt;、&lt;code&gt;APIKEY&lt;/code&gt;、&lt;code&gt;PURGE_TARGETS&lt;/code&gt;を適宜書き換えましょう。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&#39;use strict&#39;;
const YOUREMAIL = `hogehoge@gmail.com`; //Cloudflareに登録してるメールアドレス
const APIKEY = `xxxxxxxxxxxxxxxxx`; //CloudflareのAPI KEY
const PURGE_TARGETS = [`https://hogehoge.dotstud.io`]; //消す対象ページ
const axiosBase = require(&#39;axios&#39;);
const axios = axiosBase.create({
baseURL: `https://api.cloudflare.com/client/v4/zones`,
headers: {
&#39;Content-Type&#39;: &#39;application/json&#39;,
&#39;X-Auth-Key&#39;: APIKEY,
&#39;X-Auth-Email&#39;: YOUREMAIL
}
})
const main = async() =&amp;gt; {
try {
//STEP1. ZoneIDの取得
let res = await axios.get(&#39;/&#39;);
const zoneid = res.data.result[0].id;
//STEP2. キャッシュ削除
res = await axios.delete(`/${zoneid}/purge_cache`,{
data: {
files: PURGE_TARGETS
}
});
console.log(res.data);
} catch (error) {
console.log(error.response.data)
}
}
main();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;実行します。エラーが出なければこれでキャッシュクリアされます。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;node purge_cache.js
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;これでNode.jsからCloudflareのキャッシュクリアをすることが出来ました。&lt;/p&gt;
&lt;h2 id=&#34;gitlab-ciのタスクで実行する&#34;&gt;GitLab CIのタスクで実行する&lt;/h2&gt;
&lt;p&gt;実際にデプロイした際にキャッシュクリアされるようにしたいのでGitLab CIのタスクに入れ込みました。&lt;/p&gt;
&lt;h3 id=&#34;ソースコードの変更&#34;&gt;ソースコードの変更&lt;/h3&gt;
&lt;p&gt;先ほどソースコード上に書いていた&lt;code&gt;YOUREMAIL&lt;/code&gt;などの値は環境変数から取得するように&lt;code&gt;purge_cache.js&lt;/code&gt;を変更しました。また、最後(STEP3)にDiscordにデプロイ成功を通知する処理も追加しています。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&#39;use strict&#39;;
if(!process.env.YOUREMAIL || !process.env.APIKEY || !process.env.PURGE_TARGET){
console.log(&#39;環境変数が足りません&#39;);
return;
}
const YOUREMAIL = process.env.YOUREMAIL; //Cloudflareに登録してるメールアドレス
const APIKEY = process.env.APIKEY; //CloudflareのAPI KEY
const PURGE_TARGETS = [process.env.PURGE_TARGET]; //消す対象ページ
const axiosBase = require(&#39;axios&#39;);
const axios = axiosBase.create({
baseURL: `https://api.cloudflare.com/client/v4/zones`,
headers: {
&#39;Content-Type&#39;: &#39;application/json&#39;,
&#39;X-Auth-Key&#39;: APIKEY,
&#39;X-Auth-Email&#39;: YOUREMAIL
}
})
const main = async() =&amp;gt; {
try {
//STEP1. ZoneIDの取得
let res = await axios.get(&#39;/&#39;);
const zoneid = res.data.result[0].id;
//STEP2. キャッシュ削除
res = await axios.delete(`/${zoneid}/purge_cache`,{
data: {
files: PURGE_TARGETS
}
});
console.log(res.data);
//STEP3. Discordへ通知
res = await axiosBase.post(process.env.DISCORD_WEBHOOK_URL,{
content: &#39;デプロイ成功 &amp;amp; キャッシュクリア&#39;
});
console.log(res.data);
} catch (error) {
console.log(error.response.data)
}
}
main();
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;package-jsonの変更&#34;&gt;package.jsonの変更&lt;/h3&gt;
&lt;p&gt;また、先日書いた記事にもあるような、VuePressのデプロイフローに今回のタスクを乗せていきます。&lt;/p&gt;
&lt;section class=&#34;link&#34; id=&#34;239&#34;&gt;
&lt;/section&gt;
&lt;p&gt;&lt;code&gt;package.json&lt;/code&gt;に&lt;code&gt;ci:purge_cache&lt;/code&gt;を追加して&lt;code&gt;purge_cache.js&lt;/code&gt;を実行するスクリプトを追加します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;(省略)
&amp;quot;scripts&amp;quot;: {
&amp;quot;dev&amp;quot;: &amp;quot;vuepress dev docs&amp;quot;,
&amp;quot;build&amp;quot;: &amp;quot;vuepress build docs&amp;quot;,
&amp;quot;ci:purge_cache&amp;quot;: &amp;quot;node purge_cache.js&amp;quot;,
},
(省略)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;gitlab-ci-ymlの変更&#34;&gt;.gitlab-ci.ymlの変更&lt;/h3&gt;
&lt;p&gt;GitLab CIの挙動として&lt;code&gt;.gitlab-ci.yml&lt;/code&gt;の記述は以下のようにしています。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;after_script&lt;/code&gt;の箇所で&lt;code&gt;npm run ci:purge_cache&lt;/code&gt;をすることで、デプロイが終わった後に&lt;code&gt;purge_cache.js&lt;/code&gt;が実行されてキャッシュクリアがされます。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;image: node:current-alpine
pages:
cache:
paths:
- node_modules/
before_script:
- node -v
- npm i
script:
- npm run build
- cp docs/robots.txt docs/.vuepress/dist #限定公開の場合
- cp -pr docs/.vuepress/dist public
after_script:
- npm run ci:purge_cache #Cloudflareのキャッシュクリア &amp;amp; Discordへ通知
artifacts:
paths:
- public
only:
- master
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;環境変数の登録&#34;&gt;環境変数の登録&lt;/h3&gt;
&lt;p&gt;GitLabのリポジトリから環境変数を追加することができます。&lt;/p&gt;
&lt;p&gt;リポジトリの&lt;code&gt;Settings&amp;gt;CI/CD&lt;/code&gt;から&lt;code&gt;Environment variables&lt;/code&gt;の箇所を開きます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/6.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;各値を名前をソースコードに記述した変数名と一致させつつ設定しましょう。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://dotstud.io/img/blog/242/7.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;ここまでの手順が出来るとデプロイするたびに、Cloudflareのキャッシュがクリアされて、なかなか更新されない問題が解消できると思います。&lt;/p&gt;
&lt;p&gt;これでもページが更新されない場合はブラウザ側でキャッシュされている可能性が高いのでシークレットモードなどで確認したり、ブラウザを変えてみるのがベターだと思います。&lt;/p&gt;
&lt;p&gt;キャッシュコントロールをしてCloudflareをもっと便利に使っていきましょう。&lt;/p&gt;
&lt;p&gt;それでは！&lt;/p&gt;</description></item><item><title>NefryBTからGoogleDriveにデータをアップロードする方法</title><link>https://dotstud.io/blog/update-nefrybt-to-googledrive/</link><pubDate>Thu, 31 Jan 2019 03:21:47 +0900</pubDate><guid>https://dotstud.io/blog/update-nefrybt-to-googledrive/</guid><description>
&lt;p&gt;こんにちは、NefryBTきっかけでIoTの世界に入った&lt;a href=&#34;https://dotstud.io/members/kuroda&#34;&gt;黒田&lt;/a&gt;と言います。Webとどう接していけばいいのか分からないときにNefryBTと出会い、意外と難しくない(何とかなる)ことを知りました。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://dotstud.io/members/wami&#34;&gt;わみさん&lt;/a&gt;、ありがとうございます。&lt;/p&gt;
&lt;p&gt;今回は、NefryBTからGoogleDriveにデータをアップロード出来たので紹介したいと思います。&lt;/p&gt;
&lt;p&gt;おそらく&lt;strong&gt;ESP32マイコン搭載モジュール&lt;/strong&gt;であれば、同じ考えで出来ると思います。&lt;/p&gt;
&lt;h2 id=&#34;アップロードまでの手順&#34;&gt;アップロードまでの手順&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;リフレッシュトークンなど必要な情報を取得する(最初の一度だけ)&lt;/li&gt;
&lt;li&gt;リフレッシュトークンから認証用のアクセストークンを取得する&lt;/li&gt;
&lt;li&gt;http POSTリクエストでデータをアップロードする&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;はい、とてもシンプルです。&lt;/p&gt;
&lt;p&gt;&lt;u&gt;httpを全く分からない私としてはここまでたどり着くまでかなり苦労しました・・・先人の方々が様々な実績を残してくれているのを本当に感謝しています。) &lt;/u&gt;&lt;/p&gt;
&lt;p&gt;もう少し詳しく説明します。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://developers.google.com/drive/api/v3/about-sdk&#34;&gt;Google Drive REST APIのサイト&lt;/a&gt;を読みますと、まずGoogleDriveへアクセスするには認証用のアクセストークンが必要なこと、データをアップロードするときの&lt;a href=&#34;https://developers.google.com/drive/api/v3/multipart-upload&#34;&gt;POSTリクエストの書き方&lt;/a&gt;が決まっていることが分かります。&lt;/p&gt;
&lt;p&gt;そのためアクセストークンで認証を行いつつPOSTリクエストを投げれば、NefryBTからでもデータをアップロード出来ます。&lt;/p&gt;
&lt;p&gt;ここで一つ&lt;strong&gt;トラップ&lt;/strong&gt;があります。
アクセストークンの有効期限は3600秒(1時間)です。当初これを知らなかったので、&lt;u&gt;時間が経つとなぜか認証エラーになる問題&lt;/u&gt;に悩まされました。&lt;/p&gt;
&lt;p&gt;回避策としてリフレッシュトークンからアクセストークンを取得するようにします。すると、アクセストークンが新しくなるので、認証もばっちり通ります。
つまり、&lt;u&gt;アクセストークンよりも再発行用のリフレッシュトークンが欲しい&lt;/u&gt;のです。&lt;/p&gt;
&lt;p&gt;ではでは、具体的な手順を説明していきたいと思います。&lt;/p&gt;
&lt;h3 id=&#34;手順1-リフレッシュトークンなど必要な情報を取得する-最初の一度だけ&#34;&gt;[手順1] リフレッシュトークンなど必要な情報を取得する(最初の一度だけ)&lt;/h3&gt;
&lt;p&gt;今回はNode.jsで取得します。&lt;/p&gt;
&lt;p&gt;公式サイトの&lt;a href=&#34;https://developers.google.com/drive/api/v3/quickstart/nodejs&#34;&gt;Node.js Quickstart&lt;/a&gt;に従って進めていきます。&lt;/p&gt;
&lt;p&gt;公式サイトにある「ENABLE THE DRIVE API」を押します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/0ba2b731-7e29-2db2-7591-6ae56f1a7950.png&#34; alt=&#34;OAuth0.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;するとOAuth2.0クライアントIDを作ってくれます。
続けて「DOWNLOAD CLIENT CONFIGURATION」を押してcredentials.jsonを取得します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/d4efa193-e36c-2e83-81f5-590cf105894a.png&#34; alt=&#34;OAuth1.PNG&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;(補足)
例えばcredentials.jsonを削除してしまって、もう一度取得したい場合・・・
Google Cloud PlatformのAPI認証情報からダウンロードできます。&lt;/p&gt;
&lt;p&gt;左上のメニューを押して「APIとサービス」を押します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/b26bff46-0dea-afba-38cd-51cb6ba8eb68.png&#34; alt=&#34;OAuth2-1.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;認証情報の中に先ほど作成したクライアントIDがありますので、ダウンロードします。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/901be3e5-b947-c290-e641-8db7dd075dcf.png&#34; alt=&#34;OAuth2-2.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;※ファイル名は「client&lt;em&gt;secret&lt;/em&gt;***.json」となっていますので「credentials.json」に変更します。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;次にNode.jsでアクセストークンなどの情報を取得します。(Node.jsやnpmが動く環境は用意されているものとします。)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;アクセストークンを取得するフォルダを用意して以下のモジュールをインストールします。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;npm install googleapis@27 --save
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;credentials.jsonも同じフォルダに移動させます。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;index.jsを作成します。公式サイトのままではスコープがReadOnlyになっているのでアップロードできるスコープに変更します。それ以外は全く同じです。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[変更前]
const SCOPES = [&#39;https://www.googleapis.com/auth/drive.metadata.readonly&#39;];
[変更後]
const SCOPES = [&#39;https://www.googleapis.com/auth/drive&#39;];
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;スコープについて詳しくは&lt;a href=&#34;https://developers.google.com/drive/api/v2/about-auth&#34;&gt;About Authorization&lt;/a&gt;を参照ください。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;準備は整ったのでNode.jsを実行します。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;１. credentials.json、index.jsなど一式入っているフォルダです。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/52fdf814-f643-1754-9a6c-2a6d9e3fe8bd.png&#34; alt=&#34;AccessToken_0.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;２. nodeを実行します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/1ce7b76c-988e-fd6f-c863-eef96b1fa4ac.png&#34; alt=&#34;AccessToken_1.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;３. URLが表示されるのでアクセスします。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/64852163-ae0f-6156-6d7d-fac9e90c7a27.png&#34; alt=&#34;AccessToken_2.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;４. 紐づけるGoogleアカウントを選択し、GoogleDriveへのアクセスを許可します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/dac52655-b356-073b-96bf-678c073897c1.png&#34; alt=&#34;AccessToken_3.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/55cd28a0-da9b-e5ee-2b91-095030c96f37.png&#34; alt=&#34;AccessToken_4.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;５. 最後に表示されるコードを上記3.の続きに貼り付けます。
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/3fd64238-c27d-6412-23f9-d9754bec9ff9.png&#34; alt=&#34;AccessToken_5.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/90f1683d-0731-25e9-e376-cdbb11156e2b.png&#34; alt=&#34;AccessToken_6.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;６.無事token.jsonを取得できました。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/7aa8a2bb-b2d0-f5d0-787c-6f142da997a8.png&#34; alt=&#34;AccessToken_7.PNG&#34; /&gt;&lt;/p&gt;
&lt;h3 id=&#34;手順2-リフレッシュトークンから認証用のアクセストークンを取得する&#34;&gt;[手順2] リフレッシュトークンから認証用のアクセストークンを取得する&lt;/h3&gt;
&lt;p&gt;アップロードに必要な情報は揃ったので、あとはNefryBTだけ触っていきます。&lt;/p&gt;
&lt;p&gt;リフレッシュトークンからアクセストークンを取得するhttp POSTリクエストは次の通りとなります。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[ヘッダー]
POST /oauth2/v4/token HTTP/1.1
Host: www.googleapis.com:443
Connection: close
Content-Type: application/x-www-form-urlencoded
Content-Length: [POSTするデータの長さ]
[POSTするデータ]
refresh_token=[リフレッシュトークン]&amp;amp;client_id=[クライアントID]&amp;amp;client_secret=[クライアントシークレット]&amp;amp;grant_type=refresh_token
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;クライアントIDとクライアントシークレットは「credentials.json」に書いてあります。もしくはGoogle Cloud PlatformのAPIの認証情報でも確認できます。&lt;/li&gt;
&lt;li&gt;リフレッシュトークンは「token.json」に書いてあります。&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;POSTリクエストを投げるとレスポンスがjson形式で返ってきます。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{
&amp;quot;access_token&amp;quot;: &amp;quot;***&amp;quot;,
&amp;quot;expires_in&amp;quot;: 3600,
&amp;quot;scope&amp;quot;: &amp;quot;https://www.googleapis.com/auth/drive&amp;quot;,
&amp;quot;token_type&amp;quot;: &amp;quot;Bearer&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;access_token:***が取得したいアクセストークンになります。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;上記の内容をNefryBTで書くと次のようになります。&lt;/p&gt;
&lt;p&gt;※&lt;a href=&#34;https://github.com/NearMugi/NefrySample/tree/master/GoogleAPI/%23createLibrary/googleAPI/PostDrive&#34;&gt;プログラムソース&lt;/a&gt;のうち主要な部分を抜粋しています。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;リフレッシュトークン・クライアントID・クライアントシークレットは個人情報なので、直接プログラムソースに記載するのではなくNefryBTのDataStoreに登録します。&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;POSTするデータを設定します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; String postData = &amp;quot;&amp;quot;;
postData += &amp;quot;refresh_token=&amp;quot; + refresh_token;
postData += &amp;quot;&amp;amp;client_id=&amp;quot; + client_id;
postData += &amp;quot;&amp;amp;client_secret=&amp;quot; + client_secret;
postData += &amp;quot;&amp;amp;grant_type=&amp;quot; + String(&amp;quot;refresh_token&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ヘッダーを設定します。
データの長さはPOSTするデータ(postData)から算出します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; String postHeader = &amp;quot;&amp;quot;;
postHeader += (&amp;quot;POST &amp;quot; + token_uri + &amp;quot; HTTP/1.1\r\n&amp;quot;);
postHeader += (&amp;quot;Host: &amp;quot; + String(host) + &amp;quot;:&amp;quot; + String(httpsPort) + &amp;quot;\r\n&amp;quot;);
postHeader += (&amp;quot;Connection: close\r\n&amp;quot;);
postHeader += (&amp;quot;Content-Type: application/x-www-form-urlencoded\r\n&amp;quot;);
postHeader += (&amp;quot;Content-Length: &amp;quot;);
postHeader += (postData.length());
postHeader += (&amp;quot;\r\n\r\n&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;POSTリクエストを投げてレスポンスを取得します。更にレスポンスからアクセストークンを取得します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; String result = postRequest(host, postHeader, postData);
//取得したjsonデータからAccessTokenを取得する
const int BUFFER_SIZE = JSON_OBJECT_SIZE(4) + JSON_ARRAY_SIZE(1);
StaticJsonBuffer&amp;lt;BUFFER_SIZE&amp;gt; jsonBuffer;
char json[result.length() + 1];
result.toCharArray(json, sizeof(json));
JsonObject&amp;amp; root = jsonBuffer.parseObject(json);
const char* tmp = root[&amp;quot;access_token&amp;quot;];
token = tmp;
return token;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;POSTリクエストを行っているソース(&lt;code&gt;postRequest&lt;/code&gt;)です。正常に処理が終わればレスポンスを返します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;String postRequest(const char* server, String header, String data) {
String result = &amp;quot;&amp;quot;;
// Use WiFiClientSecure class to create TLS connection
WiFiClientSecure client;
Serial.print(&amp;quot;Connecting to: &amp;quot;); Serial.println(server);
if (!client.connect(server, httpsPort)) {
Serial.println(&amp;quot;connection failed&amp;quot;);
return result;
}
Serial.println(&amp;quot;certificate matches&amp;quot;);
Serial.print(&amp;quot;post: &amp;quot;); Serial.println(header + data);
client.print(header + data);
Serial.println(&amp;quot;Receiving response&amp;quot;);
if (client.connected()) {
if (client.find(&amp;quot;HTTP/1.1 &amp;quot;)) {
String status_code = client.readStringUntil(&#39;\r&#39;);
Serial.print(&amp;quot;Status code: &amp;quot;); Serial.println(status_code);
if (status_code != &amp;quot;200 OK&amp;quot;) {
Serial.println(&amp;quot;There was an error&amp;quot;);
}
}
if (client.find(&amp;quot;\r\n\r\n&amp;quot;)) {
Serial.println(F(&amp;quot;[Read Data]&amp;quot;));
}
String line = client.readStringUntil(&#39;\r&#39;);
Serial.println(line);
result += line;
}
Serial.println(&amp;quot;closing connection&amp;quot;);
return result;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;だいたいこんな感じで無事アクセストークンを取得できました。&lt;/p&gt;
&lt;h3 id=&#34;手順3-http-postリクエストでデータをアップロードする&#34;&gt;[手順3] http POSTリクエストでデータをアップロードする&lt;/h3&gt;
&lt;p&gt;いよいよデータをアップロードしてみます。今回はテキストファイルとJpegファイルのアップロード方法を紹介します。
公式サイトの&lt;a href=&#34;https://developers.google.com/drive/api/v3/manage-uploads&#34;&gt;Uploading Files&lt;/a&gt;によりますと、アップロード方法は3パターンあります。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simple upload&lt;/li&gt;
&lt;li&gt;Multipart upload&lt;/li&gt;
&lt;li&gt;Resumable upload&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;ldquo;Simple upload&amp;rdquo;の場合、アップロードしたファイル名は全て&amp;rdquo;untitled&amp;rdquo;となってしまい、具合がよろしくありません。
&amp;ldquo;Multipart upload&amp;rdquo;の場合、ファイルに様々な設定を付加できます。今回はファイル名・親フォルダの指定・コメントを設定しました。
(&amp;ldquo;Resumable upload&amp;rdquo;はどんなものか調べていません・・・)&lt;/p&gt;
&lt;p&gt;Multipart uploadのPOSTリクエストは次の通りです。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;POST https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart HTTP/1.1
Authorization: Bearer [YOUR_AUTH_TOKEN]
Content-Type: multipart/related; boundary=foo_bar_baz
Content-Length: [NUMBER_OF_BYTES_IN_ENTIRE_REQUEST_BODY]
--foo_bar_baz
Content-Type: application/json; charset=UTF-8
{
&amp;quot;name&amp;quot;: &amp;quot;myObject&amp;quot;
}
--foo_bar_baz
Content-Type: image/jpeg
[JPEG_DATA]
--foo_bar_baz--
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;[YOUR_AUTH_TOKEN]はアクセストークンを設定します。&lt;/li&gt;
&lt;li&gt;[NUMBER_OF_BYTES_IN_ENTIRE_REQUEST_BODY]は &lt;strong&gt;ヘッダーから最後のデータまですべてのサイズ&lt;/strong&gt; となります。つまり最初のPOSTから最後の&amp;ndash;foo_bar_baz&amp;ndash;まで全てのサイズを設定します。これを間違えると正しくPOSTリクエストを投げることが出来ません。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;name&amp;quot;: &amp;quot;myObject&amp;quot;&lt;/code&gt; の部分がアップロードするファイルの設定を記載する部分となります。
何を設定できるかは&lt;a href=&#34;https://developers.google.com/drive/api/v3/reference/files&#34;&gt;公式ページの&amp;rdquo;Files&amp;rdquo;&lt;/a&gt;を参照ください。&lt;/li&gt;
&lt;li&gt;その下の&lt;code&gt;Content-Type: image/jpeg&lt;/code&gt; がアップロードするデータの形式となり、その次にデータの中身を記述していきます。&lt;/li&gt;
&lt;li&gt;最後に&lt;code&gt;--foo_bar_baz--&lt;/code&gt; で閉めます。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;まとめますと、プログラムを書くとき毎回設定しなければならないのは次の4つです。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;アクセストークン&lt;/li&gt;
&lt;li&gt;POSTリクエスト全体のサイズ&lt;/li&gt;
&lt;li&gt;ファイルの設定(ファイル名・親フォルダ・コメント)&lt;/li&gt;
&lt;li&gt;ファイルの中身&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;テキストファイルをアップロードする&#34;&gt;テキストファイルをアップロードする&lt;/h2&gt;
&lt;p&gt;上記の仕様を踏まえてテキストファイルをアップロードする例を挙げます。この次に紹介するJpegファイルのアップロードと比べるとシンプルで分かりやすいと思います。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;POSTリクエストのファイルの指定周り(&lt;code&gt;--foo_bar_baz&lt;/code&gt;部分)を設定します。&lt;/li&gt;
&lt;li&gt;上記1.のあとPOSTリクエスト全体のサイズが分かるのでヘッダー(&lt;code&gt;POST https://&lt;/code&gt;部分)を設定します。&lt;/li&gt;
&lt;li&gt;上記1.と2.をPOSTします。&lt;/li&gt;
&lt;li&gt;データの中身をPOSTします。&lt;/li&gt;
&lt;li&gt;&lt;p&gt;最後の&amp;rsquo;&amp;ndash;foo_bar_baz&amp;ndash;&amp;lsquo;をPOSTします。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;void postDrive_Text(String _fileName, String _textData, String _comment) {
uint8_t DataSize = _textData.length();
uint8_t postData[DataSize];
for (int i = 0; i &amp;lt; DataSize; i++) {
postData[i] = (uint8_t)_textData[i];
}
1. POSTリクエストのファイルの指定周りを設定
String start_request = getStartRequest_Text(_fileName, _comment);
2. ヘッダーを設定
uint16_t full_length;
full_length = start_request.length() + DataSize + end_request.length();
String postHeader = getPostHeader(full_length);
String result = &amp;quot;&amp;quot;;
// Use WiFiClientSecure class to create TLS connection
WiFiClientSecure client;
if (!client.connect(host, httpsPort)) {
Serial.println(&amp;quot;connection failed&amp;quot;);
return ;
}
3. 1.と2.をPOST
client.print(postHeader + start_request);
4. データの中身をPOST
client.write(&amp;amp;postData[0] , DataSize);
5. --foo_bar_baz--をPOST
client.println(end_request);
if (client.connected()) {
if (client.find(&amp;quot;HTTP/1.1 &amp;quot;)) {
String status_code = client.readStringUntil(&#39;\r&#39;);
Serial.print(&amp;quot;Status code: &amp;quot;); Serial.println(status_code);
if (status_code != &amp;quot;200 OK&amp;quot;) {
Serial.println(&amp;quot;There was an error&amp;quot;);
}
}
if (client.find(&amp;quot;\r\n\r\n&amp;quot;)) {
Serial.println(F(&amp;quot;[Read Data]&amp;quot;));
} else {
Serial.println(F(&amp;quot;[WARNING] Response Data is Nothing&amp;quot;));
}
String line = client.readStringUntil(&#39;\r&#39;);
Serial.println(line);
result += line;
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;実際にテキストファイルをアップロードしている様子&#34;&gt;実際にテキストファイルをアップロードしている様子&lt;/h3&gt;
&lt;p&gt;１. アップロード先のフォルダを作成しておきます。親フォルダIDは「&lt;code&gt;https://drive.google.com/drive/folders/***&lt;/code&gt;」の***の部分です。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/c32ed96f-9dc4-59cb-0eef-c1091b088397.png&#34; alt=&#34;GoogleDrive_Text_0.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;２. NefryBTのセットアップが完了するのを待ちます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/699a3064-ec88-d560-2429-f5cab310ce9b.jpeg&#34; alt=&#34;DSC_0003.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/3b5bc537-b82a-eb2e-a751-077817386f7e.jpeg&#34; alt=&#34;DSC_0005.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;３. セットアップが完了したらNefryBTについているボタンを押します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/cfafe65c-ebb7-d82c-e566-d47436cf7ee9.jpeg&#34; alt=&#34;DSC_0006.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;４. 成功しました！&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/97de4845-f602-0aa5-26ac-064cd47609be.jpeg&#34; alt=&#34;DSC_0007.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;５. GoogleDriveを見てみるとしっかりとアップロードされています！&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/72fae28e-6ac8-4fca-e940-265031c2c8cf.png&#34; alt=&#34;GoogleDrive_Text_1.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/5b5cb82b-7dd1-d3e4-bf3b-bb60bfffdb1a.png&#34; alt=&#34;GoogleDrive_Text_2.PNG&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;jpegファイルをアップロードする&#34;&gt;Jpegファイルをアップロードする&lt;/h2&gt;
&lt;p&gt;続いてJpegファイルをアップロードする方法です。&lt;strong&gt;ここからかなり込み入った内容になります。&lt;/strong&gt;
今回JpegファイルにしてアップロードしたものはNefryBTに接続したカメラモジュールで撮った画像となります。そのためカメラモジュールの話とGoogleDriveへアップロードする話が混在しますのでご了承ください・・・&lt;/p&gt;
&lt;h3 id=&#34;カメラモジュールについて&#34;&gt;カメラモジュールについて&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/eeaaa02a-2c36-b131-aa32-eeacef9abb63.jpeg&#34; alt=&#34;ArduCAM.jpg&#34; /&gt;&lt;/p&gt;
&lt;p&gt;使用したカメラモジュールは&lt;a href=&#34;https://www.switch-science.com/catalog/3780/&#34;&gt;Arducam Miniモジュール(2メガピクセル)&lt;/a&gt;です。ESP32向けのサンプルがあったので動かせるだろうと思って選びました。
(NefryBTのことを考えれば&lt;a href=&#34;https://www.switch-science.com/catalog/1626/&#34;&gt;Groveのカメラ&lt;/a&gt;でも良かったとあとで気づきました・・・)&lt;/p&gt;
&lt;p&gt;初期設定やカメラモジュールからデータを取得するところは&lt;a href=&#34;https://github.com/NearMugi/NefrySample/tree/master/ArduCAM/OV2640&#34;&gt;プログラムソース&lt;/a&gt;を参照ください。&lt;/p&gt;
&lt;p&gt;厄介なのは&lt;strong&gt;取得したデータ全てがJpegデータではない&lt;/strong&gt;ことです。このカメラモジュールの場合、1バイト目に0x00が入っています。これ、要らないデータなのです。きちんとJpegファイルにあたるデータをアップロードしないと正しく表示されません。&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.setsuki.com/hsp/ext/jpg.htm&#34;&gt;Jpegファイル&lt;/a&gt;は開始位置(0xFFD8)と終了位置(0xFFD9)が決まっています。この範囲のデータだけをアップロードすればJpegファイルとして正しく表示されます。&lt;/p&gt;
&lt;h3 id=&#34;プログラムのポイント&#34;&gt;プログラムのポイント&lt;/h3&gt;
&lt;p&gt;カメラモジュールの仕様を踏まえてアップロードします。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Jpegファイルのデータサイズは何十万バイトと膨大なので全て変数に入れて一括でPOSTすることはできません。そのためデータを分割してカメラモジュールから取得、POSTを繰り返します。&lt;/li&gt;
&lt;li&gt;POSTリクエスト全体のサイズとJpegファイルのサイズが異なるので、&lt;strong&gt;POSTリクエスト全体のサイズに足りない分を最後に0x00をPOSTする&lt;/strong&gt;ことで整合性を合わせています。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;プログラムソースを抜粋します。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// ReadSizeはカメラモジュールで取得したデータサイズ
//GoogleDriveへポスト
String start_request = api.getStartRequest_Jpeg(&amp;quot;Capture&amp;quot;, &amp;quot;From ArduCam&amp;quot;);
String end_request = api.getEndRequest();
uint32_t full_length;
full_length = start_request.length() + ReadSize + end_request.length();
String postHeader = api.getPostHeader(full_length);
(中略)
client.print(postHeader + start_request);
//JPEGデータ
static const size_t bufferSize = 2048;
static uint8_t buffer[bufferSize] = {0xFF};
uint32_t index = 0;
uint32_t sizeCnt = 0;
uint8_t now = 0;
uint8_t prev = 0;
myCAM.CS_LOW();
myCAM.set_fifo_burst();
カメラモジュールのデータをPOSTしている部分
bool isHeader = false;
while (ReadSize--) {
prev = now;
now = SPI.transfer(0x00);
//ヘッダーを探す(0xFF,0xD8)
if (!isHeader) {
if (prev == 0xFF &amp;amp;&amp;amp; now == 0xD8) {
Serial.println(F(&amp;quot;JPEG First Data is Found&amp;quot;));
buffer[0] = 0xFF;
buffer[1] = 0xD8;
index = 2;
sizeCnt = 2;
isHeader = true;
}
continue;
}
//ヘッダーが見つかったあと
sizeCnt++;
// JPEGファイルの最後を検出したら終了(0xFF,0xD9)
if (prev == 0xFF &amp;amp;&amp;amp; now == 0xD9) {
Serial.println(F(&amp;quot;JPEG Last Data is Found&amp;quot;));
buffer[index++] = now;
client.write(&amp;amp;buffer[0], index);
myCAM.CS_HIGH();
break;
}
if (index &amp;lt; bufferSize) {
buffer[index] = now;
index++;
} else {
if (!client.connected()) break;
client.write(&amp;amp;buffer[0], bufferSize);
index = 0;
buffer[index++] = now;
}
}
myCAM.CS_HIGH();
ReadSize += 1;
Serial.print(F(&amp;quot;JPEG Data Size: &amp;quot;)); Serial.println(sizeCnt);
Serial.print(F(&amp;quot;Remaining Data Size: &amp;quot;)); Serial.println(ReadSize);
client.println(end_request);
POSTリクエスト全体のサイズを調整している部分
//バッファーメモリサイズと画像サイズが異なるため、full_lengthに達していない。
//足りない分の帳尻を合わせる
uint8_t tmpbuf[ReadSize] = {0x00};
client.write(&amp;amp;tmpbuf[0], ReadSize);
(以下、省略)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;実際にjpegファイルをアップロードしている様子&#34;&gt;実際にJpegファイルをアップロードしている様子&lt;/h3&gt;
&lt;p&gt;１. アップロード先のフォルダはテキストファイルと同じところにします。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/2660eda8-1474-644d-fae2-bba8b87c502d.png&#34; alt=&#34;GoogleDrive_Jpeg_0.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;２. カメラで撮ってみます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/c25e4a34-5b9c-44ff-3f78-b390c2c492de.jpeg&#34; alt=&#34;DSC_0015.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;３. NefryBTのセットアップが完了するのを待ちます。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/91963234-adc5-7317-654b-41dbd6b8b9ca.jpeg&#34; alt=&#34;DSC_0010.JPG&#34; /&gt;
&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/a85255a7-e375-2d75-c7d0-4d126e66b60f.jpeg&#34; alt=&#34;DSC_0012.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;４. セットアップが完了したらNefryBTについているボタンを押します。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/6e91d9ac-0e56-6df0-062b-2d158fd75b3e.jpeg&#34; alt=&#34;DSC_0013.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;５. 成功しました！&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/c7291283-ac2a-feb9-d924-9c23963058b1.jpeg&#34; alt=&#34;DSC_0014.JPG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;６. GoogleDriveを見てみるとしっかりとアップロードされています！&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/b9ed65c6-185b-a57c-1877-1bb079b2400f.png&#34; alt=&#34;GoogleDrive_Jpeg_1.PNG&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://qiita-image-store.s3.amazonaws.com/0/237144/fac4420d-d91a-3849-f71c-b17ab86d842f.png&#34; alt=&#34;GoogleDrive_Jpeg_2.PNG&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;参考にしたサイト&#34;&gt;参考にしたサイト&lt;/h2&gt;
&lt;p&gt;大変助かりました。&lt;/p&gt;
&lt;p&gt;*&lt;a href=&#34;https://github.com/jalmeroth/ESP8266-OAUTH2/blob/master/ESP8266-OAUTH2/ESP8266-OAUTH2.ino&#34;&gt;jalmeroth/ESP8266-OAUTH2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;a href=&#34;https://himakan.net/websites/how_to_google_oauth&#34;&gt;Google APIを使用するためにGoogle OAuth認証をしようよ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;a href=&#34;https://zudoh.com/trouble-shooting/google-oauth-expired&#34;&gt;時間が立つとGoogle APIのOAuth認証に失敗する&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;a href=&#34;http://indoor.lolipop.jp/IndoorCorgiElec/ESP-SensorCam.php&#34;&gt;ESP-SensorCam&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;まとめ&#34;&gt;まとめ&lt;/h2&gt;
&lt;p&gt;NefryBTから直接GoogleDriveにアクセスできたときは感動しました！こんな小さなボードがネットに繋がるなんて！&lt;/p&gt;
&lt;p&gt;またGmailやスプレッドシートなどの他のアプリケーションにもアクセスできると思います。面白い組み合わせがあるかもしれません。&lt;/p&gt;
&lt;p&gt;みなさんのIoTライフの参考になれば幸いです。ではでは。&lt;/p&gt;</description></item></channel></rss>