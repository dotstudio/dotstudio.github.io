<!doctype html><html lang=ja><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=初心者必見！NefryBTからGoogleDriveにデータをアップロードする方法を説明します。><meta name=author content="dotstudio Inc."><meta content=https://dotstud.io/img/blog/241/00_eyecatch.png><meta itemprop=name content="NefryBTからGoogleDriveにデータをアップロードする方法 | dotstudio"><meta itemprop=image content=https://dotstud.io/img/blog/241/00_eyecatch.png><meta property=og:title content="NefryBTからGoogleDriveにデータをアップロードする方法 | dotstudio"><meta property=og:locale content=ja_JP><meta property=og:type content=article><meta property=og:url content=https://dotstud.io/blog/update-nefrybt-to-googledrive/><meta property=og:site_name content=dotstudio（ドットスタジオ）><meta property=og:image content=https://dotstud.io/img/blog/241/00_eyecatch.png><meta property=og:image:secure_url content=https://dotstud.io/img/blog/241/00_eyecatch.png><meta property=og:description content=初心者必見！NefryBTからGoogleDriveにデータをアップロードする方法を説明します。><meta property=article:author content=https://www.facebook.com/dotstud10/><meta property=fb:app_id content=296336307370435><meta property=fb:pages content=1013196712108753><meta name=twitter:card content=summary_large_image><meta name=twitter:image:src content=https://dotstud.io/img/blog/241/00_eyecatch.png><meta name=twitter:site content=@dotstud_io><meta name=twitter:url content=https://dotstud.io/blog/update-nefrybt-to-googledrive/><meta name=twitter:description content=初心者必見！NefryBTからGoogleDriveにデータをアップロードする方法を説明します。><meta name=twitter:title content="NefryBTからGoogleDriveにデータをアップロードする方法 | dotstudio"><meta name=twitter:creator content=@dotstud_io><meta name=google-site-verification content=oW2fcSG1fFnkDoRCGFJ0IGGebtBr8FjV2twoFMd7Skc><title>NefryBTからGoogleDriveにデータをアップロードする方法 | dotstudio</title><link rel=stylesheet href=/css/loader.css><link rel=stylesheet href=/css/master.css><link rel=stylesheet href=/css/icon-font.css><link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel=stylesheet><link rel="shortcut icon" type=image/png href=/img/resources/favicon.png><link href=//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css rel=preload as=style onload="this.rel='stylesheet'"><link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel=preload as=style onload="this.rel='stylesheet'"><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel=preload as=style onload="this.rel='stylesheet'"><link href=/css/lib/hljs.css rel=preload as=style onload="this.rel='stylesheet'"><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-K5TRM9Q');</script><script async src=//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-5922216421588455",enable_page_level_ads:true});</script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K5TRM9Q" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript><div id=fb-root></div><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.8";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script><header><svg style="position:absolute;width:0;height:0;overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-arrow-right" viewBox="0 0 32 32"><title>arrow-right</title><path class="path1" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M5.143 5.143l10.349 10.349"/><path class="path2" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M5.143 26.857l10.349-10.349"/><path class="path3" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M16.571 26.857 26.92 16.508"/><path class="path4" fill="none" stroke="#000" stroke-width="4.5714" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M16.571 5.143 26.92 15.492"/></symbol><symbol id="icon-hamburger" viewBox="0 0 60 32"><title>hamburger</title><path class="path1" fill="none" stroke="gray" stroke-width="7.1111" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M3.556 3.556h53.333"/><path class="path2" fill="none" stroke="gray" stroke-width="7.1111" stroke-miterlimit="4" stroke-linecap="square" stroke-linejoin="miter" d="M3.556 28.444h53.333"/></symbol><symbol id="icon-logo-mark" viewBox="0 0 32 32"><title>logo-mark</title><path class="path1" d="M19.731 28.8H0v-19.699h19.731zM1.53 27.302h16.672v-16.672h-16.672z"/><path class="path2" d="M32 22.899h-19.731v-19.699H32zM13.798 21.37H30.47V4.698h-16.672z"/></symbol><symbol id="icon-social-facebook" viewBox="0 0 32 32"><title>social-facebook</title><path class="path1" d="M30.1.12h-28.46c-.974.011-1.76.804-1.76 1.78.0.0.0.0.0.0v28.46c0 .983.797 1.78 1.78 1.78h15.32v-12.4h-4.16v-4.82h4.16v-3.58c-.02-.179-.031-.386-.031-.596.0-3.203 2.597-5.8 5.8-5.8.152.0.302.006.45.017-.016-.001-.013-.001-.009-.001 1.3.0 2.582.073 3.844.214l-.155 4.286h-2.54c-2 0-2.36.96-2.36 2.36v3.1h4.76l-.62 4.8h-4.12v12.4h8.12c.983.0 1.78-.797 1.78-1.78v-28.44c0-.983-.797-1.78-1.78-1.78z"/></symbol><symbol id="icon-social-github" viewBox="0 0 32 32"><title>social-github</title><path class="path1" d="M16 .4c-.001.0-.002.0-.004.0-8.837.0-16 7.163-16 16 0 7.028 4.531 12.997 10.831 15.147.913.173 1.213-.307 1.213-.747s-.04-1.38-.04-2.8c-4.44 1.06-5.38-2-5.38-2-.308-.987-.937-1.798-1.763-2.33-1.477-1.01.103-.99.103-.99 1.055.144 1.941.76 2.451 1.624.607 1.039 1.701 1.715 2.953 1.715.6.0 1.164-.155 1.653-.428.062-.836.437-1.58 1.002-2.13-3.559-.401-7.279-1.781-7.279-8.001-.001-.032-.001-.069-.001-.106.0-1.621.624-3.096 1.645-4.198-.181-.526-.283-1.135-.283-1.769.0-.85.184-1.657.514-2.383s1.325-.404 4.385 1.676c1.199-.341 2.577-.537 4-.537s2.801.196 4.107.562c2.953-2.026 4.293-1.666 4.293-1.666.31.683.49 1.481.49 2.321.0.688-.121 1.348-.343 1.959 1.03 1.058 1.654 2.533 1.654 4.154.0.037.0.075-.001.112.0 6.134-3.74 7.494-7.3 7.894.685.69 1.108 1.641 1.108 2.69.0.088-.003.175-.009.261.001 2.128.001 3.848.001 4.368s.28.92 1.1.78c6.413-2.183 10.944-8.152 10.944-15.18.0-8.837-7.163-16-16-16-.015.0-.031.0-.046.0z"/></symbol><symbol id="icon-social-twitter" viewBox="0 0 32 32"><title>social-twitter</title><path class="path1" d="M10 29c.036.0.078.0.12.0 10.25.0 18.56-8.31 18.56-18.56.0-.042.0-.085.0-.127.0-.274.0-.554.0-.834 1.312-.959 2.414-2.113 3.289-3.431-1.07.454-2.347.82-3.686.984 1.293-.819 2.312-2.084 2.804-3.587-1.184.679-2.577 1.234-4.062 1.539-1.286-1.244-2.976-2.027-4.849-2.027-3.634.0-6.58 2.946-6.58 6.58.0.518.06 1.022.173 1.506-5.473-.309-10.286-2.887-13.523-6.813-.587.917-.919 2.059-.919 3.278.0 2.258 1.137 4.25 2.871 5.435-1.063-.025-2.07-.325-2.95-.822l.032.017c0 .027-.001.058-.001.09.0 3.163 2.239 5.803 5.218 6.423-.479.156-1.078.242-1.696.242-.432.0-.854-.042-1.263-.121.908 2.637 3.319 4.512 6.175 4.567-2.208 1.746-5.039 2.8-8.116 2.8-.013.0-.027.0-.04.0-.566-.018-1.104-.068-1.633-.149 2.897 1.868 6.353 2.984 10.068 3.009z"/></symbol></defs></svg><div class=header><span class=logo><a href=/><svg id="icon-logo"><use xlink:href="#icon-logo-mark"/></a></span><div class=menu><input type=checkbox id=menu-toggle>
<label for=menu-toggle class=label-toggle><svg class="icon-hamburger"><use xlink:href="#icon-hamburger"/></label></input><ul><li class=menu-item><a href=/blog>Blog</a></li><li class=menu-item><a href=/docs>Docs</a></li><li class=menu-item><a href=/shop>Shop</a></li><li class=menu-item><a href=/members>Members</a></li><li class=menu-item><a href=/service>Service</a></li><li class=menu-item><a href=/about>About</a></li></ul></div></div></header><ul class=categories><li><a href=/categories/try/ class=selected>やってみるIoT</a></li><li><a href=/categories/learn/>IoTを知ろう</a></li><li><a href=/categories/event/>イベントレポート</a></li><li><a href=/categories/tips/>Tips</a></li></ul><article class=blog-single><div class=date>2019.01.31</div><img class=blog-single--eyecatch src=/img/blog/241/00_eyecatch.png alt width=710px><h1 class=blog-single--title>NefryBTからGoogleDriveにデータをアップロードする方法</h1><div class=blog-single--information><a class=author href=/members/kuroda><img src=/img/members/kuroda/author.png alt class=author--avatar><p class=author--name>黒田</p></a><a class=series href=/series/nefrybt>Nefry BT</a></div><div id=fb-root></div><script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src='https://connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v3.1&appId=172686636611828&autoLogAppEvents=1';fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script><div class=share><a href=https://twitter.com/share class=twitter-share-button data-size=large data-show-count=true data-hashtags=dotstudio>Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','twitter-wjs');</script>&nbsp;<div class=fb-share-button data-href=https://dotstud.io/blog/update-nefrybt-to-googledrive/ data-layout=button_count data-size=large data-mobile-iframe=true><a target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdotstud.io%2Fblog%2Fmftokyo-2018-chantoku-report%2F&amp;src=sdkpreparse" class=fb-xfbml-parse-ignore>シェア</a></div>&nbsp;
<a href=https://dotstud.io/blog/update-nefrybt-to-googledrive/ class=hatena-bookmark-button data-hatena-bookmark-layout=basic-counter data-hatena-bookmark-height=30 title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style=border:none></a><script type=text/javascript src=https://b.st-hatena.com/js/bookmark_button.js async></script>
&nbsp;<div class=line-it-button data-lang=ja data-type=share-c data-url=https://dotstud.io/blog/update-nefrybt-to-googledrive/ style=display:none></div><script src=https://d.line-scdn.net/r/web/social-plugin/js/thirdparty/loader.min.js async defer></script></div><div class="blog-single--content markdown"><p>こんにちは、NefryBTきっかけでIoTの世界に入った<a href=/members/kuroda>黒田</a>と言います。Webとどう接していけばいいのか分からないときにNefryBTと出会い、意外と難しくない(何とかなる)ことを知りました。</p><p><a href=/members/wami>わみさん</a>、ありがとうございます。</p><p>今回は、NefryBTからGoogleDriveにデータをアップロード出来たので紹介したいと思います。</p><p>おそらく<strong>ESP32マイコン搭載モジュール</strong>であれば、同じ考えで出来ると思います。</p><h2 id=アップロードまでの手順>アップロードまでの手順</h2><ol><li>リフレッシュトークンなど必要な情報を取得する(最初の一度だけ)</li><li>リフレッシュトークンから認証用のアクセストークンを取得する</li><li>http POSTリクエストでデータをアップロードする</li></ol><p>はい、とてもシンプルです。</p><p><u>httpを全く分からない私としてはここまでたどり着くまでかなり苦労しました・・・先人の方々が様々な実績を残してくれているのを本当に感謝しています。)</u></p><p>もう少し詳しく説明します。</p><p><a href=https://developers.google.com/drive/api/v3/about-sdk>Google Drive REST APIのサイト</a>を読みますと、まずGoogleDriveへアクセスするには認証用のアクセストークンが必要なこと、データをアップロードするときの<a href=https://developers.google.com/drive/api/v3/multipart-upload>POSTリクエストの書き方</a>が決まっていることが分かります。</p><p>そのためアクセストークンで認証を行いつつPOSTリクエストを投げれば、NefryBTからでもデータをアップロード出来ます。</p><p>ここで一つ<strong>トラップ</strong>があります。
アクセストークンの有効期限は3600秒(1時間)です。当初これを知らなかったので、<u>時間が経つとなぜか認証エラーになる問題</u>に悩まされました。</p><p>回避策としてリフレッシュトークンからアクセストークンを取得するようにします。すると、アクセストークンが新しくなるので、認証もばっちり通ります。
つまり、<u>アクセストークンよりも再発行用のリフレッシュトークンが欲しい</u>のです。</p><p>ではでは、具体的な手順を説明していきたいと思います。</p><h3 id=手順1-リフレッシュトークンなど必要な情報を取得する-最初の一度だけ>[手順1] リフレッシュトークンなど必要な情報を取得する(最初の一度だけ)</h3><p>今回はNode.jsで取得します。</p><p>公式サイトの<a href=https://developers.google.com/drive/api/v3/quickstart/nodejs>Node.js Quickstart</a>に従って進めていきます。</p><p>公式サイトにある「ENABLE THE DRIVE API」を押します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/0ba2b731-7e29-2db2-7591-6ae56f1a7950.png alt=OAuth0.PNG></p><p>するとOAuth2.0クライアントIDを作ってくれます。
続けて「DOWNLOAD CLIENT CONFIGURATION」を押してcredentials.jsonを取得します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/d4efa193-e36c-2e83-81f5-590cf105894a.png alt=OAuth1.PNG></p><hr><p>(補足)
例えばcredentials.jsonを削除してしまって、もう一度取得したい場合・・・
Google Cloud PlatformのAPI認証情報からダウンロードできます。</p><p>左上のメニューを押して「APIとサービス」を押します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/b26bff46-0dea-afba-38cd-51cb6ba8eb68.png alt=OAuth2-1.PNG></p><p>認証情報の中に先ほど作成したクライアントIDがありますので、ダウンロードします。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/901be3e5-b947-c290-e641-8db7dd075dcf.png alt=OAuth2-2.PNG></p><p>※ファイル名は「client<em>secret</em>***.json」となっていますので「credentials.json」に変更します。</p><hr><p>次にNode.jsでアクセストークンなどの情報を取得します。(Node.jsやnpmが動く環境は用意されているものとします。)</p><ul><li>アクセストークンを取得するフォルダを用意して以下のモジュールをインストールします。</li></ul><pre><code>npm install googleapis@27 --save
</code></pre><ul><li>credentials.jsonも同じフォルダに移動させます。</li><li>index.jsを作成します。公式サイトのままではスコープがReadOnlyになっているのでアップロードできるスコープに変更します。それ以外は全く同じです。</li></ul><pre><code>[変更前]
const SCOPES = ['https://www.googleapis.com/auth/drive.metadata.readonly'];
[変更後]
const SCOPES = ['https://www.googleapis.com/auth/drive'];
</code></pre><p>スコープについて詳しくは<a href=https://developers.google.com/drive/api/v2/about-auth>About Authorization</a>を参照ください。</p><ul><li>準備は整ったのでNode.jsを実行します。</li></ul><p>１. credentials.json、index.jsなど一式入っているフォルダです。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/52fdf814-f643-1754-9a6c-2a6d9e3fe8bd.png alt=AccessToken_0.PNG></p><p>２. nodeを実行します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/1ce7b76c-988e-fd6f-c863-eef96b1fa4ac.png alt=AccessToken_1.PNG></p><p>３. URLが表示されるのでアクセスします。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/64852163-ae0f-6156-6d7d-fac9e90c7a27.png alt=AccessToken_2.PNG></p><p>４. 紐づけるGoogleアカウントを選択し、GoogleDriveへのアクセスを許可します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/dac52655-b356-073b-96bf-678c073897c1.png alt=AccessToken_3.PNG></p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/55cd28a0-da9b-e5ee-2b91-095030c96f37.png alt=AccessToken_4.PNG></p><p>５. 最後に表示されるコードを上記3.の続きに貼り付けます。
<img src=https://qiita-image-store.s3.amazonaws.com/0/237144/3fd64238-c27d-6412-23f9-d9754bec9ff9.png alt=AccessToken_5.PNG></p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/90f1683d-0731-25e9-e376-cdbb11156e2b.png alt=AccessToken_6.PNG></p><p>６.無事token.jsonを取得できました。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/7aa8a2bb-b2d0-f5d0-787c-6f142da997a8.png alt=AccessToken_7.PNG></p><h3 id=手順2-リフレッシュトークンから認証用のアクセストークンを取得する>[手順2] リフレッシュトークンから認証用のアクセストークンを取得する</h3><p>アップロードに必要な情報は揃ったので、あとはNefryBTだけ触っていきます。</p><p>リフレッシュトークンからアクセストークンを取得するhttp POSTリクエストは次の通りとなります。</p><pre><code>[ヘッダー]
POST /oauth2/v4/token HTTP/1.1
Host: www.googleapis.com:443
Connection: close
Content-Type: application/x-www-form-urlencoded
Content-Length: [POSTするデータの長さ]

[POSTするデータ]
refresh_token=[リフレッシュトークン]&amp;client_id=[クライアントID]&amp;client_secret=[クライアントシークレット]&amp;grant_type=refresh_token
</code></pre><ul><li>クライアントIDとクライアントシークレットは「credentials.json」に書いてあります。もしくはGoogle Cloud PlatformのAPIの認証情報でも確認できます。</li><li>リフレッシュトークンは「token.json」に書いてあります。<br></li></ul><p>POSTリクエストを投げるとレスポンスがjson形式で返ってきます。</p><pre><code>{
  &quot;access_token&quot;: &quot;***&quot;,
  &quot;expires_in&quot;: 3600,
  &quot;scope&quot;: &quot;https://www.googleapis.com/auth/drive&quot;,
  &quot;token_type&quot;: &quot;Bearer&quot;
}
</code></pre><p>access_token:***が取得したいアクセストークンになります。</p><hr><p>上記の内容をNefryBTで書くと次のようになります。</p><p>※<a href=https://github.com/NearMugi/NefrySample/tree/master/GoogleAPI/%23createLibrary/googleAPI/PostDrive>プログラムソース</a>のうち主要な部分を抜粋しています。</p><ul><li><p><strong>リフレッシュトークン・クライアントID・クライアントシークレットは個人情報なので、直接プログラムソースに記載するのではなくNefryBTのDataStoreに登録します。</strong></p></li><li><p>POSTするデータを設定します。</p></li></ul><pre><code>      String postData = &quot;&quot;;
      postData += &quot;refresh_token=&quot; + refresh_token;
      postData += &quot;&amp;client_id=&quot; + client_id;
      postData += &quot;&amp;client_secret=&quot; + client_secret;
      postData += &quot;&amp;grant_type=&quot; + String(&quot;refresh_token&quot;);
</code></pre><ul><li>ヘッダーを設定します。
データの長さはPOSTするデータ(postData)から算出します。</li></ul><pre><code>      String postHeader = &quot;&quot;;
      postHeader += (&quot;POST &quot; + token_uri + &quot; HTTP/1.1\r\n&quot;);
      postHeader += (&quot;Host: &quot; + String(host) + &quot;:&quot; + String(httpsPort) + &quot;\r\n&quot;);
      postHeader += (&quot;Connection: close\r\n&quot;);
      postHeader += (&quot;Content-Type: application/x-www-form-urlencoded\r\n&quot;);
      postHeader += (&quot;Content-Length: &quot;);
      postHeader += (postData.length());
      postHeader += (&quot;\r\n\r\n&quot;);
</code></pre><ul><li>POSTリクエストを投げてレスポンスを取得します。更にレスポンスからアクセストークンを取得します。</li></ul><pre><code>      String result = postRequest(host, postHeader, postData);

      //取得したjsonデータからAccessTokenを取得する
      const int BUFFER_SIZE = JSON_OBJECT_SIZE(4) + JSON_ARRAY_SIZE(1);
      StaticJsonBuffer&lt;BUFFER_SIZE&gt; jsonBuffer;
      char json[result.length() + 1];
      result.toCharArray(json, sizeof(json));
      JsonObject&amp; root = jsonBuffer.parseObject(json);

      const char* tmp = root[&quot;access_token&quot;];
      token = tmp;
      return token;
    }
</code></pre><ul><li>POSTリクエストを行っているソース(<code>postRequest</code>)です。正常に処理が終わればレスポンスを返します。</li></ul><pre><code>    String postRequest(const char* server, String header, String data) {

      String result = &quot;&quot;;

      // Use WiFiClientSecure class to create TLS connection
      WiFiClientSecure client;
      Serial.print(&quot;Connecting to: &quot;); Serial.println(server);

      if (!client.connect(server, httpsPort)) {
        Serial.println(&quot;connection failed&quot;);
        return result;
      }
      Serial.println(&quot;certificate matches&quot;);

      Serial.print(&quot;post: &quot;); Serial.println(header + data);
      client.print(header + data);

      Serial.println(&quot;Receiving response&quot;);
      if (client.connected()) {
        if (client.find(&quot;HTTP/1.1 &quot;)) {
          String status_code = client.readStringUntil('\r');
          Serial.print(&quot;Status code: &quot;); Serial.println(status_code);
          if (status_code != &quot;200 OK&quot;) {
            Serial.println(&quot;There was an error&quot;);
          }
        }
        if (client.find(&quot;\r\n\r\n&quot;)) {
          Serial.println(F(&quot;[Read Data]&quot;));
        }
        String line = client.readStringUntil('\r');
        Serial.println(line);
        result += line;
      }

      Serial.println(&quot;closing connection&quot;);
      return result;
    }
</code></pre><p>だいたいこんな感じで無事アクセストークンを取得できました。</p><h3 id=手順3-http-postリクエストでデータをアップロードする>[手順3] http POSTリクエストでデータをアップロードする</h3><p>いよいよデータをアップロードしてみます。今回はテキストファイルとJpegファイルのアップロード方法を紹介します。
公式サイトの<a href=https://developers.google.com/drive/api/v3/manage-uploads>Uploading Files</a>によりますと、アップロード方法は3パターンあります。</p><ul><li>Simple upload</li><li>Multipart upload</li><li>Resumable upload</li></ul><p>&ldquo;Simple upload&rdquo;の場合、アップロードしたファイル名は全て&rdquo;untitled&rdquo;となってしまい、具合がよろしくありません。
&ldquo;Multipart upload&rdquo;の場合、ファイルに様々な設定を付加できます。今回はファイル名・親フォルダの指定・コメントを設定しました。
(&ldquo;Resumable upload&rdquo;はどんなものか調べていません・・・)</p><p>Multipart uploadのPOSTリクエストは次の通りです。</p><pre><code>POST https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart HTTP/1.1
Authorization: Bearer [YOUR_AUTH_TOKEN]
Content-Type: multipart/related; boundary=foo_bar_baz
Content-Length: [NUMBER_OF_BYTES_IN_ENTIRE_REQUEST_BODY]

--foo_bar_baz
Content-Type: application/json; charset=UTF-8

{
  &quot;name&quot;: &quot;myObject&quot;
}

--foo_bar_baz
Content-Type: image/jpeg

[JPEG_DATA]
--foo_bar_baz--
</code></pre><ul><li>[YOUR_AUTH_TOKEN]はアクセストークンを設定します。</li><li>[NUMBER_OF_BYTES_IN_ENTIRE_REQUEST_BODY]は <strong>ヘッダーから最後のデータまですべてのサイズ</strong> となります。つまり最初のPOSTから最後の&ndash;foo_bar_baz&ndash;まで全てのサイズを設定します。これを間違えると正しくPOSTリクエストを投げることが出来ません。</li><li><code>&quot;name&quot;: &quot;myObject&quot;</code> の部分がアップロードするファイルの設定を記載する部分となります。
何を設定できるかは<a href=https://developers.google.com/drive/api/v3/reference/files>公式ページの&rdquo;Files&rdquo;</a>を参照ください。</li><li>その下の<code>Content-Type: image/jpeg</code> がアップロードするデータの形式となり、その次にデータの中身を記述していきます。</li><li>最後に<code>--foo_bar_baz--</code> で閉めます。</li></ul><p>まとめますと、プログラムを書くとき毎回設定しなければならないのは次の4つです。</p><ul><li>アクセストークン</li><li>POSTリクエスト全体のサイズ</li><li>ファイルの設定(ファイル名・親フォルダ・コメント)</li><li>ファイルの中身</li></ul><h2 id=テキストファイルをアップロードする>テキストファイルをアップロードする</h2><p>上記の仕様を踏まえてテキストファイルをアップロードする例を挙げます。この次に紹介するJpegファイルのアップロードと比べるとシンプルで分かりやすいと思います。</p><ol><li>POSTリクエストのファイルの指定周り(<code>--foo_bar_baz</code>部分)を設定します。</li><li>上記1.のあとPOSTリクエスト全体のサイズが分かるのでヘッダー(<code>POST https://</code>部分)を設定します。</li><li>上記1.と2.をPOSTします。</li><li>データの中身をPOSTします。</li><li>最後の&rsquo;&ndash;foo_bar_baz&ndash;&lsquo;をPOSTします。</li></ol><pre><code>    void postDrive_Text(String _fileName, String _textData,  String _comment) {
      uint8_t DataSize = _textData.length();
      uint8_t postData[DataSize];
      for (int i = 0; i &lt; DataSize; i++) {
        postData[i] = (uint8_t)_textData[i];
      }

1. POSTリクエストのファイルの指定周りを設定
      String start_request = getStartRequest_Text(_fileName, _comment);

2. ヘッダーを設定
      uint16_t full_length;
      full_length = start_request.length() + DataSize + end_request.length();
      String postHeader = getPostHeader(full_length);

      String result = &quot;&quot;;

      // Use WiFiClientSecure class to create TLS connection
      WiFiClientSecure client;

      if (!client.connect(host, httpsPort)) {
        Serial.println(&quot;connection failed&quot;);
        return ;
      }

3. 1.と2.をPOST
      client.print(postHeader + start_request);

4. データの中身をPOST
      client.write(&amp;postData[0] , DataSize);

5. --foo_bar_baz--をPOST
      client.println(end_request);


      if (client.connected()) {
        if (client.find(&quot;HTTP/1.1 &quot;)) {
          String status_code = client.readStringUntil('\r');
          Serial.print(&quot;Status code: &quot;); Serial.println(status_code);
          if (status_code != &quot;200 OK&quot;) {
            Serial.println(&quot;There was an error&quot;);
          }
        }

        if (client.find(&quot;\r\n\r\n&quot;)) {
          Serial.println(F(&quot;[Read Data]&quot;));
        } else {
          Serial.println(F(&quot;[WARNING] Response Data is Nothing&quot;));
        }

        String line = client.readStringUntil('\r');
        Serial.println(line);
        result += line;
      }
    }
</code></pre><h3 id=実際にテキストファイルをアップロードしている様子>実際にテキストファイルをアップロードしている様子</h3><p>１. アップロード先のフォルダを作成しておきます。親フォルダIDは「<code>https://drive.google.com/drive/folders/***</code>」の***の部分です。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/c32ed96f-9dc4-59cb-0eef-c1091b088397.png alt=GoogleDrive_Text_0.PNG></p><p>２. NefryBTのセットアップが完了するのを待ちます。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/699a3064-ec88-d560-2429-f5cab310ce9b.jpeg alt=DSC_0003.JPG></p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/3b5bc537-b82a-eb2e-a751-077817386f7e.jpeg alt=DSC_0005.JPG></p><p>３. セットアップが完了したらNefryBTについているボタンを押します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/cfafe65c-ebb7-d82c-e566-d47436cf7ee9.jpeg alt=DSC_0006.JPG></p><p>４. 成功しました！</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/97de4845-f602-0aa5-26ac-064cd47609be.jpeg alt=DSC_0007.JPG></p><p>５. GoogleDriveを見てみるとしっかりとアップロードされています！</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/72fae28e-6ac8-4fca-e940-265031c2c8cf.png alt=GoogleDrive_Text_1.PNG></p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/5b5cb82b-7dd1-d3e4-bf3b-bb60bfffdb1a.png alt=GoogleDrive_Text_2.PNG></p><h2 id=jpegファイルをアップロードする>Jpegファイルをアップロードする</h2><p>続いてJpegファイルをアップロードする方法です。<strong>ここからかなり込み入った内容になります。</strong>
今回JpegファイルにしてアップロードしたものはNefryBTに接続したカメラモジュールで撮った画像となります。そのためカメラモジュールの話とGoogleDriveへアップロードする話が混在しますのでご了承ください・・・</p><h3 id=カメラモジュールについて>カメラモジュールについて</h3><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/eeaaa02a-2c36-b131-aa32-eeacef9abb63.jpeg alt=ArduCAM.jpg></p><p>使用したカメラモジュールは<a href=https://www.switch-science.com/catalog/3780/>Arducam Miniモジュール(2メガピクセル)</a>です。ESP32向けのサンプルがあったので動かせるだろうと思って選びました。
(NefryBTのことを考えれば<a href=https://www.switch-science.com/catalog/1626/>Groveのカメラ</a>でも良かったとあとで気づきました・・・)</p><p>初期設定やカメラモジュールからデータを取得するところは<a href=https://github.com/NearMugi/NefrySample/tree/master/ArduCAM/OV2640>プログラムソース</a>を参照ください。</p><p>厄介なのは<strong>取得したデータ全てがJpegデータではない</strong>ことです。このカメラモジュールの場合、1バイト目に0x00が入っています。これ、要らないデータなのです。きちんとJpegファイルにあたるデータをアップロードしないと正しく表示されません。</p><p><a href=https://www.setsuki.com/hsp/ext/jpg.htm>Jpegファイル</a>は開始位置(0xFFD8)と終了位置(0xFFD9)が決まっています。この範囲のデータだけをアップロードすればJpegファイルとして正しく表示されます。</p><h3 id=プログラムのポイント>プログラムのポイント</h3><p>カメラモジュールの仕様を踏まえてアップロードします。</p><ul><li>Jpegファイルのデータサイズは何十万バイトと膨大なので全て変数に入れて一括でPOSTすることはできません。そのためデータを分割してカメラモジュールから取得、POSTを繰り返します。</li><li>POSTリクエスト全体のサイズとJpegファイルのサイズが異なるので、<strong>POSTリクエスト全体のサイズに足りない分を最後に0x00をPOSTする</strong>ことで整合性を合わせています。</li></ul><p>プログラムソースを抜粋します。</p><pre><code>// ReadSizeはカメラモジュールで取得したデータサイズ

  //GoogleDriveへポスト
  String start_request = api.getStartRequest_Jpeg(&quot;Capture&quot;, &quot;From ArduCam&quot;);
  String end_request = api.getEndRequest();
  uint32_t full_length;
  full_length = start_request.length() + ReadSize + end_request.length();
  String postHeader = api.getPostHeader(full_length);

(中略)

  client.print(postHeader + start_request);

  //JPEGデータ
  static const size_t bufferSize = 2048;
  static uint8_t buffer[bufferSize] = {0xFF};
  uint32_t index = 0;
  uint32_t sizeCnt = 0;
  uint8_t now = 0;
  uint8_t prev = 0;
  myCAM.CS_LOW();
  myCAM.set_fifo_burst();


カメラモジュールのデータをPOSTしている部分

  bool isHeader = false;
  while (ReadSize--) {
    prev = now;
    now = SPI.transfer(0x00);

    //ヘッダーを探す(0xFF,0xD8)
    if (!isHeader) {
      if (prev == 0xFF &amp;&amp; now == 0xD8) {
        Serial.println(F(&quot;JPEG First Data is Found&quot;));
        buffer[0] = 0xFF;
        buffer[1] = 0xD8;
        index = 2;
        sizeCnt = 2;
        isHeader = true;
      }
      continue;
    }

    //ヘッダーが見つかったあと
    sizeCnt++;

    // JPEGファイルの最後を検出したら終了(0xFF,0xD9)
    if (prev == 0xFF &amp;&amp; now == 0xD9) {
      Serial.println(F(&quot;JPEG Last Data is Found&quot;));
      buffer[index++] = now;
      client.write(&amp;buffer[0], index);
      myCAM.CS_HIGH();
      break;
    }

    if (index &lt; bufferSize) {
      buffer[index] = now;
      index++;

    } else {
      if (!client.connected()) break;
      client.write(&amp;buffer[0], bufferSize);
      index = 0;
      buffer[index++] = now;
    }

  }
  myCAM.CS_HIGH();
  ReadSize += 1;
  Serial.print(F(&quot;JPEG Data Size: &quot;)); Serial.println(sizeCnt);
  Serial.print(F(&quot;Remaining Data Size: &quot;)); Serial.println(ReadSize);

  client.println(end_request);


POSTリクエスト全体のサイズを調整している部分

  //バッファーメモリサイズと画像サイズが異なるため、full_lengthに達していない。
  //足りない分の帳尻を合わせる
  uint8_t tmpbuf[ReadSize] = {0x00};
  client.write(&amp;tmpbuf[0], ReadSize);

(以下、省略)
  }
</code></pre><h3 id=実際にjpegファイルをアップロードしている様子>実際にJpegファイルをアップロードしている様子</h3><p>１. アップロード先のフォルダはテキストファイルと同じところにします。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/2660eda8-1474-644d-fae2-bba8b87c502d.png alt=GoogleDrive_Jpeg_0.PNG></p><p>２. カメラで撮ってみます。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/c25e4a34-5b9c-44ff-3f78-b390c2c492de.jpeg alt=DSC_0015.JPG></p><p>３. NefryBTのセットアップが完了するのを待ちます。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/91963234-adc5-7317-654b-41dbd6b8b9ca.jpeg alt=DSC_0010.JPG>
<img src=https://qiita-image-store.s3.amazonaws.com/0/237144/a85255a7-e375-2d75-c7d0-4d126e66b60f.jpeg alt=DSC_0012.JPG></p><p>４. セットアップが完了したらNefryBTについているボタンを押します。</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/6e91d9ac-0e56-6df0-062b-2d158fd75b3e.jpeg alt=DSC_0013.JPG></p><p>５. 成功しました！</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/c7291283-ac2a-feb9-d924-9c23963058b1.jpeg alt=DSC_0014.JPG></p><p>６. GoogleDriveを見てみるとしっかりとアップロードされています！</p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/b9ed65c6-185b-a57c-1877-1bb079b2400f.png alt=GoogleDrive_Jpeg_1.PNG></p><p><img src=https://qiita-image-store.s3.amazonaws.com/0/237144/fac4420d-d91a-3849-f71c-b17ab86d842f.png alt=GoogleDrive_Jpeg_2.PNG></p><h2 id=参考にしたサイト>参考にしたサイト</h2><p>大変助かりました。</p><p>*<a href=https://github.com/jalmeroth/ESP8266-OAUTH2/blob/master/ESP8266-OAUTH2/ESP8266-OAUTH2.ino>jalmeroth/ESP8266-OAUTH2</a></p><p>*<a href=https://himakan.net/websites/how_to_google_oauth>Google APIを使用するためにGoogle OAuth認証をしようよ</a></p><p>*<a href=https://zudoh.com/trouble-shooting/google-oauth-expired>時間が立つとGoogle APIのOAuth認証に失敗する</a></p><p>*<a href=http://indoor.lolipop.jp/IndoorCorgiElec/ESP-SensorCam.php>ESP-SensorCam</a></p><h2 id=まとめ>まとめ</h2><p>NefryBTから直接GoogleDriveにアクセスできたときは感動しました！こんな小さなボードがネットに繋がるなんて！</p><p>またGmailやスプレッドシートなどの他のアプリケーションにもアクセスできると思います。面白い組み合わせがあるかもしれません。</p><p>みなさんのIoTライフの参考になれば幸いです。ではでは。</p></div><div class=share-foot><a href=https://twitter.com/share class=twitter-share-button data-size=large data-show-count=true data-hashtags=dotstudio>Tweet</a>
&nbsp;<div class=fb-share-button data-href=https://dotstud.io/blog/update-nefrybt-to-googledrive/ data-layout=button_count data-size=large data-mobile-iframe=true><a target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdotstud.io%2Fblog%2Fmftokyo-2018-chantoku-report%2F&amp;src=sdkpreparse" class=fb-xfbml-parse-ignore>シェア</a></div>&nbsp;
<a href=https://dotstud.io/blog/update-nefrybt-to-googledrive/ class=hatena-bookmark-button data-hatena-bookmark-layout=basic-counter data-hatena-bookmark-height=30 title=このエントリーをはてなブックマークに追加><img src=https://b.st-hatena.com/images/entry-button/button-only@2x.png alt=このエントリーをはてなブックマークに追加 width=20 height=20 style=border:none></a>
&nbsp;<div class=line-it-button data-lang=ja data-type=share-c data-url=https://dotstud.io/blog/update-nefrybt-to-googledrive/ style=display:none></div></div><nav class=related><h2>関連記事</h2><ul class=cards-related><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/pokio-esp-keikyu-chien2/><img class=card-related--thumbnail src=/img/blog/243/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【どんと来い、列車遅延】 勤怠メールをサクッと送れるオレオレツールを作ってみた</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/cloudflare-cache-clear-nodejs/><img class=card-related--thumbnail src=/img/blog/242/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>CloudflareのAPIをNode.js&#43;GitLab CIから実行してキャッシュクリアしてみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/gitlab-vuepress-custom-domain/><img class=card-related--thumbnail src=/img/blog/239/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>VuePressのブログをカスタムドメイン&#43;SSL対応させたGitLab Pagesにデプロイする</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/face-robot-making-basic2/><img class=card-related--thumbnail src=/img/blog/240/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Let&#39;s 顔面製造！第二弾！ 歌うサンタ顔面ロボットを作ろう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/arduino-nodejs-twitter-connect/><img class=card-related--thumbnail src=/img/blog/230/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>ArduinoでTwitter連携！愛しのぬいぐるみトンピーちゃんに命を吹き込んでみた</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/developed-iot-using-moddable/><img class=card-related--thumbnail src=/img/blog/237/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Moddable SDKを使ってJavaScriptでIoT開発してみた</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/handson-nefry-ma-kanazawa/><img class=card-related--thumbnail src=/img/blog/229/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【ハンズオン資料】NefryBTでハジメテノIoT開発やってみよう！</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/static-site-hosting-surge/><img class=card-related--thumbnail src=/img/blog/219/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>無料で手軽！コマンド一つで静的サイトホスティングできるSurgeを試してみた。</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefrybt-handson-pir-linebot/><img class=card-related--thumbnail src=/img/blog/215/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【ハンズオン資料】Nefry BTと人感センサで防犯LINE BOTを作ってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/control-solenoid-nefrybt-nodered/><img class=card-related--thumbnail src=/img/blog/214/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【ソレノイド詳細解説】IoTの力でスマホを振るとソレノイドがシュコシュコ動く仕組みを作ってみる</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/stepper-motor-nefrybt-control/><img class=card-related--thumbnail src=/img/blog/189/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【詳細解説】ステッピングモータの仕組みを理解しよう！解説とNefry BTでステッピングモータを使う方法</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefry-servo-handson-takudooon/><img class=card-related--thumbnail src=/img/blog/187/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>PWM制御をマスターしよう！Node-REDでサーボモータを遠隔制御する方法＆初ハンズオンレポート</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/clova-ifttt-nefrybt-arduino/><img class=card-related--thumbnail src=/img/blog/185/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>ClovaとNefryBT（ESP32）を連携させてみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/keyboard-kintai-system-diy/><img class=card-related--thumbnail src=/img/blog/183/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>NefryBTとキーボードで作る簡易勤怠管理システム</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/node-school-1-3/><img class=card-related--thumbnail src=/img/blog/157/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>NodeSchoolでNode.jsの学習を始めよう！#2 - 問題1〜3の解答と解説</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/node-school-before-learn/><img class=card-related--thumbnail src=/img/blog/156/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>NodeSchoolでNode.jsの学習を始めよう！インストール手順から基本操作までステップ別解説</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/how-to-use-cli/><img class=card-related--thumbnail src=/img/blog/158/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>【Mac向け】「黒い画面」の苦手意識を克服しよう！コマンドラインインタフェースの基本操作</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefrybt-motor-watering-system/><img class=card-related--thumbnail src=/img/blog/148/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>自動水やり装置を作ろう！Nefry BTとGroveモジュールでズボラのための電子工作</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/gmail-api-from-nodejs/><img class=card-related--thumbnail src=/img/blog/150/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Google公式ライブラリを利用してNode.jsからGmailの送受信をしてみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/mongoose-os-nefry-blink/><img class=card-related--thumbnail src=/img/blog/145/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>JavaScriptで開発できる！Mongoose OSでNefry BTをLチカしよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefrybt-ble-bluetooth-peripheral/><img class=card-related--thumbnail src=/img/blog/143/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Nefry BT（ESP32）からBLEでNode.jsにデータを送ってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefry-bt-connect-mqtt/><img class=card-related--thumbnail src=/img/blog/141/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Nefry BT（ESP32）でMQTTを使ってみよう Subscribe編</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-install-use-nodebrew/><img class=card-related--thumbnail src=/img/blog/136/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsを始めよう！nodebrewを使って5分で環境構築</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/google-spreadsheets-from-nodejs/><img class=card-related--thumbnail src=/img/blog/135/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsでGoogle SpreadSheetsを操作してみよう。【GAS不使用】</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/hexo-static-site-vol3/><img class=card-related--thumbnail src=/img/blog/108/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.js製の静的サイトジェネレータ「Hexo」で無料ブログ開発 vol.3</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/linedevday-report-2017-gatebox/><img class=card-related--thumbnail src=/img/blog/128/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>#linedevday 2017レポート！ Clova連携で期待のGateboxの技術話を聞いてみたよ</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefrybt-pepper-monitoring-system/><img class=card-related--thumbnail src=/img/blog/127/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsとNefry BTで監視システムを作ろう！ for Pepper #iotlt</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/hexo-static-site-vol2/><img class=card-related--thumbnail src=/img/blog/107/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.js製の静的サイトジェネレータ「Hexo」で無料ブログ開発 vol.2</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/hexo-static-site-vol1/><img class=card-related--thumbnail src=/img/blog/105/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.js製の静的サイトジェネレータ「Hexo」で無料ブログ開発 vol.1</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nefry-ifttt-push-line/><img class=card-related--thumbnail src=/img/blog/100/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Nefry BTとIFTTTでスイッチを押したらLINEを送る仕組みを作ってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/operate-mysql-from-nodejs/><img class=card-related--thumbnail src=/img/blog/068/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsアプリケーションからMySQLにアクセスする</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-npm-chokidar-fswatch/><img class=card-related--thumbnail src=/img/blog/035/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsでファイル監視を行うchokidarを使ってみよう</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-hosting-services-2016/><img class=card-related--thumbnail src=/img/blog/061/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>2016年12月版　Node.jsをホスティング出来るPaaSまとめ</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodejs-npm-readline-sync/><img class=card-related--thumbnail src=/img/blog/024/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Node.jsでコマンドラインツール作るときに使いやすいreadline-sync</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/pepper-pokemon-go-notice/><img class=card-related--thumbnail src=/img/blog/017/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>Pokemon GOで近くにポケモンが出たらPepperが教えてくれる仕組みをNode.jsだけで作る</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodebots-kit-guide-vol1/><img class=card-related--thumbnail src=/img/blog/004/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>史上初!? NodeBotsの日本向けキットを作成しました！ #nodebots</h3></a></article></li><li class=js-items><article class=card-related><a href=https://dotstud.io/blog/nodebots-handson-report-vol2/><img class=card-related--thumbnail src=/img/blog/003/00_thumbnail.png alt=サムネイル><h3 class=card-related--title>今週末はInternational NodeBots Dayですよ！( #NodeBots vol2のイベレポと次回告知 )</h3></a></article></li></ul></nav></article><footer class=footer><p class=footer-info><a class=footer-info--item href=/about>会社概要</a>
<a class=footer-info--item href=/members>メンバー</a>
<a class=footer-info--item href=/recruit>採用情報</a>
<a class=footer-info--item href=/legal#tos>利用規約</a>
<a class=footer-info--item href=/legal#sct>特定商取引</a>
<a class=footer-info--item href=/legal#pp>プライバシーポリシー</a></p><p class=footer-cr>© 2018 dotstudio inc.</p></footer><script src=/js/jquery.min.js></script><script src=/js/app.js></script><script src=/js/lib/hljs.js></script><script src=/js/lib/hljs-numbers.js></script><script>hljs.initHighlightingOnLoad();hljs.initLineNumbersOnLoad();</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-78080011-1','auto');ga('send','pageview');</script></body>